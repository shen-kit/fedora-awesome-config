[{"name":"1x1.gif","aliases":["1x1-transparent.gif"],"kind":{"mime":"image/gif"},"content":"R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},{"name":"2x2.png","aliases":["2x2-transparent.png"],"kind":{"mime":"image/png"},"content":"iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAC0lEQVQI12NgQAcAABIAAe+JVKQAAAAASUVORK5CYII="},{"name":"3x2.png","aliases":["3x2-transparent.png"],"kind":{"mime":"image/png"},"content":"iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAC0lEQVQI12NgwAUAABoAASRETuUAAAAASUVORK5CYII="},{"name":"32x32.png","aliases":["32x32-transparent.png"],"kind":{"mime":"image/png"},"content":"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGklEQVRYw+3BAQEAAACCIP+vbkhAAQAAAO8GECAAAZf3V9cAAAAASUVORK5CYII="},{"name":"addthis_widget.js","aliases":["addthis.com/addthis_widget.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICB3aW5kb3cuYWRkdGhpcyA9IHsKICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBub29wZm4sCiAgICAgICAgYnV0dG9uOiBub29wZm4sCiAgICAgICAgY291bnRlcjogbm9vcGZuLAogICAgICAgIGluaXQ6IG5vb3BmbiwKICAgICAgICBsYXllcnM6IG5vb3BmbiwKICAgICAgICByZWFkeTogbm9vcGZuLAogICAgICAgIHNoYXJlY291bnRlcnM6IHsKICAgICAgICAgICAgZ2V0U2hhcmVDb3VudHM6IG5vb3BmbgogICAgICAgIH0sCiAgICAgICAgdG9vbGJveDogbm9vcGZuLAogICAgICAgIHVwZGF0ZTogbm9vcGZuCiAgICB9Owp9KSgpOwo="},{"name":"amazon_ads.js","aliases":["amazon-adsystem.com/aax2/amzn_ads.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBpZiAoIGFtem5hZHMgKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIHcgPSB3aW5kb3c7CiAgICB2YXIgbm9vcGZuID0gZnVuY3Rpb24oKSB7CiAgICAgICAgOwogICAgfS5iaW5kKCk7CiAgICB2YXIgYW16bmFkcyA9IHsKICAgICAgICBhcHBlbmRTY3JpcHRUYWc6IG5vb3BmbiwKICAgICAgICBhcHBlbmRUYXJnZXRpbmdUb0FkU2VydmVyVXJsOiBub29wZm4sCiAgICAgICAgYXBwZW5kVGFyZ2V0aW5nVG9RdWVyeVN0cmluZzogbm9vcGZuLAogICAgICAgIGNsZWFyVGFyZ2V0aW5nRnJvbUdQVEFzeW5jOiBub29wZm4sCiAgICAgICAgZG9BbGxUYXNrczogbm9vcGZuLAogICAgICAgIGRvR2V0QWRzQXN5bmM6IG5vb3BmbiwKICAgICAgICBkb1Rhc2s6IG5vb3BmbiwKICAgICAgICBkZXRlY3RJZnJhbWVBbmRHZXRVUkw6IG5vb3BmbiwKICAgICAgICBnZXRBZHM6IG5vb3BmbiwKICAgICAgICBnZXRBZHNBc3luYzogbm9vcGZuLAogICAgICAgIGdldEFkRm9yU2xvdDogbm9vcGZuLAogICAgICAgIGdldEFkc0NhbGxiYWNrOiBub29wZm4sCiAgICAgICAgZ2V0RGlzcGxheUFkczogbm9vcGZuLAogICAgICAgIGdldERpc3BsYXlBZHNBc3luYzogbm9vcGZuLAogICAgICAgIGdldERpc3BsYXlBZHNDYWxsYmFjazogbm9vcGZuLAogICAgICAgIGdldEtleXM6IG5vb3BmbiwKICAgICAgICBnZXRSZWZlcnJlclVSTDogbm9vcGZuLAogICAgICAgIGdldFNjcmlwdFNvdXJjZTogbm9vcGZuLAogICAgICAgIGdldFRhcmdldGluZzogbm9vcGZuLAogICAgICAgIGdldFRva2Vuczogbm9vcGZuLAogICAgICAgIGdldFZhbGlkTWlsbGlzZWNvbmRzOiBub29wZm4sCiAgICAgICAgZ2V0VmlkZW9BZHM6IG5vb3BmbiwKICAgICAgICBnZXRWaWRlb0Fkc0FzeW5jOiBub29wZm4sCiAgICAgICAgZ2V0VmlkZW9BZHNDYWxsYmFjazogbm9vcGZuLAogICAgICAgIGhhbmRsZUNhbGxCYWNrOiBub29wZm4sCiAgICAgICAgaGFzQWRzOiBub29wZm4sCiAgICAgICAgcmVuZGVyQWQ6IG5vb3BmbiwKICAgICAgICBzYXZlQWRzOiBub29wZm4sCiAgICAgICAgc2V0VGFyZ2V0aW5nOiBub29wZm4sCiAgICAgICAgc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM6IG5vb3BmbiwKICAgICAgICBzZXRUYXJnZXRpbmdGb3JHUFRTeW5jOiBub29wZm4sCiAgICAgICAgdHJ5R2V0QWRzQXN5bmM6IG5vb3BmbiwKICAgICAgICB1cGRhdGVBZHM6IG5vb3BmbgogICAgfTsKICAgIHcuYW16bmFkcyA9IGFtem5hZHM7CiAgICB3LmFtem5fYWRzID0gdy5hbXpuX2FkcyB8fCBub29wZm47CiAgICB3LmFheF93cml0ZSA9IHcuYWF4X3dyaXRlIHx8IG5vb3BmbjsKICAgIHcuYWF4X3JlbmRlcl9hZCA9IHcuYWF4X3JlbmRlcl9hZCB8fCBub29wZm47Cn0pKCk7Cg=="},{"name":"amazon_apstag.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgovLyBodHRwczovL3d3dy5yZWRkaXQuY29tL3IvdUJsb2NrT3JpZ2luL2NvbW1lbnRzL2doanFwaC8KLy8gaHR0cHM6Ly9naXRodWIuY29tL05hbm9NZW93L1F1aWNrUmVwb3J0cy9pc3N1ZXMvMzcxNwovLyBodHRwczovL3d3dy5yZWRkaXQuY29tL3IvdUJsb2NrT3JpZ2luL2NvbW1lbnRzL3F5eDdlbi8KCi8vIGh0dHBzOi8vc2VhcmNoZm94Lm9yZy9tb3ppbGxhLWNlbnRyYWwvc291cmNlL2Jyb3dzZXIvZXh0ZW5zaW9ucy93ZWJjb21wYXQvc2hpbXMvYXBzdGFnLmpzCi8vICAgSW1wb3J0IHF1ZXVlLXJlbGF0ZWQgaW5pdGlhbGl6YXRpb24gY29kZS4KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnN0IHcgPSB3aW5kb3c7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgICAgICA7IC8vIGpzaGludCBpZ25vcmU6bGluZQogICAgfS5iaW5kKCk7CiAgICBjb25zdCBfUSA9IHcuYXBzdGFnICYmIHcuYXBzdGFnLl9RIHx8IFtdOwogICAgY29uc3QgYXBzdGFnID0gewogICAgICAgIF9RLAogICAgICAgIGZldGNoQmlkczogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICBpZiAoIHR5cGVvZiBiID09PSAnZnVuY3Rpb24nICkgewogICAgICAgICAgICAgICAgYihbXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluaXQ6IG5vb3BmbiwKICAgICAgICBzZXREaXNwbGF5Qmlkczogbm9vcGZuLAogICAgICAgIHRhcmdldGluZ0tleXM6IG5vb3BmbiwKICAgIH07CiAgICB3LmFwc3RhZyA9IGFwc3RhZzsKICAgIF9RLnB1c2ggPSBmdW5jdGlvbihwcmVmaXgsIGFyZ3MpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBzd2l0Y2ggKHByZWZpeCkgewogICAgICAgICAgICBjYXNlICdmJzoKICAgICAgICAgICAgICAgIGFwc3RhZy5mZXRjaEJpZHMoLi4uYXJncyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS50cmFjZShlKTsKICAgICAgICB9CiAgICB9OwogICAgZm9yICggY29uc3QgY21kIG9mIF9RICkgewogICAgICAgIF9RLnB1c2goY21kKTsKICAgIH0KfSkoKTsK"},{"name":"ampproject_v0.js","aliases":["ampproject.org/v0.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuaGVhZDsKICAgIGlmICggIWhlYWQgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudGV4dENvbnRlbnQgPSBbCiAgICAgICAgJ2JvZHkgeycsCiAgICAgICAgJyAgYW5pbWF0aW9uOiBub25lICFpbXBvcnRhbnQ7JywKICAgICAgICAnICBvdmVyZmxvdzogdW5zZXQgIWltcG9ydGFudDsnLAogICAgICAgICd9JwogICAgXS5qb2luKCdcbicpOwogICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7Cn0pKCk7Cg=="},{"name":"chartbeat.js","aliases":["static.chartbeat.com/chartbeat.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICB3aW5kb3cucFNVUEVSRkxZID0gewogICAgICAgIGFjdGl2aXR5OiBub29wZm4sCiAgICAgICAgdmlydHVhbFBhZ2U6IG5vb3BmbgogICAgfTsKfSkoKTsK"},{"name":"doubleclick_instream_ad_status.js","aliases":["doubleclick.net/instream/ad_status.js"],"kind":{"mime":"application/javascript"},"content":"d2luZG93Lmdvb2dsZV9hZF9zdGF0dXMgPSAxOwo="},{"name":"empty","aliases":[],"kind":{"mime":"application/octet-stream"},"content":""},{"name":"fingerprint2.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxNC1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgovLyBSZWZlcmVuY2U6Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maW5nZXJwcmludGpzL2ZpbmdlcnByaW50anMvdHJlZS92MgoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29uc3QgaGV4MzIgPSBsZW4gPT4gewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikKICAgICAgICAgICAgLnRvU3RyaW5nKDE2KQogICAgICAgICAgICAuc2xpY2UoLWxlbikKICAgICAgICAgICAgLnBhZFN0YXJ0KGxlbiwgJzAnKTsKICAgIH07CiAgICBjb25zdCBicm93c2VySWQgPSBgJHtoZXgzMig4KX0ke2hleDMyKDgpfSR7aGV4MzIoOCl9JHtoZXgzMig4KX1gOwogICAgY29uc3QgZnAyID0gZnVuY3Rpb24oKXt9OwogICAgZnAyLmdldCA9IGZ1bmN0aW9uKG9wdHMsIGNiKSB7CiAgICAgICAgaWYgKCAhY2IgICkgeyBjYiA9IG9wdHM7IH0KICAgICAgICBzZXRUaW1lb3V0KCggKSA9PiB7IGNiKFtdKTsgfSwgMSk7CiAgICB9OwogICAgZnAyLmdldFByb21pc2UgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTsKICAgIH07CiAgICBmcDIuZ2V0VjE4ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGJyb3dzZXJJZDsKICAgIH07CiAgICBmcDIueDY0aGFzaDEyOCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBicm93c2VySWQ7CiAgICB9OwogICAgZnAyLnByb3RvdHlwZSA9IHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uKG9wdHMsIGNiKSB7CiAgICAgICAgICAgIGlmICggIWNiICApIHsgY2IgPSBvcHRzOyB9CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCApID0+IHsgY2IoYnJvd3NlcklkLCBbXSk7IH0sIDEpOwogICAgICAgIH0sCiAgICB9OwogICAgc2VsZi5GaW5nZXJwcmludDIgPSBmcDI7Cn0pKCk7Cg=="},{"name":"fingerprint3.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAyMi1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCB2aXNpdG9ySWQgPSAoKCApID0+IHsKICAgICAgICBsZXQgaWQgPSAnJzsKICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCA4OyBpKysgKSB7CiAgICAgICAgICAgIGlkICs9IChNYXRoLnJhbmRvbSgpICogMHgxMDAwMCArIDB4MTAwMCB8IDApLnRvU3RyaW5nKDE2KS5zbGljZSgtNCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpZDsKICAgIH0pKCk7CiAgICBjb25zdCBGaW5nZXJwcmludEpTID0gY2xhc3MgewogICAgICAgIHN0YXRpYyBoYXNoQ29tcG9uZW50cygpIHsKICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3JJZDsKICAgICAgICB9CiAgICAgICAgc3RhdGljIGxvYWQoKSB7CiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEZpbmdlcnByaW50SlMoKSk7CiAgICAgICAgfQogICAgICAgIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7CiAgICAgICAgICAgICAgICB2aXNpdG9ySWQsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB3aW5kb3cuRmluZ2VycHJpbnRKUyA9IEZpbmdlcnByaW50SlM7Cn0pKCk7Cg=="},{"name":"google-analytics_analytics.js","aliases":["google-analytics.com/analytics.js","googletagmanager_gtm.js","googletagmanager.com/gtm.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvCiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICAvLwogICAgY29uc3QgVHJhY2tlciA9IGZ1bmN0aW9uKCkgewogICAgfTsKICAgIGNvbnN0IHAgPSBUcmFja2VyLnByb3RvdHlwZTsKICAgIHAuZ2V0ID0gbm9vcGZuOwogICAgcC5zZXQgPSBub29wZm47CiAgICBwLnNlbmQgPSBub29wZm47CiAgICAvLwogICAgY29uc3QgdyA9IHdpbmRvdzsKICAgIGNvbnN0IGdhTmFtZSA9IHcuR29vZ2xlQW5hbHl0aWNzT2JqZWN0IHx8ICdnYSc7CiAgICBjb25zdCBnYVF1ZXVlID0gd1tnYU5hbWVdOwogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VCbG9ja09yaWdpbi91QXNzZXRzL3B1bGwvNDExNQogICAgY29uc3QgZ2EgPSBmdW5jdGlvbigpIHsKICAgICAgICBjb25zdCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOwogICAgICAgIGlmICggbGVuID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpOwogICAgICAgIGxldCBmbjsKICAgICAgICBsZXQgYSA9IGFyZ3NbbGVuLTFdOwogICAgICAgIGlmICggYSBpbnN0YW5jZW9mIE9iamVjdCAmJiBhLmhpdENhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIGZuID0gYS5oaXRDYWxsYmFjazsKICAgICAgICB9IGVsc2UgaWYgKCBhIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIGZuID0gKCApID0+IHsgYShnYS5jcmVhdGUoKSk7IH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgcG9zID0gYXJncy5pbmRleE9mKCdoaXRDYWxsYmFjaycpOwogICAgICAgICAgICBpZiAoIHBvcyAhPT0gLTEgJiYgYXJnc1twb3MrMV0gaW5zdGFuY2VvZiBGdW5jdGlvbiApIHsKICAgICAgICAgICAgICAgIGZuID0gYXJnc1twb3MrMV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCBmbiBpbnN0YW5jZW9mIEZ1bmN0aW9uID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm4oKTsKICAgICAgICB9IGNhdGNoIChleCkgewogICAgICAgIH0KICAgIH07CiAgICBnYS5jcmVhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFRyYWNrZXIoKTsKICAgIH07CiAgICBnYS5nZXRCeU5hbWUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFRyYWNrZXIoKTsKICAgIH07CiAgICBnYS5nZXRBbGwgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gW25ldyBUcmFja2VyKCldOwogICAgfTsKICAgIGdhLnJlbW92ZSA9IG5vb3BmbjsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91QmxvY2tPcmlnaW4vdUFzc2V0cy9pc3N1ZXMvMjEwNwogICAgZ2EubG9hZGVkID0gdHJ1ZTsKICAgIHdbZ2FOYW1lXSA9IGdhOwogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrL2lzc3Vlcy8zMDc1CiAgICBjb25zdCBkbCA9IHcuZGF0YUxheWVyOwogICAgaWYgKCBkbCBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICBpZiAoIGRsLmhpZGUgaW5zdGFuY2VvZiBPYmplY3QgJiYgdHlwZW9mIGRsLmhpZGUuZW5kID09PSAnZnVuY3Rpb24nICkgewogICAgICAgICAgICBkbC5oaWRlLmVuZCgpOwogICAgICAgICAgICBkbC5oaWRlLmVuZCA9ICgpPT57fTsKICAgICAgICB9CiAgICAgICAgaWYgKCB0eXBlb2YgZGwucHVzaCA9PT0gJ2Z1bmN0aW9uJyApIHsKICAgICAgICAgICAgY29uc3QgZG9DYWxsYmFjayA9IGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICggaXRlbSBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgaXRlbS5ldmVudENhbGxiYWNrICE9PSAnZnVuY3Rpb24nICkgeyByZXR1cm47IH0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoaXRlbS5ldmVudENhbGxiYWNrLCAxKTsKICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnRDYWxsYmFjayA9ICgpPT57fTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZGwucHVzaCA9IG5ldyBQcm94eShkbC5wdXNoLCB7CiAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgICAgICAgICAgZG9DYWxsYmFjayhhcmdzWzBdKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KGRsKSApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHEgPSBkbC5zbGljZSgpOwogICAgICAgICAgICAgICAgZm9yICggY29uc3QgaXRlbSBvZiBxICkgewogICAgICAgICAgICAgICAgICAgIGRvQ2FsbGJhY2soaXRlbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAvLyBlbXB0eSBnYSBxdWV1ZQogICAgaWYgKCBnYVF1ZXVlIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgQXJyYXkuaXNBcnJheShnYVF1ZXVlLnEpICkgewogICAgICAgIGNvbnN0IHEgPSBnYVF1ZXVlLnEuc2xpY2UoKTsKICAgICAgICBnYVF1ZXVlLnEubGVuZ3RoID0gMDsKICAgICAgICBmb3IgKCBjb25zdCBlbnRyeSBvZiBxICkgewogICAgICAgICAgICBnYSguLi5lbnRyeSk7CiAgICAgICAgfQogICAgfQp9KSgpOwo="},{"name":"google-analytics_cx_api.js","aliases":["google-analytics.com/cx/api.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICB3aW5kb3cuY3hBcGkgPSB7CiAgICAgICAgY2hvb3NlVmFyaWF0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICBnZXRDaG9zZW5WYXJpYXRpb246IG5vb3BmbiwKICAgICAgICBzZXRBbGxvd0hhc2g6IG5vb3BmbiwKICAgICAgICBzZXRDaG9zZW5WYXJpYXRpb246IG5vb3BmbiwKICAgICAgICBzZXRDb29raWVQYXRoOiBub29wZm4sCiAgICAgICAgc2V0RG9tYWluTmFtZTogbm9vcGZuCiAgICAgICAgfTsKfSkoKTsK"},{"name":"google-analytics_ga.js","aliases":["google-analytics.com/ga.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICAvLwogICAgY29uc3QgR2FxID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgR2FxLnByb3RvdHlwZS5OYSA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUuTyA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUuU2EgPSBub29wZm47CiAgICBHYXEucHJvdG90eXBlLlRhID0gbm9vcGZuOwogICAgR2FxLnByb3RvdHlwZS5WYSA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUuX2NyZWF0ZUFzeW5jVHJhY2tlciA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUuX2dldEFzeW5jVHJhY2tlciA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUuX2dldFBsdWdpbiA9IG5vb3BmbjsKICAgIEdhcS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGEpIHsKICAgICAgICBpZiAoIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nICkgewogICAgICAgICAgICBhKCk7IHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KGEpID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhanMvbWV0aG9kcy9nYUpTQXBpRG9tYWluRGlyZWN0b3J5I19nYXQuR0FfVHJhY2tlcl8uX2xpbmsKICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdUJsb2NrT3JpZ2luL3VCbG9jay1pc3N1ZXMvaXNzdWVzLzE4MDcKICAgICAgICBpZiAoCiAgICAgICAgICAgIHR5cGVvZiBhWzBdID09PSAnc3RyaW5nJyAmJgogICAgICAgICAgICAvKF58XC4pX2xpbmskLy50ZXN0KGFbMF0pICYmCiAgICAgICAgICAgIHR5cGVvZiBhWzFdID09PSAnc3RyaW5nJwogICAgICAgICkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihhWzFdKTsKICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nb3JoaWxsL3VCbG9jay9pc3N1ZXMvMjE2MgogICAgICAgIGlmICggYVswXSA9PT0gJ19zZXQnICYmIGFbMV0gPT09ICdoaXRDYWxsYmFjaycgJiYgdHlwZW9mIGFbMl0gPT09ICdmdW5jdGlvbicgKSB7CiAgICAgICAgICAgIGFbMl0oKTsKICAgICAgICB9CiAgICB9OwogICAgLy8KICAgIGNvbnN0IHRyYWNrZXIgPSAoZnVuY3Rpb24oKSB7CiAgICAgICAgY29uc3Qgb3V0ID0ge307CiAgICAgICAgY29uc3QgYXBpID0gWwogICAgICAgICAgICAnX2FkZElnbm9yZWRPcmdhbmljIF9hZGRJZ25vcmVkUmVmIF9hZGRJdGVtIF9hZGRPcmdhbmljJywKICAgICAgICAgICAgJ19hZGRUcmFucyBfY2xlYXJJZ25vcmVkT3JnYW5pYyBfY2xlYXJJZ25vcmVkUmVmIF9jbGVhck9yZ2FuaWMnLAogICAgICAgICAgICAnX2Nvb2tpZVBhdGhDb3B5IF9kZWxldGVDdXN0b21WYXIgX2dldE5hbWUgX3NldEFjY291bnQnLAogICAgICAgICAgICAnX2dldEFjY291bnQgX2dldENsaWVudEluZm8gX2dldERldGVjdEZsYXNoIF9nZXREZXRlY3RUaXRsZScsCiAgICAgICAgICAgICdfZ2V0TGlua2VyVXJsIF9nZXRMb2NhbEdpZlBhdGggX2dldFNlcnZpY2VNb2RlIF9nZXRWZXJzaW9uJywKICAgICAgICAgICAgJ19nZXRWaXNpdG9yQ3VzdG9tVmFyIF9pbml0RGF0YSBfbGlua0J5UG9zdCcsCiAgICAgICAgICAgICdfc2V0QWxsb3dBbmNob3IgX3NldEFsbG93SGFzaCBfc2V0QWxsb3dMaW5rZXIgX3NldENhbXBDb250ZW50S2V5JywKICAgICAgICAgICAgJ19zZXRDYW1wTWVkaXVtS2V5IF9zZXRDYW1wTmFtZUtleSBfc2V0Q2FtcE5PS2V5IF9zZXRDYW1wU291cmNlS2V5JywKICAgICAgICAgICAgJ19zZXRDYW1wVGVybUtleSBfc2V0Q2FtcGFpZ25Db29raWVUaW1lb3V0IF9zZXRDYW1wYWlnblRyYWNrIF9zZXRDbGllbnRJbmZvJywKICAgICAgICAgICAgJ19zZXRDb29raWVQYXRoIF9zZXRDb29raWVQZXJzaXN0ZW5jZSBfc2V0Q29va2llVGltZW91dCBfc2V0Q3VzdG9tVmFyJywKICAgICAgICAgICAgJ19zZXREZXRlY3RGbGFzaCBfc2V0RGV0ZWN0VGl0bGUgX3NldERvbWFpbk5hbWUgX3NldExvY2FsR2lmUGF0aCcsCiAgICAgICAgICAgICdfc2V0TG9jYWxSZW1vdGVTZXJ2ZXJNb2RlIF9zZXRMb2NhbFNlcnZlck1vZGUgX3NldFJlZmVycmVyT3ZlcnJpZGUgX3NldFJlbW90ZVNlcnZlck1vZGUnLAogICAgICAgICAgICAnX3NldFNhbXBsZVJhdGUgX3NldFNlc3Npb25UaW1lb3V0IF9zZXRTaXRlU3BlZWRTYW1wbGVSYXRlIF9zZXRTZXNzaW9uQ29va2llVGltZW91dCcsCiAgICAgICAgICAgICdfc2V0VmFyIF9zZXRWaXNpdG9yQ29va2llVGltZW91dCBfdHJhY2tFdmVudCBfdHJhY2tQYWdlTG9hZFRpbWUnLAogICAgICAgICAgICAnX3RyYWNrUGFnZXZpZXcgX3RyYWNrU29jaWFsIF90cmFja1RpbWluZyBfdHJhY2tUcmFucycsCiAgICAgICAgICAgICdfdmlzaXRDb2RlJwogICAgICAgIF0uam9pbignICcpLnNwbGl0KC9ccysvKTsKICAgICAgICBmb3IgKCBjb25zdCBtZXRob2Qgb2YgYXBpICkgewogICAgICAgICAgICBvdXRbbWV0aG9kXSA9IG5vb3BmbjsKICAgICAgICB9CiAgICAgICAgb3V0Ll9nZXRMaW5rZXJVcmwgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIHJldHVybiBhOwogICAgICAgIH07CiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0FkZ3VhcmRUZWFtL1NjcmlwdGxldHMvaXNzdWVzLzE1NAogICAgICAgIG91dC5fbGluayA9IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgaWYgKCB0eXBlb2YgYSAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihhKTsKICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gb3V0OwogICAgfSkoKTsKICAgIC8vCiAgICBjb25zdCBHYXQgPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICBHYXQucHJvdG90eXBlLl9hbm9ueW1pemVJUCA9IG5vb3BmbjsKICAgIEdhdC5wcm90b3R5cGUuX2NyZWF0ZVRyYWNrZXIgPSBub29wZm47CiAgICBHYXQucHJvdG90eXBlLl9mb3JjZVNTTCA9IG5vb3BmbjsKICAgIEdhdC5wcm90b3R5cGUuX2dldFBsdWdpbiA9IG5vb3BmbjsKICAgIEdhdC5wcm90b3R5cGUuX2dldFRyYWNrZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdHJhY2tlcjsKICAgIH07CiAgICBHYXQucHJvdG90eXBlLl9nZXRUcmFja2VyQnlOYW1lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRyYWNrZXI7CiAgICB9OwogICAgR2F0LnByb3RvdHlwZS5fZ2V0VHJhY2tlcnMgPSBub29wZm47CiAgICBHYXQucHJvdG90eXBlLmFhID0gbm9vcGZuOwogICAgR2F0LnByb3RvdHlwZS5hYiA9IG5vb3BmbjsKICAgIEdhdC5wcm90b3R5cGUuaGIgPSBub29wZm47CiAgICBHYXQucHJvdG90eXBlLmxhID0gbm9vcGZuOwogICAgR2F0LnByb3RvdHlwZS5vYSA9IG5vb3BmbjsKICAgIEdhdC5wcm90b3R5cGUucGEgPSBub29wZm47CiAgICBHYXQucHJvdG90eXBlLnUgPSBub29wZm47CiAgICBjb25zdCBnYXQgPSBuZXcgR2F0KCk7CiAgICB3aW5kb3cuX2dhdCA9IGdhdDsKICAgIC8vCiAgICBjb25zdCBnYXEgPSBuZXcgR2FxKCk7CiAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgY29uc3QgYWEgPSB3aW5kb3cuX2dhcSB8fCBbXTsKICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkoYWEpICkgewogICAgICAgICAgICB3aGlsZSAoIGFhWzBdICkgewogICAgICAgICAgICAgICAgZ2FxLnB1c2goYWEuc2hpZnQoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KSgpOwogICAgd2luZG93Ll9nYXEgPSBnYXEucWYgPSBnYXE7Cn0pKCk7Cg=="},{"name":"google-analytics_inpage_linkid.js","aliases":["google-analytics.com/inpage_linkid.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cuX2dhcSA9IHdpbmRvdy5fZ2FxIHx8IHsKICAgICAgICBwdXNoOiBmdW5jdGlvbigpIHsKICAgICAgICB9CiAgICB9Owp9KSgpOwo="},{"name":"google-ima.js","aliases":["google-ima3"],"kind":{"mime":"application/javascript"},"content":"LyoqCiAqIAogKiBTb3VyY2UgYmVsb3cgaXMgYmFzZWQgb24gTW96aWxsYSBzb3VyY2UgY29kZToKICogaHR0cHM6Ly9zZWFyY2hmb3gub3JnL21vemlsbGEtY2VudHJhbC9yZXYvZDMxN2U5M2Q5YTU5YzllNGMwNmFkYTg1ZmJmZjlmNmExY2VhYWFkMS9icm93c2VyL2V4dGVuc2lvbnMvd2ViY29tcGF0L3NoaW1zL2dvb2dsZS1pbWEuanMKICogCiAqIE1vZGlmaWNhdGlvbnMgdG8gdGhlIG9yaWdpbmFsIGNvZGUgYmVsb3cgdGhpcyBjb21tZW50OgogKiAtIEF2b2lkIEpTIHN5bnRheCBub3Qgc3VwcG9ydGVkIGJ5IG9sZGVyIGJyb3dzZXIgdmVyc2lvbnMKICogLSBBZGQgbWlzc2luZyBzaGltIGV2ZW50CiAqIC0gTW9kaWZpZWQgdG8gYXZvaWQganNoaW50IHdhcm5pbmdzIGFzIHBlciB1Qk8ncyBjb25maWcKICogLSBBZGRlZCBgT21pZFZlcmlmaWNhdGlvblZlbmRvcmAgdG8gYGltYWAKICogLSBIYXZlIGBBZEVycm9yLmdldElubmVyRXJyb3IoKWAgcmV0dXJuIGBudWxsYAogKiAtIEhhdmUgYEFkRGlzcGxheUNvbnRhaW5lcmAgY29uc3RydWN0b3IgYWRkIERJViBlbGVtZW50IHRvIGNvbnRhaW5lcgogKiAtIEFkZGVkIG1pc3NpbmcgZXZlbnQgZGlzcGF0Y2hlciBmdW5jdGlvbmFsaXR5CiAqIC0gQ29ycmVjdGVkIHJldHVybiB0eXBlIG9mIGBBZC5nZXRVbml2ZXJzYWxBZElkcygpYAogKiAtIENvcnJlY3RlZCB0eXBvIGluIGBVbml2ZXJzYWxBZElkSW5mby5nZXRBZElkVmFsdWUoKWAgbWV0aG9kIG5hbWUKICogCiAqIFJlbGF0ZWQgaXNzdWU6CiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL3VCbG9ja09yaWdpbi91QmxvY2staXNzdWVzL2lzc3Vlcy8yMTU4CiAqIAoqKi8KIAondXNlIHN0cmljdCc7CgovKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljCiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMKICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi8KCi8qKgogKiBCdWcgMTcxMzY5MCAtIFNoaW0gR29vZ2xlIEludGVyYWN0aXZlIE1lZGlhIEFkcyBpbWEzLmpzCiAqCiAqIE1hbnkgc2l0ZXMgdXNlIGltYTMuanMgZm9yIGFkIGJpZGRpbmcgYW5kIHBsYWNlbWVudCwgb2Z0ZW4gaW4gY29uanVuY3Rpb24KICogd2l0aCBHb29nbGUgUHVibGlzaGVyIFRhZ3MsIFByZWJpZC5qcyBhbmQvb3Igb3RoZXIgc2NyaXB0cy4gVGhpcyBzaGltCiAqIHByb3ZpZGVzIGEgc3R1YmJlZC1vdXQgdmVyc2lvbiBvZiB0aGUgQVBJIHdoaWNoIGhlbHBzIHdvcmsgYXJvdW5kIHJlbGF0ZWQKICogc2l0ZSBicmVha2FnZSwgc3VjaCBhcyBibGFjayBieG9lcyB3aGVyZSB2aWRlb3Mgb3VnaHQgdG8gYmUgcGxhY2VkLgogKi8KCmlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5pbWEgfHwgIXdpbmRvdy5nb29nbGUuaW1hLlZFUlNJT04pIHsKICBjb25zdCBWRVJTSU9OID0gIjMuNTE3LjIiOwoKICBjb25zdCBDaGVja0NhbkF1dG9wbGF5ID0gKGZ1bmN0aW9uKCkgewogICAgLy8gU291cmNlZCBmcm9tOiBodHRwczovL3NlYXJjaGZveC5vcmcvbW96aWxsYS1jZW50cmFsL3NvdXJjZS9kb20vbWVkaWEvZ3Rlc3QvbmVnYXRpdmVfZHVyYXRpb24ubXA0CiAgICBjb25zdCBURVNUX1ZJREVPID0gbmV3IEJsb2IoCiAgICAgIFsKICAgICAgICBuZXcgVWludDMyQXJyYXkoWwogICAgICAgICAgNDY5NzYyMDQ4LAogICAgICAgICAgMTg4NzAwNzg0NiwKICAgICAgICAgIDE3NTIzOTIwMzYsCiAgICAgICAgICAwLAogICAgICAgICAgOTEzMjczNzA1LAogICAgICAgICAgMTcxNzk4NzY5NiwKICAgICAgICAgIDgyODYwMTk1MywKICAgICAgICAgIC0xODc4OTE3MTIwLAogICAgICAgICAgMTk4NzAxNDUwOSwKICAgICAgICAgIDE4MTE5MzkzMjgsCiAgICAgICAgICAxNjg0NTY3NjYxLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgLTQwMjQ1NjU3NiwKICAgICAgICAgIDAsCiAgICAgICAgICAyNTYsCiAgICAgICAgICAxLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAyNTYsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAyNTYsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICA2NCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDMzNTU0NDMyLAogICAgICAgICAgLTIwMTI2MTA1NiwKICAgICAgICAgIDE4MDE1NDg0MDQsCiAgICAgICAgICAxNzQ0ODMwNDY0LAogICAgICAgICAgMTY4NDU2NDg1MiwKICAgICAgICAgIDI1MTY1ODI0MSwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAxNjc3NzIxNiwKICAgICAgICAgIDAsCiAgICAgICAgICAtMSwKICAgICAgICAgIC0xLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDI1NiwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDI1NiwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDY0LAogICAgICAgICAgNSwKICAgICAgICAgIDUzMjUwLAogICAgICAgICAgLTIwODAzMDkyNDgsCiAgICAgICAgICAxNjM0Mjk2OTQxLAogICAgICAgICAgNzM4MTk3NTA0LAogICAgICAgICAgMTY4NDU2MzA1MywKICAgICAgICAgIDEsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgLTIxMzc2MTQzMzYsCiAgICAgICAgICAtMSwKICAgICAgICAgIC0xLAogICAgICAgICAgNTAyNjEsCiAgICAgICAgICA3NTQ5NzQ3MjAsCiAgICAgICAgICAxOTE5NzA2MjE2LAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAxNzAxMDc5NDE0LAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMTcwMTA3OTM4MiwKICAgICAgICAgIDE4NTE4NjkyOTUsCiAgICAgICAgICAxOTE5MjQ5NTA4LAogICAgICAgICAgMTY3NzcyMTYsCiAgICAgICAgICAxODUyNDAyOTc5LAogICAgICAgICAgMTAyLAogICAgICAgICAgMTc1MjAwNDExNiwKICAgICAgICAgIDEwMCwKICAgICAgICAgIDEsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDE4NTI0MDA2NzYsCiAgICAgICAgICAxMDIsCiAgICAgICAgICAxNzAxOTk1NTQ4LAogICAgICAgICAgMTAyLAogICAgICAgICAgMCwKICAgICAgICAgIDEsCiAgICAgICAgICAxODE5NDQwMzk2LAogICAgICAgICAgMzIsCiAgICAgICAgICAxLAogICAgICAgICAgMTY1MTc5OTAxMSwKICAgICAgICAgIDEwOCwKICAgICAgICAgIDE5MzcwMTE2MDcsCiAgICAgICAgICAxMDAsCiAgICAgICAgICAwLAogICAgICAgICAgMSwKICAgICAgICAgIDE2Njg3MDI1OTksCiAgICAgICAgICA0OSwKICAgICAgICAgIDAsCiAgICAgICAgICAxLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMzM1NTU3MTIsCiAgICAgICAgICA0NzE4ODAwLAogICAgICAgICAgNDcxODU5MiwKICAgICAgICAgIDAsCiAgICAgICAgICA2NTUzNiwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMTY3NzY5ODQsCiAgICAgICAgICAxNjMwNjAxMjE2LAogICAgICAgICAgMjExOTM1OTAsCiAgICAgICAgICAtMTQ3NDU1MDAsCiAgICAgICAgICAxNzI5NjI2MzM3LAogICAgICAgICAgLTE0MDcyNTQ0MjgsCiAgICAgICAgICA4OTE2MTk0NSwKICAgICAgICAgIDEwNDkwMTksCiAgICAgICAgICA5NDUzMDU2LAogICAgICAgICAgLTI1MTYxMTEyNSwKICAgICAgICAgIDI3MjY5NTA3LAogICAgICAgICAgLTM3OTA1ODY4OCwKICAgICAgICAgIC0xMzI5MDI0MzkyLAogICAgICAgICAgMjY4NDM1NDU2LAogICAgICAgICAgMTkzNzAxMTgyNywKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMjY4NDM1NDU2LAogICAgICAgICAgMTY2ODUxMDgzNSwKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMzM1NTQ0MzIwLAogICAgICAgICAgMjA1NDM4NjgwMywKICAgICAgICAgIDAsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDI2ODQzNTQ1NiwKICAgICAgICAgIDE4Njg3ODg4NTEsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDY3MTA4ODY0MCwKICAgICAgICAgIDIwMTk5MTUzNzMsCiAgICAgICAgICA1MzY4NzA5MTIsCiAgICAgICAgICAyMDE5OTE0MzU2LAogICAgICAgICAgMCwKICAgICAgICAgIDE2Nzc3MjE2LAogICAgICAgICAgMTY3NzcyMTYsCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDAsCiAgICAgICAgXSksCiAgICAgIF0sCiAgICAgIHsgdHlwZTogInZpZGVvL21wNCIgfQogICAgKTsKCiAgICBsZXQgdGVzdFZpZGVvOwoKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgaWYgKCF0ZXN0VmlkZW8pIHsKICAgICAgICB0ZXN0VmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpOwogICAgICAgIHRlc3RWaWRlby5zdHlsZSA9CiAgICAgICAgICAicG9zaXRpb246YWJzb2x1dGU7IHdpZHRoOjA7IGhlaWdodDowOyBsZWZ0OjA7IHJpZ2h0OjA7IHotaW5kZXg6LTE7IGJvcmRlcjowIjsKICAgICAgICB0ZXN0VmlkZW8uc2V0QXR0cmlidXRlKCJtdXRlZCIsICJtdXRlZCIpOwogICAgICAgIHRlc3RWaWRlby5zZXRBdHRyaWJ1dGUoInBsYXlzaW5saW5lIiwgInBsYXlzaW5saW5lIik7CiAgICAgICAgdGVzdFZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoVEVTVF9WSURFTyk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXN0VmlkZW8pOwogICAgICB9CiAgICAgIHJldHVybiB0ZXN0VmlkZW8ucGxheSgpOwogICAgfTsKICB9KSgpOwoKICBjb25zdCBpbWEgPSB7fTsKCiAgY2xhc3MgQWREaXNwbGF5Q29udGFpbmVyIHsKICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsZW1lbnQpIHsKICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBkaXZFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5IiwgIm5vbmUiLCAiaW1wb3J0YW50Iik7CiAgICAgIGRpdkVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoInZpc2liaWxpdHkiLCAiY29sbGFwc2UiLCAiaW1wb3J0YW50Iik7CiAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7CiAgICB9CiAgICBkZXN0cm95KCkge30KICAgIGluaXRpYWxpemUoKSB7fQogIH0KCiAgY2xhc3MgSW1hU2RrU2V0dGluZ3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuYyA9IHRydWU7CiAgICAgIHRoaXMuZiA9IHt9OwogICAgICB0aGlzLmkgPSBmYWxzZTsKICAgICAgdGhpcy5sID0gIiI7CiAgICAgIHRoaXMucCA9ICIiOwogICAgICB0aGlzLnIgPSAwOwogICAgICB0aGlzLnQgPSAiIjsKICAgICAgdGhpcy52ID0gIiI7CiAgICB9CiAgICBnZXRDb21wYW5pb25CYWNrZmlsbCgpIHt9CiAgICBnZXREaXNhYmxlQ3VzdG9tUGxheWJhY2tGb3JJT1MxMFBsdXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmk7CiAgICB9CiAgICBnZXRGZWF0dXJlRmxhZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmY7CiAgICB9CiAgICBnZXRMb2NhbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmw7CiAgICB9CiAgICBnZXROdW1SZWRpcmVjdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnI7CiAgICB9CiAgICBnZXRQbGF5ZXJUeXBlKCkgewogICAgICByZXR1cm4gdGhpcy50OwogICAgfQogICAgZ2V0UGxheWVyVmVyc2lvbigpIHsKICAgICAgcmV0dXJuIHRoaXMudjsKICAgIH0KICAgIGdldFBwaWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnA7CiAgICB9CiAgICBpc0Nvb2tpZXNFbmFibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5jOwogICAgfQogICAgc2V0QXV0b1BsYXlBZEJyZWFrcygpIHt9CiAgICBzZXRDb21wYW5pb25CYWNrZmlsbCgpIHt9CiAgICBzZXRDb29raWVzRW5hYmxlZChjKSB7CiAgICAgIHRoaXMuYyA9ICEhYzsKICAgIH0KICAgIHNldERpc2FibGVDdXN0b21QbGF5YmFja0ZvcklPUzEwUGx1cyhpKSB7CiAgICAgIHRoaXMuaSA9ICEhaTsKICAgIH0KICAgIHNldEZlYXR1cmVGbGFncyhmKSB7CiAgICAgIHRoaXMuZiA9IGY7CiAgICB9CiAgICBzZXRMb2NhbGUobCkgewogICAgICB0aGlzLmwgPSBsOwogICAgfQogICAgc2V0TnVtUmVkaXJlY3RzKHIpIHsKICAgICAgdGhpcy5yID0gcjsKICAgIH0KICAgIHNldFBsYXllclR5cGUodCkgewogICAgICB0aGlzLnQgPSB0OwogICAgfQogICAgc2V0UGxheWVyVmVyc2lvbih2KSB7CiAgICAgIHRoaXMudiA9IHY7CiAgICB9CiAgICBzZXRQcGlkKHApIHsKICAgICAgdGhpcy5wID0gcDsKICAgIH0KICAgIHNldFNlc3Npb25JZCgvKnMqLykge30KICAgIHNldFZwYWlkQWxsb3dlZCgvKmEqLykge30KICAgIHNldFZwYWlkTW9kZSgvKm0qLykge30KCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdUJsb2NrT3JpZ2luL3VCbG9jay1pc3N1ZXMvaXNzdWVzLzIyNjUjaXNzdWVjb21tZW50LTE2MzcwOTQxNDkKICAgIGdldERpc2FibGVGbGFzaEFkcygpIHsKICAgIH0KICAgIHNldERpc2FibGVGbGFzaEFkcygpIHsKICAgIH0KICB9CiAgSW1hU2RrU2V0dGluZ3MuQ29tcGFuaW9uQmFja2ZpbGxNb2RlID0gewogICAgQUxXQVlTOiAiYWx3YXlzIiwKICAgIE9OX01BU1RFUl9BRDogIm9uX21hc3Rlcl9hZCIsCiAgfTsKICBJbWFTZGtTZXR0aW5ncy5WcGFpZE1vZGUgPSB7CiAgICBESVNBQkxFRDogMCwKICAgIEVOQUJMRUQ6IDEsCiAgICBJTlNFQ1VSRTogMiwKICB9OwoKICBjbGFzcyBFdmVudEhhbmRsZXIgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IE1hcCgpOwogICAgfQoKICAgIF9kaXNwYXRjaChlKSB7CiAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQoZS50eXBlKTsKICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzID8gQXJyYXkuZnJvbShsaXN0ZW5lcnMudmFsdWVzKCkpIDogW107CiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxpc3RlbmVyKGUpOwogICAgICAgIH0gY2F0Y2ggKHIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3Iocik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlcywgYywgb3B0aW9ucywgY29udGV4dCkgewogICAgICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZXMpKSB7CiAgICAgICAgdHlwZXMgPSBbdHlwZXNdOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IHQgb2YgdHlwZXMpIHsKICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyh0KSkgewogICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHQsIG5ldyBNYXAoKSk7CiAgICAgICAgfQogICAgICAgIHRoaXMubGlzdGVuZXJzLmdldCh0KS5zZXQoYywgYy5iaW5kKGNvbnRleHQgfHwgdGhpcykpOwogICAgICB9CiAgICB9CgogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlcywgYykgewogICAgICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZXMpKSB7CiAgICAgICAgdHlwZXMgPSBbdHlwZXNdOwogICAgICB9CgogICAgICBmb3IgKGNvbnN0IHQgb2YgdHlwZXMpIHsKICAgICAgICBjb25zdCB0eXBlU2V0ID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHQpOwogICAgICAgIGlmICh0eXBlU2V0KSB7CiAgICAgICAgICB0eXBlU2V0LmRlbGV0ZShjKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGNsYXNzIEFkc0xvYWRlciBleHRlbmRzIEV2ZW50SGFuZGxlciB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5zZXR0aW5ncyA9IG5ldyBJbWFTZGtTZXR0aW5ncygpOwogICAgfQogICAgY29udGVudENvbXBsZXRlKCkge30KICAgIGRlc3Ryb3koKSB7fQogICAgZ2V0U2V0dGluZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzOwogICAgfQogICAgZ2V0VmVyc2lvbigpIHsKICAgICAgcmV0dXJuIFZFUlNJT047CiAgICB9CiAgICByZXF1ZXN0QWRzKC8qciwgYyovKSB7CiAgICAgIC8vIElmIGF1dG9wbGF5IGlzIGRpc2FibGVkIGFuZCB0aGUgcGFnZSBpcyB0cnlpbmcgdG8gYXV0b3BsYXkgYSB0cmFja2luZwogICAgICAvLyBhZCwgdGhlbiBJTUEgZmFpbHMgd2l0aCBhbiBlcnJvciwgYW5kIHRoZSBwYWdlIGlzIGV4cGVjdGVkIHRvIHJlcXVlc3QKICAgICAgLy8gYWRzIGFnYWluIGxhdGVyIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRvIHBsYXkuCiAgICAgIENoZWNrQ2FuQXV0b3BsYXkoKS50aGVuKAogICAgICAgICgpID0+IHsKICAgICAgICAgIGNvbnN0IHsgQURTX01BTkFHRVJfTE9BREVEIH0gPSBBZHNNYW5hZ2VyTG9hZGVkRXZlbnQuVHlwZTsKICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoKG5ldyBpbWEuQWRzTWFuYWdlckxvYWRlZEV2ZW50KEFEU19NQU5BR0VSX0xPQURFRCkpOwogICAgICAgIH0sCiAgICAgICAgKCkgPT4gewogICAgICAgICAgY29uc3QgZSA9IG5ldyBpbWEuQWRFcnJvcigKICAgICAgICAgICAgImFkUGxheUVycm9yIiwKICAgICAgICAgICAgMTIwNSwKICAgICAgICAgICAgMTIwNSwKICAgICAgICAgICAgIlRoZSBicm93c2VyIHByZXZlbnRlZCBwbGF5YmFjayBpbml0aWF0ZWQgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiIKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLl9kaXNwYXRjaChuZXcgaW1hLkFkRXJyb3JFdmVudChlKSk7CiAgICAgICAgfQogICAgICApOwogICAgfQogIH0KCiAgY2xhc3MgQWRzTWFuYWdlciBleHRlbmRzIEV2ZW50SGFuZGxlciB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy52b2x1bWUgPSAxOwogICAgfQogICAgY29sbGFwc2UoKSB7fQogICAgY29uZmlndXJlQWRzTWFuYWdlcigpIHt9CiAgICBkZXN0cm95KCkge30KICAgIGRpc2NhcmRBZEJyZWFrKCkge30KICAgIGV4cGFuZCgpIHt9CiAgICBmb2N1cygpIHt9CiAgICBnZXRBZFNraXBwYWJsZVN0YXRlKCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBnZXRDdWVQb2ludHMoKSB7CiAgICAgIHJldHVybiBbMF07CiAgICB9CiAgICBnZXRDdXJyZW50QWQoKSB7CiAgICAgIHJldHVybiBjdXJyZW50QWQ7CiAgICB9CiAgICBnZXRDdXJyZW50QWRDdWVQb2ludHMoKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KICAgIGdldFJlbWFpbmluZ1RpbWUoKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgZ2V0Vm9sdW1lKCkgewogICAgICByZXR1cm4gdGhpcy52b2x1bWU7CiAgICB9CiAgICBpbml0KC8qdywgaCwgbSwgZSovKSB7fQogICAgaXNDdXN0b21DbGlja1RyYWNraW5nVXNlZCgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaXNDdXN0b21QbGF5YmFja1VzZWQoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHBhdXNlKCkge30KICAgIHJlcXVlc3ROZXh0QWRCcmVhaygpIHt9CiAgICByZXNpemUoLyp3LCBoLCBtKi8pIHt9CiAgICByZXN1bWUoKSB7fQogICAgc2V0Vm9sdW1lKHYpIHsKICAgICAgdGhpcy52b2x1bWUgPSB2OwogICAgfQogICAgc2tpcCgpIHt9CiAgICBzdGFydCgpIHsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgWwogICAgICAgICAgQWRFdmVudC5UeXBlLkxPQURFRCwKICAgICAgICAgIEFkRXZlbnQuVHlwZS5TVEFSVEVELAogICAgICAgICAgQWRFdmVudC5UeXBlLkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCwKICAgICAgICAgIEFkRXZlbnQuVHlwZS5BRF9CVUZGRVJJTkcsCiAgICAgICAgICBBZEV2ZW50LlR5cGUuRklSU1RfUVVBUlRJTEUsCiAgICAgICAgICBBZEV2ZW50LlR5cGUuTUlEUE9JTlQsCiAgICAgICAgICBBZEV2ZW50LlR5cGUuVEhJUkRfUVVBUlRJTEUsCiAgICAgICAgICBBZEV2ZW50LlR5cGUuQ09NUExFVEUsCiAgICAgICAgICBBZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQsCiAgICAgICAgXSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2gobmV3IGltYS5BZEV2ZW50KHR5cGUpKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgc3RvcCgpIHt9CiAgICB1cGRhdGVBZHNSZW5kZXJpbmdTZXR0aW5ncygvKnMqLykge30KICB9CgogIGNsYXNzIEFkc1JlbmRlcmluZ1NldHRpbmdzIHt9CgogIGNsYXNzIEFkc1JlcXVlc3QgewogICAgc2V0QWRXaWxsQXV0b1BsYXkoKSB7fQogICAgc2V0QWRXaWxsUGxheU11dGVkKCkge30KICAgIHNldENvbnRpbnVvdXNQbGF5YmFjaygpIHt9CiAgfQoKICBjbGFzcyBBZFBvZEluZm8gewogICAgZ2V0QWRQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIDE7CiAgICB9CiAgICBnZXRJc0J1bXBlcigpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgZ2V0TWF4RHVyYXRpb24oKSB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICAgIGdldFBvZEluZGV4KCkgewogICAgICByZXR1cm4gMTsKICAgIH0KICAgIGdldFRpbWVPZmZzZXQoKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgZ2V0VG90YWxBZHMoKSB7CiAgICAgIHJldHVybiAxOwogICAgfQogIH0KCiAgY2xhc3MgQWQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuX3BpID0gbmV3IEFkUG9kSW5mbygpOwogICAgfQogICAgZ2V0QWRJZCgpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogICAgZ2V0QWRQb2RJbmZvKCkgewogICAgICByZXR1cm4gdGhpcy5fcGk7CiAgICB9CiAgICBnZXRBZFN5c3RlbSgpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogICAgZ2V0QWR2ZXJ0aXNlck5hbWUoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldEFwaUZyYW1ld29yaygpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBnZXRDb21wYW5pb25BZHMoKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KICAgIGdldENvbnRlbnRUeXBlKCkgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgICBnZXRDcmVhdGl2ZUFkSWQoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldENyZWF0aXZlSWQoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldERlYWxJZCgpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogICAgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldER1cmF0aW9uKCkgewogICAgICByZXR1cm4gOC41OwogICAgfQogICAgZ2V0SGVpZ2h0KCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGdldE1lZGlhVXJsKCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGdldE1pblN1Z2dlc3RlZER1cmF0aW9uKCkgewogICAgICByZXR1cm4gLTI7CiAgICB9CiAgICBnZXRTa2lwVGltZU9mZnNldCgpIHsKICAgICAgcmV0dXJuIC0xOwogICAgfQogICAgZ2V0U3VydmV5VXJsKCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGdldFRpdGxlKCkgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgICBnZXRUcmFmZmlja2luZ1BhcmFtZXRlcnMoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICAgIGdldFRyYWZmaWNraW5nUGFyYW1ldGVyc1N0cmluZygpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogICAgZ2V0VWlFbGVtZW50cygpIHsKICAgICAgcmV0dXJuIFsiIl07CiAgICB9CiAgICBnZXRVbml2ZXJzYWxBZElkUmVnaXN0cnkoKSB7CiAgICAgIHJldHVybiAidW5rbm93biI7CiAgICB9CiAgICBnZXRVbml2ZXJzYWxBZElkcygpIHsKICAgICAgcmV0dXJuIFtuZXcgVW5pdmVyc2FsQWRJZEluZm8oKV07CiAgICB9CiAgICBnZXRVbml2ZXJzYWxBZElkVmFsdWUoKSB7CiAgICAgIHJldHVybiAidW5rbm93biI7CiAgICB9CiAgICBnZXRWYXN0TWVkaWFCaXRyYXRlKCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGdldFZhc3RNZWRpYUhlaWdodCgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBnZXRWYXN0TWVkaWFXaWR0aCgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBnZXRXaWR0aCgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBnZXRXcmFwcGVyQWRJZHMoKSB7CiAgICAgIHJldHVybiBbIiJdOwogICAgfQogICAgZ2V0V3JhcHBlckFkU3lzdGVtcygpIHsKICAgICAgcmV0dXJuIFsiIl07CiAgICB9CiAgICBnZXRXcmFwcGVyQ3JlYXRpdmVJZHMoKSB7CiAgICAgIHJldHVybiBbIiJdOwogICAgfQogICAgaXNMaW5lYXIoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgaXNTa2lwcGFibGUoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KCiAgY2xhc3MgQ29tcGFuaW9uQWQgewogICAgZ2V0QWRTbG90SWQoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldENvbnRlbnQoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldENvbnRlbnRUeXBlKCkgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgICBnZXRIZWlnaHQoKSB7CiAgICAgIHJldHVybiAxOwogICAgfQogICAgZ2V0V2lkdGgoKSB7CiAgICAgIHJldHVybiAxOwogICAgfQogIH0KCiAgY2xhc3MgQWRFcnJvciB7CiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBjb2RlLCB2YXN0LCBtZXNzYWdlKSB7CiAgICAgIHRoaXMuZXJyb3JDb2RlID0gY29kZTsKICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy52YXN0RXJyb3JDb2RlID0gdmFzdDsKICAgIH0KICAgIGdldEVycm9yQ29kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb2RlOwogICAgfQogICAgZ2V0SW5uZXJFcnJvcigpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGdldE1lc3NhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7CiAgICB9CiAgICBnZXRUeXBlKCkgewogICAgICByZXR1cm4gdGhpcy50eXBlOwogICAgfQogICAgZ2V0VmFzdEVycm9yQ29kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFzdEVycm9yQ29kZTsKICAgIH0KICAgIHRvU3RyaW5nKCkgewogICAgICByZXR1cm4gYEFkRXJyb3IgJHt0aGlzLmVycm9yQ29kZX06ICR7dGhpcy5tZXNzYWdlfWA7CiAgICB9CiAgfQogIEFkRXJyb3IuRXJyb3JDb2RlID0ge307CiAgQWRFcnJvci5UeXBlID0ge307CgogIGNvbnN0IGlzRW5nYWRnZXQgPSAoKSA9PiB7CiAgICB0cnkgewogICAgICBmb3IgKGNvbnN0IGN0eCBvZiBPYmplY3QudmFsdWVzKHdpbmRvdy52aWRpYmxlLl9nZXRDb250ZXh0cygpKSkgewogICAgICAgIGNvbnN0IHBsYXllciA9IGN0eC5nZXRQbGF5ZXIoKTsKICAgICAgICBpZiAoIXBsYXllcikgeyBjb250aW51ZTt9CiAgICAgICAgY29uc3QgZGl2ID0gcGxheWVyLmRpdjsKICAgICAgICBpZiAoIWRpdikgeyBjb250aW51ZTsgfQogICAgICAgIGlmIChkaXYuaW5uZXJIVE1MLmluY2x1ZGVzKCJ3d3cuZW5nYWRnZXQuY29tIikpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoXykge30KICAgIHJldHVybiBmYWxzZTsKICB9OwoKICBjb25zdCBjdXJyZW50QWQgPSBpc0VuZ2FkZ2V0KCkgPyB1bmRlZmluZWQgOiBuZXcgQWQoKTsKCiAgY2xhc3MgQWRFdmVudCB7CiAgICBjb25zdHJ1Y3Rvcih0eXBlKSB7CiAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICB9CiAgICBnZXRBZCgpIHsKICAgICAgcmV0dXJuIGN1cnJlbnRBZDsKICAgIH0KICAgIGdldEFkRGF0YSgpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQogIH0KICBBZEV2ZW50LlR5cGUgPSB7CiAgICBBRF9CUkVBS19SRUFEWTogImFkQnJlYWtSZWFkeSIsCiAgICBBRF9CVUZGRVJJTkc6ICJhZEJ1ZmZlcmluZyIsCiAgICBBRF9DQU5fUExBWTogImFkQ2FuUGxheSIsCiAgICBBRF9NRVRBREFUQTogImFkTWV0YWRhdGEiLAogICAgQURfUFJPR1JFU1M6ICJhZFByb2dyZXNzIiwKICAgIEFMTF9BRFNfQ09NUExFVEVEOiAiYWxsQWRzQ29tcGxldGVkIiwKICAgIENMSUNLOiAiY2xpY2siLAogICAgQ09NUExFVEU6ICJjb21wbGV0ZSIsCiAgICBDT05URU5UX1BBVVNFX1JFUVVFU1RFRDogImNvbnRlbnRQYXVzZVJlcXVlc3RlZCIsCiAgICBDT05URU5UX1JFU1VNRV9SRVFVRVNURUQ6ICJjb250ZW50UmVzdW1lUmVxdWVzdGVkIiwKICAgIERVUkFUSU9OX0NIQU5HRTogImR1cmF0aW9uQ2hhbmdlIiwKICAgIEVYUEFOREVEX0NIQU5HRUQ6ICJleHBhbmRlZENoYW5nZWQiLAogICAgRklSU1RfUVVBUlRJTEU6ICJmaXJzdFF1YXJ0aWxlIiwKICAgIElNUFJFU1NJT046ICJpbXByZXNzaW9uIiwKICAgIElOVEVSQUNUSU9OOiAiaW50ZXJhY3Rpb24iLAogICAgTElORUFSX0NIQU5HRTogImxpbmVhckNoYW5nZSIsCiAgICBMSU5FQVJfQ0hBTkdFRDogImxpbmVhckNoYW5nZWQiLAogICAgTE9BREVEOiAibG9hZGVkIiwKICAgIExPRzogImxvZyIsCiAgICBNSURQT0lOVDogIm1pZHBvaW50IiwKICAgIFBBVVNFRDogInBhdXNlIiwKICAgIFJFU1VNRUQ6ICJyZXN1bWUiLAogICAgU0tJUFBBQkxFX1NUQVRFX0NIQU5HRUQ6ICJza2lwcGFibGVTdGF0ZUNoYW5nZWQiLAogICAgU0tJUFBFRDogInNraXAiLAogICAgU1RBUlRFRDogInN0YXJ0IiwKICAgIFRISVJEX1FVQVJUSUxFOiAidGhpcmRRdWFydGlsZSIsCiAgICBVU0VSX0NMT1NFOiAidXNlckNsb3NlIiwKICAgIFZJREVPX0NMSUNLRUQ6ICJ2aWRlb0NsaWNrZWQiLAogICAgVklERU9fSUNPTl9DTElDS0VEOiAidmlkZW9JY29uQ2xpY2tlZCIsCiAgICBWSUVXQUJMRV9JTVBSRVNTSU9OOiAidmlld2FibGVfaW1wcmVzc2lvbiIsCiAgICBWT0xVTUVfQ0hBTkdFRDogInZvbHVtZUNoYW5nZSIsCiAgICBWT0xVTUVfTVVURUQ6ICJtdXRlIiwKICB9OwoKICBjbGFzcyBBZEVycm9yRXZlbnQgewogICAgY29uc3RydWN0b3IoZXJyb3IpIHsKICAgICAgdGhpcy50eXBlID0gImFkRXJyb3IiOwogICAgICB0aGlzLmVycm9yID0gZXJyb3I7CiAgICB9CiAgICBnZXRFcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuZXJyb3I7CiAgICB9CiAgICBnZXRVc2VyUmVxdWVzdENvbnRleHQoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9CiAgQWRFcnJvckV2ZW50LlR5cGUgPSB7CiAgICBBRF9FUlJPUjogImFkRXJyb3IiLAogIH07CgogIGNvbnN0IG1hbmFnZXIgPSBuZXcgQWRzTWFuYWdlcigpOwoKICBjbGFzcyBBZHNNYW5hZ2VyTG9hZGVkRXZlbnQgewogICAgY29uc3RydWN0b3IodHlwZSkgewogICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgfQogICAgZ2V0QWRzTWFuYWdlcigpIHsKICAgICAgcmV0dXJuIG1hbmFnZXI7CiAgICB9CiAgICBnZXRVc2VyUmVxdWVzdENvbnRleHQoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9CiAgQWRzTWFuYWdlckxvYWRlZEV2ZW50LlR5cGUgPSB7CiAgICBBRFNfTUFOQUdFUl9MT0FERUQ6ICJhZHNNYW5hZ2VyTG9hZGVkIiwKICB9OwoKICBjbGFzcyBDdXN0b21Db250ZW50TG9hZGVkRXZlbnQge30KICBDdXN0b21Db250ZW50TG9hZGVkRXZlbnQuVHlwZSA9IHsKICAgIENVU1RPTV9DT05URU5UX0xPQURFRDogImRlcHJlY2F0ZWQtZXZlbnQiLAogIH07CgogIGNsYXNzIENvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3Mge30KICBDb21wYW5pb25BZFNlbGVjdGlvblNldHRpbmdzLkNyZWF0aXZlVHlwZSA9IHsKICAgIEFMTDogIkFsbCIsCiAgICBGTEFTSDogIkZsYXNoIiwKICAgIElNQUdFOiAiSW1hZ2UiLAogIH07CiAgQ29tcGFuaW9uQWRTZWxlY3Rpb25TZXR0aW5ncy5SZXNvdXJjZVR5cGUgPSB7CiAgICBBTEw6ICJBbGwiLAogICAgSFRNTDogIkh0bWwiLAogICAgSUZSQU1FOiAiSUZyYW1lIiwKICAgIFNUQVRJQzogIlN0YXRpYyIsCiAgfTsKICBDb21wYW5pb25BZFNlbGVjdGlvblNldHRpbmdzLlNpemVDcml0ZXJpYSA9IHsKICAgIElHTk9SRTogIklnbm9yZVNpemUiLAogICAgU0VMRUNUX0VYQUNUX01BVENIOiAiU2VsZWN0RXhhY3RNYXRjaCIsCiAgICBTRUxFQ1RfTkVBUl9NQVRDSDogIlNlbGVjdE5lYXJNYXRjaCIsCiAgfTsKCiAgY2xhc3MgQWRDdWVQb2ludHMgewogICAgZ2V0Q3VlUG9pbnRzKCkgewogICAgICByZXR1cm4gW107CiAgICB9CiAgfQoKICBjbGFzcyBBZFByb2dyZXNzRGF0YSB7fQoKICBjbGFzcyBVbml2ZXJzYWxBZElkSW5mbyB7CiAgICBnZXRBZElkUmVnaXN0cnkoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIGdldEFkSWRWYWx1ZSgpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KCiAgT2JqZWN0LmFzc2lnbihpbWEsIHsKICAgIEFkQ3VlUG9pbnRzLAogICAgQWREaXNwbGF5Q29udGFpbmVyLAogICAgQWRFcnJvciwKICAgIEFkRXJyb3JFdmVudCwKICAgIEFkRXZlbnQsCiAgICBBZFBvZEluZm8sCiAgICBBZFByb2dyZXNzRGF0YSwKICAgIEFkc0xvYWRlciwKICAgIEFkc01hbmFnZXI6IG1hbmFnZXIsCiAgICBBZHNNYW5hZ2VyTG9hZGVkRXZlbnQsCiAgICBBZHNSZW5kZXJpbmdTZXR0aW5ncywKICAgIEFkc1JlcXVlc3QsCiAgICBDb21wYW5pb25BZCwKICAgIENvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MsCiAgICBDdXN0b21Db250ZW50TG9hZGVkRXZlbnQsCiAgICBncHRQcm94eUluc3RhbmNlOiB7fSwKICAgIEltYVNka1NldHRpbmdzLAogICAgT21pZEFjY2Vzc01vZGU6IHsKICAgICAgRE9NQUlOOiAiZG9tYWluIiwKICAgICAgRlVMTDogImZ1bGwiLAogICAgICBMSU1JVEVEOiAibGltaXRlZCIsCiAgICB9LAogICAgT21pZFZlcmlmaWNhdGlvblZlbmRvcjogewogICAgICAxOiAiT1RIRVIiLAogICAgICAyOiAiR09PR0xFIiwKICAgICAgR09PR0xFOiAyLAogICAgICBPVEhFUjogMQogICAgfSwKICAgIHNldHRpbmdzOiBuZXcgSW1hU2RrU2V0dGluZ3MoKSwKICAgIFVpRWxlbWVudHM6IHsKICAgICAgQURfQVRUUklCVVRJT046ICJhZEF0dHJpYnV0aW9uIiwKICAgICAgQ09VTlRET1dOOiAiY291bnRkb3duIiwKICAgIH0sCiAgICBVbml2ZXJzYWxBZElkSW5mbywKICAgIFZFUlNJT04sCiAgICBWaWV3TW9kZTogewogICAgICBGVUxMU0NSRUVOOiAiZnVsbHNjcmVlbiIsCiAgICAgIE5PUk1BTDogIm5vcm1hbCIsCiAgICB9LAogIH0pOwoKICBpZiAoIXdpbmRvdy5nb29nbGUpIHsKICAgIHdpbmRvdy5nb29nbGUgPSB7fTsKICB9CgogIHdpbmRvdy5nb29nbGUuaW1hID0gaW1hOwp9Cg=="},{"name":"googlesyndication_adsbygoogle.js","aliases":["googlesyndication.com/adsbygoogle.js","googlesyndication-adsbygoogle"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBpbml0ID0gKCApID0+IHsKICAgICAgICB3aW5kb3cuYWRzYnlnb29nbGUgPSB7CiAgICAgICAgICAgIGxvYWRlZDogdHJ1ZSwKICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IHBocyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZHNieWdvb2dsZScpOwogICAgICAgIGNvbnN0IGNzcyA9ICdoZWlnaHQ6MXB4IWltcG9ydGFudDttYXgtaGVpZ2h0OjFweCFpbXBvcnRhbnQ7bWF4LXdpZHRoOjFweCFpbXBvcnRhbnQ7d2lkdGg6MXB4IWltcG9ydGFudDsnOwogICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHBocy5sZW5ndGg7IGkrKyApIHsKICAgICAgICAgICAgY29uc3QgaWQgPSBgYXN3aWZ0XyR7aX1gOwogICAgICAgICAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlmcmFtZSMke2lkfWApICE9PSBudWxsICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBjb25zdCBmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgICAgICBmci5pZCA9IGlkOwogICAgICAgICAgICBmci5zdHlsZSA9IGNzczsKICAgICAgICAgICAgY29uc3QgY2ZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgICAgIGNmci5pZCA9IGBnb29nbGVfYWRzX2ZyYW1lJHtpfWA7CiAgICAgICAgICAgIGZyLmFwcGVuZENoaWxkKGNmcik7CiAgICAgICAgICAgIHBoc1tpXS5hcHBlbmRDaGlsZChmcik7CiAgICAgICAgfQogICAgfTsKICAgIGlmICgKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRzYnlnb29nbGUnKS5sZW5ndGggPT09IDAgJiYKICAgICAgICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycKICAgICkgewogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCwgeyBvbmNlOiB0cnVlIH0pOwogICAgfSBlbHNlIHsKICAgICAgICBpbml0KCk7CiAgICB9Cn0pKCk7CgovKgpwYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9wYWdlYWQvanMvYWRzYnlnb29nbGUuanMsYWRzYnlnb29nbGUtcGxhY2Vob2xkZXIsYWRzYnlnb29nbGVTdGF0dXMsZ29vZ2xlX2FkX2NoYW5uZWwsZ29vZ2xlX2FkX2NsaWVudCxnb29nbGVfYWRfZm9ybWF0LGdvb2dsZV9hZF9mcmVxdWVuY3lfaGludCxnb29nbGVfYWRfaGVpZ2h0LGdvb2dsZV9hZF9ob3N0LGdvb2dsZV9hZF9ob3N0X2NoYW5uZWwsZ29vZ2xlX2FkX21vZGlmaWNhdGlvbnMsZ29vZ2xlX2FkX3JlZ2lvbixnb29nbGVfYWRfcmVzaXphYmxlLGdvb2dsZV9hZF9yZXNpemUsZ29vZ2xlX2FkX3NlY3Rpb24sZ29vZ2xlX2FkX3NlbWFudGljX2FyZWEsZ29vZ2xlX2FkX3dpZHRoLGdvb2dsZV9hZGJyZWFrX3Rlc3QsZ29vZ2xlX2Fkc19mcmFtZSxnb29nbGVfYWRzX2lmcmFtZSxnb29nbGVfYWR0ZXN0LGdvb2dsZV9hZG1vYl9pbnRlcnN0aXRpYWxfc2xvdCxnb29nbGVfYWRtb2JfcmV3YXJkZWRfc2xvdCxnb29nbGVfYWRtb2JfYWRzX29ubHksZ29vZ2xlLWFkc2Vuc2UtcGxhdGZvcm0tYWNjb3VudCxnb29nbGVfYWRzZW5zZV9zZXR0aW5ncyxnb29nbGVfYW1hX2NvbmZpZyxnb29nbGUtYW1hLW9yZGVyLWFzc3VyYW5jZSxnb29nbGVfYW1hX3NldHRpbmdzLGdvb2dsZV9hbWFfc3RhdGUsZ29vZ2xlX2FwbHRsYWQsZ29vZ2xlX2F1ZGlvX3NlbnNlLGdvb2dsZS1hdXRvLXBsYWNlZC1yZWFkLWFsb3VkLXBsYXllci1yZXNlcnZlZCxnb29nbGVfZGVidWdfcGFyYW1zLGdvb2dsZV9mdWxsX3dpZHRoX3Jlc3BvbnNpdmUsZ29vZ2xlX2Z1bGxfd2lkdGhfcmVzcG9uc2l2ZV9hbGxvd2VkLGdvb2dsZV9pbWFnZV9yZXF1ZXN0cyxnb29nbGVfanNfZXJyb3JzLGdvb2dsZV9qc19yZXBvcnRpbmdfcXVldWUsZ29vZ2xlX2xvYWRlcl9mZWF0dXJlc191c2VkLGdvb2dsZV9sbHAsZ29vZ2xlX2xvZ2dpbmdfcXVldWUsZ29vZ2xlX21heF9hZF9jb250ZW50X3JhdGluZyxnb29nbGVfbWVhc3VyZV9qc190aW1pbmcsZ29vZ2xlX21sX3JhbmssZ29vZ2xlX292ZXJsYXlzLGdvb2dsZV9vdmVycmlkZV9mb3JtYXQsZ29vZ2xlX3BhY2thZ2UsZ29vZ2xlX3BhZ2VfdXJsLGdvb2dsZV9wZXJzaXN0ZW50X3N0YXRlX2FzeW5jLGdvb2dsZV9wZ2JfcmVhY3RpdmUsZ29vZ2xlX3BsYWNlbWVudF9pZCxnb29nbGVfcHJldl9hZF9mb3JtYXRzX2J5X3JlZ2lvbixnb29nbGVfcHJldl9hZF9zbG90bmFtZXNfYnlfcmVnaW9uLGdvb2dsZV9yZWFjdGl2ZV9hZF9mb3JtYXQsZ29vZ2xlX3JlYWN0aXZlX2Fkc19nbG9iYWxfc3RhdGUsZ29vZ2xlX3Jlc2l6aW5nX2hlaWdodCxnb29nbGVfcmVzaXppbmdfd2lkdGgsZ29vZ2xlX3Jlc3BvbnNpdmVfYXV0b19mb3JtYXQsZ29vZ2xlX3Jlc3BvbnNpdmVfZHVtbXlfYWQsZ29vZ2xlX3Jlc3BvbnNpdmVfZm9ybWF0cyxnb29nbGVfcmVzdHJpY3RfZGF0YV9wcm9jZXNzaW5nLGdvb2dsZV9ydW1fdGFza19pZF9jb3VudGVyLGdvb2dsZV9zYWZlX2Zvcl9yZXNwb25zaXZlX292ZXJyaWRlLGdvb2dsZV9zaGFkb3dfbW9kZSxnb29nbGVfc3J0LGdvb2dsZV90YWdfZm9yX3VuZGVyX2FnZV9vZl9jb25zZW50LGdvb2dsZV90YWdfb3JpZ2luLGdvb2dsZV90YWdfcGFydG5lcixnb29nbGVfdHJhZmZpY19zb3VyY2UsZ29vZ2xlX3VuaXF1ZV9pZCxnb29nbGV0YWcKKi8K"},{"name":"googletagservices_gpt.js","aliases":["googletagservices.com/gpt.js","googletagservices-gpt"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9kb3VibGVjbGljay1ncHQvcmVmZXJlbmNlCiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH0uYmluZCgpOwogICAgY29uc3Qgbm9vcHRoaXNmbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgfTsKICAgIGNvbnN0IG5vb3BudWxsZm4gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH07CiAgICBjb25zdCBub29wYXJyYXlmbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBbXTsKICAgIH07CiAgICBjb25zdCBub29wc3RyZm4gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICB9OwogICAgLy8KICAgIGNvbnN0IGNvbXBhbmlvbkFkc1NlcnZpY2UgPSB7CiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogbm9vcHRoaXNmbiwKICAgICAgICBlbmFibGVTeW5jTG9hZGluZzogbm9vcGZuLAogICAgICAgIHNldFJlZnJlc2hVbmZpbGxlZFNsb3RzOiBub29wZm4KICAgIH07CiAgICBjb25zdCBjb250ZW50U2VydmljZSA9IHsKICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBub29wdGhpc2ZuLAogICAgICAgIHNldENvbnRlbnQ6IG5vb3BmbgogICAgfTsKICAgIGNvbnN0IFBhc3NiYWNrU2xvdCA9IGZ1bmN0aW9uKCkgewogICAgfTsKICAgIGxldCBwID0gUGFzc2JhY2tTbG90LnByb3RvdHlwZTsKICAgIHAuZGlzcGxheSA9IG5vb3BmbjsKICAgIHAuZ2V0ID0gbm9vcG51bGxmbjsKICAgIHAuc2V0ID0gbm9vcHRoaXNmbjsKICAgIHAuc2V0Q2xpY2tVcmwgPSBub29wdGhpc2ZuOwogICAgcC5zZXRUYWdGb3JDaGlsZERpcmVjdGVkVHJlYXRtZW50ID0gbm9vcHRoaXNmbjsKICAgIHAuc2V0VGFyZ2V0aW5nID0gbm9vcHRoaXNmbjsKICAgIHAudXBkYXRlVGFyZ2V0aW5nRnJvbU1hcCA9IG5vb3B0aGlzZm47CiAgICBjb25zdCBwdWJBZHNTZXJ2aWNlID0gewogICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IG5vb3B0aGlzZm4sCiAgICAgICAgY2xlYXI6IG5vb3BmbiwKICAgICAgICBjbGVhckNhdGVnb3J5RXhjbHVzaW9uczogbm9vcHRoaXNmbiwKICAgICAgICBjbGVhclRhZ0ZvckNoaWxkRGlyZWN0ZWRUcmVhdG1lbnQ6IG5vb3B0aGlzZm4sCiAgICAgICAgY2xlYXJUYXJnZXRpbmc6IG5vb3B0aGlzZm4sCiAgICAgICAgY29sbGFwc2VFbXB0eURpdnM6IG5vb3BmbiwKICAgICAgICBkZWZpbmVPdXRPZlBhZ2VQYXNzYmFjazogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgUGFzc2JhY2tTbG90KCk7IH0sCiAgICAgICAgZGVmaW5lUGFzc2JhY2s6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFBhc3NiYWNrU2xvdCgpOyB9LAogICAgICAgIGRpc2FibGVJbml0aWFsTG9hZDogbm9vcGZuLAogICAgICAgIGRpc3BsYXk6IG5vb3BmbiwKICAgICAgICBlbmFibGVBc3luY1JlbmRlcmluZzogbm9vcGZuLAogICAgICAgIGVuYWJsZVNpbmdsZVJlcXVlc3Q6IG5vb3BmbiwKICAgICAgICBlbmFibGVTeW5jUmVuZGVyaW5nOiBub29wZm4sCiAgICAgICAgZW5hYmxlVmlkZW9BZHM6IG5vb3BmbiwKICAgICAgICBnZXQ6IG5vb3BudWxsZm4sCiAgICAgICAgZ2V0QXR0cmlidXRlS2V5czogbm9vcGFycmF5Zm4sCiAgICAgICAgZ2V0VGFyZ2V0aW5nOiBub29wYXJyYXlmbiwKICAgICAgICBnZXRUYXJnZXRpbmdLZXlzOiBub29wYXJyYXlmbiwKICAgICAgICBnZXRTbG90czogbm9vcGFycmF5Zm4sCiAgICAgICAgcmVmcmVzaDogbm9vcGZuLAogICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IG5vb3BmbiwKICAgICAgICBzZXQ6IG5vb3B0aGlzZm4sCiAgICAgICAgc2V0Q2F0ZWdvcnlFeGNsdXNpb246IG5vb3B0aGlzZm4sCiAgICAgICAgc2V0Q2VudGVyaW5nOiBub29wZm4sCiAgICAgICAgc2V0Q29va2llT3B0aW9uczogbm9vcHRoaXNmbiwKICAgICAgICBzZXRGb3JjZVNhZmVGcmFtZTogbm9vcHRoaXNmbiwKICAgICAgICBzZXRMb2NhdGlvbjogbm9vcHRoaXNmbiwKICAgICAgICBzZXRQdWJsaXNoZXJQcm92aWRlZElkOiBub29wdGhpc2ZuLAogICAgICAgIHNldFByaXZhY3lTZXR0aW5nczogbm9vcHRoaXNmbiwKICAgICAgICBzZXRSZXF1ZXN0Tm9uUGVyc29uYWxpemVkQWRzOiBub29wdGhpc2ZuLAogICAgICAgIHNldFNhZmVGcmFtZUNvbmZpZzogbm9vcHRoaXNmbiwKICAgICAgICBzZXRUYWdGb3JDaGlsZERpcmVjdGVkVHJlYXRtZW50OiBub29wdGhpc2ZuLAogICAgICAgIHNldFRhcmdldGluZzogbm9vcHRoaXNmbiwKICAgICAgICBzZXRWaWRlb0NvbnRlbnQ6IG5vb3B0aGlzZm4sCiAgICAgICAgdXBkYXRlQ29ycmVsYXRvcjogbm9vcGZuCiAgICB9OwogICAgY29uc3QgU2l6ZU1hcHBpbmdCdWlsZGVyID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgcCA9IFNpemVNYXBwaW5nQnVpbGRlci5wcm90b3R5cGU7CiAgICBwLmFkZFNpemUgPSBub29wdGhpc2ZuOwogICAgcC5idWlsZCA9IG5vb3BudWxsZm47CiAgICBjb25zdCBTbG90ID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgcCA9IFNsb3QucHJvdG90eXBlOwogICAgcC5hZGRTZXJ2aWNlID0gbm9vcHRoaXNmbjsKICAgIHAuY2xlYXJDYXRlZ29yeUV4Y2x1c2lvbnMgPSBub29wdGhpc2ZuOwogICAgcC5jbGVhclRhcmdldGluZyA9IG5vb3B0aGlzZm47CiAgICBwLmRlZmluZVNpemVNYXBwaW5nID0gbm9vcHRoaXNmbjsKICAgIHAuZ2V0ID0gbm9vcG51bGxmbjsKICAgIHAuZ2V0QWRVbml0UGF0aCA9IG5vb3BhcnJheWZuOwogICAgcC5nZXRBdHRyaWJ1dGVLZXlzID0gbm9vcGFycmF5Zm47CiAgICBwLmdldENhdGVnb3J5RXhjbHVzaW9ucyA9IG5vb3BhcnJheWZuOwogICAgcC5nZXREb21JZCA9IG5vb3BzdHJmbjsKICAgIHAuZ2V0UmVzcG9uc2VJbmZvcm1hdGlvbiA9IG5vb3BudWxsZm47CiAgICBwLmdldFNsb3RFbGVtZW50SWQgPSBub29wc3RyZm47CiAgICBwLmdldFNsb3RJZCA9IG5vb3B0aGlzZm47CiAgICBwLmdldFRhcmdldGluZyA9IG5vb3BhcnJheWZuOwogICAgcC5nZXRUYXJnZXRpbmdLZXlzID0gbm9vcGFycmF5Zm47CiAgICBwLnNldCA9IG5vb3B0aGlzZm47CiAgICBwLnNldENhdGVnb3J5RXhjbHVzaW9uID0gbm9vcHRoaXNmbjsKICAgIHAuc2V0Q2xpY2tVcmwgPSBub29wdGhpc2ZuOwogICAgcC5zZXRDb2xsYXBzZUVtcHR5RGl2ID0gbm9vcHRoaXNmbjsKICAgIHAuc2V0VGFyZ2V0aW5nID0gbm9vcHRoaXNmbjsKICAgIHAudXBkYXRlVGFyZ2V0aW5nRnJvbU1hcCA9IG5vb3B0aGlzZm47CiAgICAvLwogICAgY29uc3QgZ3B0ID0gd2luZG93Lmdvb2dsZXRhZyB8fCB7fTsKICAgIGNvbnN0IGNtZCA9IGdwdC5jbWQgfHwgW107CiAgICBncHQuYXBpUmVhZHkgPSB0cnVlOwogICAgZ3B0LmNtZCA9IFtdOwogICAgZ3B0LmNtZC5wdXNoID0gZnVuY3Rpb24oYSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGEoKTsKICAgICAgICB9IGNhdGNoIChleCkgewogICAgICAgIH0KICAgICAgICByZXR1cm4gMTsKICAgIH07CiAgICBncHQuY29tcGFuaW9uQWRzID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb21wYW5pb25BZHNTZXJ2aWNlOyB9OwogICAgZ3B0LmNvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnRTZXJ2aWNlOyB9OwogICAgZ3B0LmRlZmluZU91dE9mUGFnZVNsb3QgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTbG90KCk7IH07CiAgICBncHQuZGVmaW5lU2xvdCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFNsb3QoKTsgfTsKICAgIGdwdC5kZXN0cm95U2xvdHMgPSBub29wZm47CiAgICBncHQuZGlzYWJsZVB1Ymxpc2hlckNvbnNvbGUgPSBub29wZm47CiAgICBncHQuZGlzcGxheSA9IG5vb3BmbjsKICAgIGdwdC5lbmFibGVTZXJ2aWNlcyA9IG5vb3BmbjsKICAgIGdwdC5nZXRWZXJzaW9uID0gbm9vcHN0cmZuOwogICAgZ3B0LnB1YmFkcyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHViQWRzU2VydmljZTsgfTsKICAgIGdwdC5wdWJhZHNSZWFkeSA9IHRydWU7CiAgICBncHQuc2V0QWRJZnJhbWVUaXRsZSA9IG5vb3BmbjsKICAgIGdwdC5zaXplTWFwcGluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFNpemVNYXBwaW5nQnVpbGRlcigpOyB9OwogICAgd2luZG93Lmdvb2dsZXRhZyA9IGdwdDsKICAgIHdoaWxlICggY21kLmxlbmd0aCAhPT0gMCApIHsKICAgICAgICBncHQuY21kLnB1c2goY21kLnNoaWZ0KCkpOwogICAgfQp9KSgpOwo="},{"name":"hd-main.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBsID0ge307CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICBjb25zdCBwcm9wcyA9IFsKICAgICAgICAiJGoiLCJBZCIsIkJkIiwiQ2QiLCJEZCIsIkVkIiwiRmQiLCJHZCIsIkhkIiwiSWQiLCJKZCIsIk5qIiwiT2MiLCJQYyIsIlBlIiwKICAgICAgICAiUWMiLCJRZSIsIlJjIiwiUmUiLCJSaSIsIlNjIiwiVGMiLCJVYyIsIlZjIiwiV2MiLCJXZyIsIlhjIiwiWGciLCJZYyIsIllkIiwKICAgICAgICAiYWQiLCJhZSIsImJkIiwiYmYiLCJjZCIsImRkIiwiZWQiLCJlZiIsImVrIiwiZmQiLCJmZyIsImZoIiwiZmsiLCJnZCIsImhkIiwKICAgICAgICAiaWciLCJpaiIsImpkIiwia2QiLCJrZSIsImxkIiwibWQiLCJtaSIsIm5kIiwib2QiLCJvaCIsInBkIiwicGYiLCJxZCIsInJkIiwKICAgICAgICAic2QiLCJ0ZCIsInVkIiwidmQiLCJ3ZCIsIndnIiwieGQiLCJ4aCIsInlkIiwiemQiLAogICAgICAgICIkZCIsIiRlIiwiJGsiLCJBZSIsIkFmIiwiQWoiLCJCZSIsIkNlIiwiRGUiLCJFZSIsIkVrIiwiRW8iLCJFcCIsIkZlIiwiRm8iLAogICAgICAgICJHZSIsIkdoIiwiSGsiLCJJZSIsIklwIiwiSmUiLCJLZSIsIktrIiwiS3EiLCJMZSIsIkxoIiwiTGsiLCJNZSIsIk1tIiwiTmUiLAogICAgICAgICJPZSIsIlBlIiwiUWUiLCJSZSIsIlJwIiwiU2UiLCJUZSIsIlVlIiwiVmUiLCJWcCIsIldlIiwiWGQiLCJYZSIsIllkIiwiWWUiLAogICAgICAgICJaZCIsIlplIiwiWmYiLCJaayIsImFlIiwiYWYiLCJhbCIsImJlIiwiYmYiLCJiZyIsImNlIiwiY3AiLCJkZiIsImRpIiwiZWUiLAogICAgICAgICJlZiIsImZlIiwiZmYiLCJnZiIsImdtIiwiaGUiLCJoZiIsImllIiwiamUiLCJqZiIsImtlIiwia2YiLCJrbCIsImxlIiwibGYiLAogICAgICAgICJsayIsIm1mIiwibWciLCJtbiIsIm5mIiwib2UiLCJvZiIsInBlIiwicGYiLCJwZyIsInFlIiwicWYiLCJyZSIsInJmIiwic2UiLAogICAgICAgICJzZiIsInRlIiwidGYiLCJ0aSIsInVlIiwidWYiLCJ2ZSIsInZmIiwid2UiLCJ3ZiIsIndnIiwid2kiLCJ4ZSIsInllIiwieWYiLAogICAgICAgICJ5ayIsInlsIiwiemUiLCJ6ZiIsInprIgogICAgXTsKICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrICkgewogICAgICAgIGxbcHJvcHNbaV1dID0gbm9vcGZuOwogICAgfQogICAgd2luZG93LkwgPSB3aW5kb3cuSiA9IGw7Cn0pKCk7Cg=="},{"name":"ligatus_angular-tag.js","aliases":["ligatus.com/*/angular-tag.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBzZWxmLmFkUHJvdGVjdCA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICB1YWJwZGw6IHsgdmFsdWU6IHRydWUgfSwKICAgICAgICB1YWJEZXRlY3Q6IHsgdmFsdWU6IHRydWUgfQogICAgfSk7Cn0pKCk7Cg=="},{"name":"mxpnl_mixpanel.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAyMS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAvLyBodHRwczovL2RldmVsb3Blci5taXhwYW5lbC5jb20vZG9jcy9qYXZhc2NyaXB0LWZ1bGwtYXBpLXJlZmVyZW5jZQogICAgY29uc3QgbWl4cGFuZWwgPSB7CiAgICAgICAgZ2V0X2Rpc3RpbmN0X2lkKCkgewogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfSwKICAgICAgICBpbml0KHQsIGNmZykgewogICAgICAgICAgICBpZiAoIGNmZyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoICdsb2FkZWQnIGluIGNmZyA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGNmZy5sb2FkZWQgaW5zdGFuY2VvZiBGdW5jdGlvbiA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBjZmcubG9hZGVkKCk7CiAgICAgICAgfSwKICAgICAgICByZWdpc3RlcigpIHsKICAgICAgICB9LAogICAgICAgIHJlZ2lzdGVyX29uY2UoKSB7CiAgICAgICAgfSwKICAgICAgICB0cmFjaygpIHsKICAgICAgICAgICAgY29uc3QgY2IgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykucG9wKCk7CiAgICAgICAgICAgIGlmICggY2IgaW5zdGFuY2VvZiBGdW5jdGlvbiA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBjYigpOwogICAgICAgIH0sCiAgICB9OwogICAgY29uc3QgcSA9IHNlbGYubWl4cGFuZWwgJiYgc2VsZi5taXhwYW5lbC5faSB8fCBbXTsKICAgIHNlbGYubWl4cGFuZWwgPSBtaXhwYW5lbDsKICAgIGZvciAoIGNvbnN0IGkgb2YgcSApIHsKICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkoaSkgPT09IGZhbHNlICkgeyBjb250aW51ZTsgfQogICAgICAgIG1peHBhbmVsLmluaXQoLi4uaSk7CiAgICB9Cn0pKCk7Cg=="},{"name":"monkeybroker.js","aliases":["d3pkae9owd2lcf.cloudfront.net/mb105.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICB3aW5kb3cucGJqcyA9IHsgbGliTG9hZGVkOiB0cnVlIH07CiAgICBjb25zdCBtYiA9IHdpbmRvdy5Nb25rZXlCcm9rZXIgfHwgewogICAgICAgIGFkZEF0dHJpYnV0ZTogbm9vcGZuLAogICAgICAgIGFkZFNsb3Q6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgdGhpcy5zbG90c1thLnNsb3RdID0ge307CiAgICAgICAgfSwKICAgICAgICBkZWZpbmVTbG90OiBub29wZm4sCiAgICAgICAgZmlsbFNsb3Q6IG5vb3BmbiwKICAgICAgICBnbzogbm9vcGZuLAogICAgICAgIGludmVudG9yeUNvbmRpdGlvbmFsUGxhY2VtZW50OiBub29wZm4sCiAgICAgICAgcmVnaXN0ZXJTaXplQ2FsbGJhY2s6IG5vb3BmbiwKICAgICAgICByZWdpc3RlclNsb3RDYWxsYmFjazogbm9vcGZuLAogICAgICAgIHNsb3RzOiB7fSwKICAgICAgICB2ZXJzaW9uOiAnJwogICAgfTsKICAgIG1iLnJlZ1Nsb3RzTWFwID0gbWIuc2xvdHM7CiAgICB3aW5kb3cuTW9ua2V5QnJva2VyID0gbWI7Cn0pKCk7Cg=="},{"name":"nobab.js","aliases":["bab-defuser.js","prevent-bab.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBzaWduYXR1cmVzID0gWwogICAgICAgIFsgJ2Jsb2NrYWRibG9jaycgXSwKICAgICAgICBbICdiYWJhc2JtJyBdLAogICAgICAgIFsgL2dldEl0ZW1cKCdiYWJuJ1wpLyBdLAogICAgICAgIFsKICAgICAgICAgICAgJ2dldEVsZW1lbnRCeUlkJywKICAgICAgICAgICAgJ1N0cmluZy5mcm9tQ2hhckNvZGUnLAogICAgICAgICAgICAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknLAogICAgICAgICAgICAnY2hhckF0JywKICAgICAgICAgICAgJ0RPTUNvbnRlbnRMb2FkZWQnLAogICAgICAgICAgICAnQWRCbG9jaycsCiAgICAgICAgICAgICdhZGRFdmVudExpc3RlbmVyJywKICAgICAgICAgICAgJ2RvU2Nyb2xsJywKICAgICAgICAgICAgJ2Zyb21DaGFyQ29kZScsCiAgICAgICAgICAgICc8PDJ8cj4+NCcsCiAgICAgICAgICAgICdzZXNzaW9uU3RvcmFnZScsCiAgICAgICAgICAgICdjbGllbnRXaWR0aCcsCiAgICAgICAgICAgICdsb2NhbFN0b3JhZ2UnLAogICAgICAgICAgICAnTWF0aCcsCiAgICAgICAgICAgICdyYW5kb20nCiAgICAgICAgXSwKICAgIF07CiAgICBjb25zdCBjaGVjayA9IGZ1bmN0aW9uKHMpIHsKICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBzaWduYXR1cmVzLmxlbmd0aDsgaSsrICkgewogICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBzaWduYXR1cmVzW2ldOwogICAgICAgICAgICBsZXQgbWF0Y2ggPSAwOwogICAgICAgICAgICBmb3IgKCBsZXQgaiA9IDA7IGogPCB0b2tlbnMubGVuZ3RoOyBqKysgKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tqXTsKICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRva2VuIGluc3RhbmNlb2YgUmVnRXhwCiAgICAgICAgICAgICAgICAgICAgPyBzLnNlYXJjaCh0b2tlbikKICAgICAgICAgICAgICAgICAgICA6IHMuaW5kZXhPZih0b2tlbik7CiAgICAgICAgICAgICAgICBpZiAoIHBvcyAhPT0gLTEgKSB7IG1hdGNoICs9IDE7IH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIChtYXRjaCAvIHRva2Vucy5sZW5ndGgpID49IDAuOCApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHdpbmRvdy5ldmFsID0gbmV3IFByb3h5KHdpbmRvdy5ldmFsLCB7ICAgICAgICAgICAgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBjb25zdCBhID0gYXJnc1swXTsKICAgICAgICAgICAgaWYgKCB0eXBlb2YgYSAhPT0gJ3N0cmluZycgfHwgIWNoZWNrKGEpICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIGRvY3VtZW50LmJvZHkgKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd2aXNpYmlsaXR5Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhYmFzYm1zZ3gnKTsKICAgICAgICAgICAgaWYgKCBlbCApIHsKICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICB3aW5kb3cuc2V0VGltZW91dCA9IG5ldyBQcm94eSh3aW5kb3cuc2V0VGltZW91dCwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgY29uc3QgYSA9IGFyZ3NbMF07CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHR5cGVvZiBhICE9PSAnc3RyaW5nJyB8fAogICAgICAgICAgICAgICAgL1wuYmFiX2VsZW1lbnRpZC4kLy50ZXN0KGEpID09PSBmYWxzZQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpc0FyZywgYXJncyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfSkoKTsK"},{"name":"nobab2.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAyMS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0OwogICAgaWYgKCBzY3JpcHQgPT09IG51bGwgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc3JjID0gc2NyaXB0LnNyYzsKICAgIGlmICggdHlwZW9mIHNyYyAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgLy8gVGhlIHNjcmlwbGV0IGlzIG1lYW50IHRvIGFjdCBPTkxZIHdoZW4gaXQncyBiZWluZyB1c2VkIGFzIGEgcmVkaXJlY3Rpb24KICAgIC8vIGZvciBzcGVjaWZpYyBkb21haW5zLgogICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKAogICAgICAgICdeaHR0cHM/Oi8vW1xcdy1dK1xcLignICsKICAgICAgICBbCiAgICAgICAgICAgICdhZGNsaXh4XFwubmV0JywKICAgICAgICAgICAgJ2FkbmV0YXNpYVxcLmNvbScsCiAgICAgICAgICAgICdhZHRyYWNrZXJzXFwubmV0JywKICAgICAgICAgICAgJ2Jhbm5lcnRyYWNrXFwubmV0JywKICAgICAgICBdLmpvaW4oJ3wnKSArCiAgICAgICAgJykvLicKICAgICk7CiAgICBpZiAoIHJlLnRlc3Qoc3JjKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgd2luZG93Lm5IN2VYek9zRyA9IDg1ODsKfSkoKTsK"},{"name":"noeval.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBsb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpOwogICAgd2luZG93LmV2YWwgPSBuZXcgUHJveHkod2luZG93LmV2YWwsIHsgICAgICAgICAgLy8ganNoaW50IGlnbm9yZTogbGluZQogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgbG9nKGBEb2N1bWVudCB0cmllZCB0byBldmFsLi4uICR7YXJnc1swXX1cbmApOwogICAgICAgIH0KICAgIH0pOwp9KSgpOwo="},{"name":"noeval-silent.js","aliases":["silent-noeval.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cuZXZhbCA9IG5ldyBQcm94eSh3aW5kb3cuZXZhbCwgeyAgICAgICAgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKCkgewogICAgICAgIH0KICAgIH0pOwp9KSgpOwo="},{"name":"nofab.js","aliases":["fuckadblock.js-3.2.0"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICBjb25zdCBGYWIgPSBmdW5jdGlvbigpIHt9OwogICAgRmFiLnByb3RvdHlwZS5jaGVjayA9IG5vb3BmbjsKICAgIEZhYi5wcm90b3R5cGUuY2xlYXJFdmVudCA9IG5vb3BmbjsKICAgIEZhYi5wcm90b3R5cGUuZW1pdEV2ZW50ID0gbm9vcGZuOwogICAgRmFiLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICBpZiAoICFhICkgeyBiKCk7IH0KICAgICAgICByZXR1cm4gdGhpczsKICAgIH07CiAgICBGYWIucHJvdG90eXBlLm9uRGV0ZWN0ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH07CiAgICBGYWIucHJvdG90eXBlLm9uTm90RGV0ZWN0ZWQgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgYSgpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfTsKICAgIEZhYi5wcm90b3R5cGUuc2V0T3B0aW9uID0gbm9vcGZuOwogICAgRmFiLnByb3RvdHlwZS5vcHRpb25zID0gewogICAgICAgIHNldDogbm9vcGZuLAogICAgICAgIGdldDogbm9vcGZuLAogICAgfTsKICAgIGNvbnN0IGZhYiA9IG5ldyBGYWIoKTsKICAgIGNvbnN0IGdldFNldEZhYiA9IHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gRmFiOyB9LAogICAgICAgIHNldDogZnVuY3Rpb24oKSB7fQogICAgfTsKICAgIGNvbnN0IGdldHNldGZhYiA9IHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFiOyB9LAogICAgICAgIHNldDogZnVuY3Rpb24oKSB7fQogICAgfTsKICAgIGlmICggd2luZG93Lmhhc093blByb3BlcnR5KCdGdWNrQWRCbG9jaycpICkgeyB3aW5kb3cuRnVja0FkQmxvY2sgPSBGYWI7IH0KICAgIGVsc2UgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnRnVja0FkQmxvY2snLCBnZXRTZXRGYWIpOyB9CiAgICBpZiAoIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnQmxvY2tBZEJsb2NrJykgKSB7IHdpbmRvdy5CbG9ja0FkQmxvY2sgPSBGYWI7IH0KICAgIGVsc2UgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnQmxvY2tBZEJsb2NrJywgZ2V0U2V0RmFiKTsgfQogICAgaWYgKCB3aW5kb3cuaGFzT3duUHJvcGVydHkoJ1NuaWZmQWRCbG9jaycpICkgeyB3aW5kb3cuU25pZmZBZEJsb2NrID0gRmFiOyB9CiAgICBlbHNlIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ1NuaWZmQWRCbG9jaycsIGdldFNldEZhYik7IH0KICAgIGlmICggd2luZG93Lmhhc093blByb3BlcnR5KCdmdWNrQWRCbG9jaycpICkgeyB3aW5kb3cuZnVja0FkQmxvY2sgPSBmYWI7IH0KICAgIGVsc2UgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZnVja0FkQmxvY2snLCBnZXRzZXRmYWIpOyB9CiAgICBpZiAoIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnYmxvY2tBZEJsb2NrJykgKSB7IHdpbmRvdy5ibG9ja0FkQmxvY2sgPSBmYWI7IH0KICAgIGVsc2UgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnYmxvY2tBZEJsb2NrJywgZ2V0c2V0ZmFiKTsgfQogICAgaWYgKCB3aW5kb3cuaGFzT3duUHJvcGVydHkoJ3NuaWZmQWRCbG9jaycpICkgeyB3aW5kb3cuc25pZmZBZEJsb2NrID0gZmFiOyB9CiAgICBlbHNlIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3NuaWZmQWRCbG9jaycsIGdldHNldGZhYik7IH0KfSkoKTsK"},{"name":"noop-0.1s.mp3","aliases":["noopmp3-0.1s","abp-resource:blank-mp3"],"kind":{"mime":"audio/mp3"},"content":"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjQwLjEwMQAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAGAAADAABgYGBgYGBgYGBgYGBgYGBggICAgICAgICAgICAgICAgICgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4P////////////////////8AAAAATGF2YzU2LjYwAAAAAAAAAAAAAAAAJAAAAAAAAAAAAwDNZKlY//sUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZB4P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZDwP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZFoP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZHgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZJYP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"},{"name":"noop-0.5s.mp3","aliases":[],"kind":{"mime":"audio/mp3"},"content":"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAWAAAJAAAgICAgKioqKio1NTU1QEBAQEBKSkpKVVVVVVVgYGBgampqamp1dXV1gICAgICKioqKlZWVlZWgoKCgoKqqqqq1tbW1tcDAwMDKysrKytXV1dXg4ODg4Orq6ur19fX19f////8AAAAATGF2YzU4LjU0AAAAAAAAAAAAAAAAJAMAAAAAAAAACQDI0dkC//sUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZB4P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZDwP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZFoP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZHgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZJYP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZLQP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZNIP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"},{"name":"noop-1s.mp4","aliases":["noopmp4-1s"],"kind":{"mime":"video/mp4"},"content":"AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"},{"name":"noop.css","aliases":[],"kind":{"mime":"text/css"},"content":"LyogKi8K"},{"name":"noop.html","aliases":["noopframe"],"kind":{"mime":"text/html"},"content":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgogICAgPGhlYWQ+PHRpdGxlPjwvdGl0bGU+PC9oZWFkPgogICAgPGJvZHk+PC9ib2R5Pgo8L2h0bWw+Cg=="},{"name":"noop.js","aliases":["noopjs","abp-resource:blank-js"],"kind":{"mime":"application/javascript"},"content":"KGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwp9KSgpOwo="},{"name":"noop.txt","aliases":["nooptext"],"kind":{"mime":"text/plain"},"content":"Cg=="},{"name":"noop-vmap1.0.xml","aliases":["noopvmap-1.0"],"kind":{"mime":"text/xml"},"content":"PHZtYXA6Vk1BUCB4bWxuczp2bWFwPSJodHRwOi8vd3d3LmlhYi5uZXQvdmlkZW9zdWl0ZS92bWFwIiB2ZXJzaW9uPSIxLjAiPjwvdm1hcDpWTUFQPgo="},{"name":"outbrain-widget.js","aliases":["widgets.outbrain.com/outbrain.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBub29wZm4gPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICBjb25zdCBvYnIgPSB7fTsKICAgIGNvbnN0IG1ldGhvZHMgPSBbCiAgICAgICAgJ2NhbGxDbGljaycsCiAgICAgICAgJ2NhbGxMb2FkTW9yZScsCiAgICAgICAgJ2NhbGxSZWNzJywKICAgICAgICAnY2FsbFVzZXJaYXBwaW5nJywKICAgICAgICAnY2FsbFdoYXRJcycsCiAgICAgICAgJ2NhbmNlbFJlY29tbWVuZGF0aW9uJywKICAgICAgICAnY2FuY2VsUmVjcycsCiAgICAgICAgJ2Nsb3NlQ2FyZCcsCiAgICAgICAgJ2Nsb3NlTW9kYWwnLAogICAgICAgICdjbG9zZVRieCcsCiAgICAgICAgJ2Vycm9ySW5qZWN0aW9uSGFuZGxlcicsCiAgICAgICAgJ2dldENvdW50T2ZSZWNzJywKICAgICAgICAnZ2V0U3RhdCcsCiAgICAgICAgJ2ltYWdlRXJyb3InLAogICAgICAgICdtYW51YWxWaWRlb0NsaWNrZWQnLAogICAgICAgICdvbk9kYlJldHVybicsCiAgICAgICAgJ29uVmlkZW9DbGljaycsCiAgICAgICAgJ3BhZ2VyTG9hZCcsCiAgICAgICAgJ3JlY0NsaWNrZWQnLAogICAgICAgICdyZWZyZXNoU3BlY2lmaWNXaWRnZXQnLAogICAgICAgICdyZW5kZXJTcGFXaWRnZXRzJywKICAgICAgICAncmVmcmVzaFdpZGdldCcsCiAgICAgICAgJ3JlbG9hZFdpZGdldCcsCiAgICAgICAgJ3Jlc2VhcmNoV2lkZ2V0JywKICAgICAgICAncmV0dXJuZWRFcnJvcicsCiAgICAgICAgJ3JldHVybmVkSHRtbERhdGEnLAogICAgICAgICdyZXR1cm5lZElyZERhdGEnLAogICAgICAgICdyZXR1cm5lZEpzb25EYXRhJywKICAgICAgICAnc2Nyb2xsTG9hZCcsCiAgICAgICAgJ3Nob3dEZXNjcmlwdGlvbicsCiAgICAgICAgJ3Nob3dSZWNJbklmcmFtZScsCiAgICAgICAgJ3VzZXJaYXBwaW5nTWVzc2FnZScsCiAgICAgICAgJ3phcHBpbmdGb3JtQWN0aW9uJwogICAgXTsKICAgIG9ici5leHRlcm4gPSB7CiAgICAgICAgdmlkZW86IHsKICAgICAgICAgICAgZ2V0VmlkZW9SZWNzOiBub29wZm4sCiAgICAgICAgICAgIHZpZGVvQ2xpY2tlZDogbm9vcGZuCiAgICAgICAgfQogICAgfTsKICAgIG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihhKSB7CiAgICAgICAgb2JyLmV4dGVyblthXSA9IG5vb3BmbjsKICAgIH0pOwogICAgd2luZG93Lk9CUiA9IHdpbmRvdy5PQlIgfHwgb2JyOwp9KSgpOwo="},{"name":"popads.js","aliases":["popads.net.js","prevent-popads-net.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBtYWdpYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoRGF0ZS5ub3coKSAlIDI2ICsgOTcpICsKICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTgyNDUxNjUzICsgOTgyNDUxNjUzKS50b1N0cmluZygzNik7CiAgICBjb25zdCBvZSA9IHdpbmRvdy5vbmVycm9yOwogICAgd2luZG93Lm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIHNyYywgbGluZSwgY29sLCBlcnJvcikgewogICAgICAgIGlmICggdHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgJiYgbXNnLmluZGV4T2YobWFnaWMpICE9PSAtMSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIG9lIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIHJldHVybiBvZShtc2csIHNyYywgbGluZSwgY29sLCBlcnJvcik7CiAgICAgICAgfQogICAgfS5iaW5kKCk7CiAgICBjb25zdCB0aHJvd01hZ2ljID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihtYWdpYyk7IH07CiAgICBkZWxldGUgd2luZG93LlBvcEFkczsKICAgIGRlbGV0ZSB3aW5kb3cucG9wbnM7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICBQb3BBZHM6IHsgc2V0OiB0aHJvd01hZ2ljIH0sCiAgICAgICAgcG9wbnM6IHsgc2V0OiB0aHJvd01hZ2ljIH0KICAgIH0pOwp9KSgpOwo="},{"name":"popads-dummy.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkZWxldGUgd2luZG93LlBvcEFkczsKICAgIGRlbGV0ZSB3aW5kb3cucG9wbnM7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICBQb3BBZHM6IHsgdmFsdWU6IHt9IH0sCiAgICAgICAgcG9wbnM6IHsgdmFsdWU6IHt9IH0KICAgIH0pOwp9KSgpOwo="},{"name":"prebid-ads.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAyMi1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cuY2FuUnVuQWRzID0gdHJ1ZTsKICAgIHdpbmRvdy5pc0FkQmxvY2tBY3RpdmUgPSBmYWxzZTsKfSkoKTsK"},{"name":"scorecardresearch_beacon.js","aliases":["scorecardresearch.com/beacon.js"],"kind":{"mime":"application/javascript"},"content":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICB1QmxvY2sgT3JpZ2luIC0gYSBicm93c2VyIGV4dGVuc2lvbiB0byBibG9jayByZXF1ZXN0cy4KICAgIENvcHlyaWdodCAoQykgMjAxOS1wcmVzZW50IFJheW1vbmQgSGlsbAoKICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogICAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSB7aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL30uCgogICAgSG9tZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrCiovCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cuQ09NU0NPUkUgPSB7CiAgICAgICAgcHVyZ2U6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB3aW5kb3cuX2NvbXNjb3JlID0gW107CiAgICAgICAgfSwKICAgICAgICBiZWFjb246IGZ1bmN0aW9uKCkgewogICAgICAgIH0KICAgIH07Cn0pKCk7Cg=="},{"name":"async-sugarcoat-04394153a7ce417b88e3fe1790a4e6a269bfebe5.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"e2NvbnN0IGE9e307KGU9PnsidXNlIHN0cmljdCI7Y29uc3QgdD1TeW1ib2woImRlZmVycmVkSGFuZGxlIiksbj1TeW1ib2woIm9ubG9hZHN0YXJ0IiksaT1TeW1ib2woIm9ucHJvZ3Jlc3MiKSxyPVN5bWJvbCgib25hYm9ydCIpLGE9U3ltYm9sKCJvbmVycm9yIiksbz1TeW1ib2woIm9ubG9hZCIpLHM9U3ltYm9sKCJvbnRpbWVvdXQiKSxnPVN5bWJvbCgib25sb2FkZW5kIiksbD1TeW1ib2woIm9ucmVhZHlzdGF0ZWNoYW5nZSIpLGQ9U3ltYm9sKCJyZWFkeVN0YXRlIiksdT1TeW1ib2woInRpbWVvdXQiKSxjPVN5bWJvbCgid2l0aENyZWRlbnRpYWxzIikscD1TeW1ib2woInVwbG9hZCIpLGg9U3ltYm9sKCJyZXNwb25zZVR5cGUiKSx2PShlLG4pPT57dmFyIHQ9bi5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLGUuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpc1tuXTt0JiZ0LmNhbGwodGhpcyxlKX0pfSxrPShlLHQpPT57ZVtkXT10LGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInJlYWR5c3RhdGVjaGFuZ2UiKSl9O2xldCBNPSEwO2NsYXNzIG0gZXh0ZW5kcyBFdmVudFRhcmdldHtjb25zdHJ1Y3Rvcigpe2lmKHN1cGVyKCksISh0aGlzIGluc3RhbmNlb2YgZnx8dGhpcyBpbnN0YW5jZW9mIHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKTt2KHRoaXMsbiksdih0aGlzLGkpLHYodGhpcyxyKSx2KHRoaXMsYSksdih0aGlzLG8pLHYodGhpcyxzKSx2KHRoaXMsZyl9Z2V0IG9ubG9hZHN0YXJ0KCl7cmV0dXJuIHRoaXNbbl19c2V0IG9ubG9hZHN0YXJ0KGUpe3RoaXNbbl09ZX1nZXQgb25wcm9ncmVzcygpe3JldHVybiB0aGlzW2ldfXNldCBvbnByb2dyZXNzKGUpe3RoaXNbaV09ZX1nZXQgb25hYm9ydCgpe3JldHVybiB0aGlzW3JdfXNldCBvbmFib3J0KGUpe3RoaXNbcl09ZX1nZXQgb25lcnJvcigpe3JldHVybiB0aGlzW2FdfXNldCBvbmVycm9yKGUpe3RoaXNbYV09ZX1nZXQgb250aW1lb3V0KCl7cmV0dXJuIHRoaXNbc119c2V0IG9udGltZW91dChlKXt0aGlzW3NdPWV9Z2V0IG9ubG9hZGVuZCgpe3JldHVybiB0aGlzW2ddfXNldCBvbmxvYWRlbmQoZSl7dGhpc1tnXT1lfX1lLlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm0sd3JpdGFibGU6ITB9O2NsYXNzIHkgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKCl7aWYoTSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbGxlZ2FsIGNvbnN0cnVjdG9yIik7c3VwZXIoKX19ZS5YTUxIdHRwUmVxdWVzdFVwbG9hZD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6eSx3cml0YWJsZTohMH07Y2xhc3MgZiBleHRlbmRzIG17Y29uc3RydWN0b3IoKXtzdXBlcigpLE09ITE7dmFyIGU9bmV3IHk7TT0hMCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSksdih0aGlzLGwpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHZhbHVlOjAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx1LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTowLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsYyx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6ITEsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxwLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTplLHdyaXRhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsaCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6IiIsd3JpdGFibGU6ITB9KX1nZXQgb25yZWFkeXN0YXRlY2hhbmdlKCl7cmV0dXJuIHRoaXNbbF19c2V0IG9ucmVhZHlzdGF0ZWNoYW5nZShlKXt0aGlzW2xdPWV9Z2V0IHJlYWR5U3RhdGUoKXtyZXR1cm4gdGhpc1tkXX1vcGVuKGUsdCl7c3dpdGNoKHRoaXNbZF0pe2Nhc2UgMDpjYXNlIDQ6ayh0aGlzLDEpfX1zZXRSZXF1ZXN0SGVhZGVyKGUsdCl7fXNldFRydXN0VG9rZW4oZSl7fWdldCB0aW1lb3V0KCl7cmV0dXJuIHRoaXNbdV19c2V0IHRpbWVvdXQoZSl7dGhpc1t1XT1lfWdldCB3aXRoQ3JlZGVudGlhbHMoKXtyZXR1cm4gdGhpc1tjXX1zZXQgd2l0aENyZWRlbnRpYWxzKGUpe3N3aXRjaCh0aGlzW2RdKXtjYXNlIDA6Y2FzZSAxOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IERPTUV4Y2VwdGlvbigiRmFpbGVkIHRvIHNldCB0aGUgJ3dpdGhDcmVkZW50aWFscycgcHJvcGVydHkgb24gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIHZhbHVlIG1heSBvbmx5IGJlIHNldCBpZiB0aGUgb2JqZWN0J3Mgc3RhdGUgaXMgVU5TRU5UIG9yIE9QRU5FRC4iKX10aGlzW2NdPSEhZX1nZXQgdXBsb2FkKCl7cmV0dXJuIHRoaXNbcF19c2VuZCgpe2lmKDEhPT10aGlzW2RdfHxudWxsIT09dGhpc1t0XSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2VuZCcgb24gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIG9iamVjdCdzIHN0YXRlIG11c3QgYmUgT1BFTkVELiIpO3RoaXNbdF09c2V0VGltZW91dCgoKT0+e3RoaXNbdF09bnVsbCxrKHRoaXMsNCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQcm9ncmVzc0V2ZW50KCJlcnJvciIpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFByb2dyZXNzRXZlbnQoImxvYWRlbmQiKSl9LDApfWFib3J0KCl7MT09PXRoaXNbZF0mJm51bGwhPT10aGlzW3RdJiYoY2xlYXJUaW1lb3V0KHRoaXNbdF0pLHRoaXNbdF09bnVsbCxrKHRoaXMsMCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQcm9ncmVzc0V2ZW50KCJhYm9ydCIpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFByb2dyZXNzRXZlbnQoImxvYWRlbmQiKSkpfWdldCByZXNwb25zZVVSTCgpe3JldHVybiIifWdldCBzdGF0dXMoKXtyZXR1cm4gMH1nZXQgc3RhdHVzVGV4dCgpe3JldHVybiIifWdldFJlc3BvbnNlSGVhZGVyKGUpe3JldHVybiBudWxsfW92ZXJyaWRlTWltZVR5cGUoZSl7fWdldCByZXNwb25zZVR5cGUoKXtyZXR1cm4gdGhpc1toXX1zZXQgcmVzcG9uc2VUeXBlKGUpe2lmKDQ9PT10aGlzW2RdKXRocm93IG5ldyBET01FeGNlcHRpb24oIkZhaWxlZCB0byBzZXQgdGhlICdyZXNwb25zZVR5cGUnIHByb3BlcnR5IG9uICdYTUxIdHRwUmVxdWVzdCc6IFRoZSByZXNwb25zZSB0eXBlIGNhbm5vdCBiZSBzZXQgaWYgdGhlIG9iamVjdCdzIHN0YXRlIGlzIExPQURJTkcgb3IgRE9ORS4iKTtzd2l0Y2goZSl7Y2FzZSIiOmNhc2UiYXJyYXlidWZmZXIiOmNhc2UiYmxvYiI6Y2FzZSJkb2N1bWVudCI6Y2FzZSJqc29uIjpjYXNlInRleHQiOnRoaXNbaF09ZX19Z2V0IHJlc3BvbnNlKCl7dmFyIGU9dGhpc1toXTtyZXR1cm4iIj09PWV8fCJ0ZXh0Ij09PWU/IiI6bnVsbH1nZXQgcmVzcG9uc2VUZXh0KCl7dmFyIGU9dGhpc1toXTtpZigiIj09PWV8fCJ0ZXh0Ij09PWUpcmV0dXJuIiI7dGhyb3cgbmV3IERPTUV4Y2VwdGlvbigiRmFpbGVkIHRvIHJlYWQgdGhlICdyZXNwb25zZVRleHQnIHByb3BlcnR5IGZyb20gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIHZhbHVlIGlzIG9ubHkgYWNjZXNzaWJsZSBpZiB0aGUgb2JqZWN0J3MgJ3Jlc3BvbnNlVHlwZScgaXMgJycgb3IgJ3RleHQnICh3YXMgJ2FycmF5YnVmZmVyJykuIil9Z2V0IHJlc3BvbnNlWE1MKCl7cmV0dXJuIG51bGx9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCJVTlNFTlQiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCx2YWx1ZTowfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIk9QRU5FRCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwiSEVBREVSU19SRUNFSVZFRCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwiTE9BRElORyIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjN9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwiRE9ORSIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjR9KSxlLlhNTEh0dHBSZXF1ZXN0PXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpmLHdyaXRhYmxlOiEwfX0pKGEpO2NvbnN0IGI9e307KGU9PnsidXNlIHN0cmljdCI7bGV0IHQ9ITE7Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe2lmKHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpfWdldCBsZW5ndGgoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcykubGVuZ3RofWtleShlKXt2YXIgdD1PYmplY3Qua2V5cyh0aGlzKTtyZXR1cm4gZTwwfHxlPj10Lmxlbmd0aD9udWxsOnRbZV19Z2V0SXRlbShlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsZSk/dGhpc1tlXTpudWxsfXNldEl0ZW0oZSx0KXt0aGlzW2VdPVN0cmluZyh0KX1yZW1vdmVJdGVtKGUpe2RlbGV0ZSB0aGlzW2VdfWNsZWFyKCl7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcykpZGVsZXRlIHRoaXNbZV19fWUuU3RvcmFnZT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6bix3cml0YWJsZTohMH07Y29uc3QgaT1uZXcgbjtlLmxvY2FsU3RvcmFnZT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0KCl7cmV0dXJuIGl9fTtjb25zdCByPW5ldyBuO2Uuc2Vzc2lvblN0b3JhZ2U9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldCgpe3JldHVybiByfX0sdD0hMH0pKGIpLE1hcmtldGluZy5iaW5kRGVwZW5kZW5jeUltbWVkaWF0ZShmdW5jdGlvbigpe3dpbmRvdy5NYXJrZXRpbmcsTWFya2V0aW5nLmVuc2lnaHRlbk9wdGlvbnM7dHJ5e01hcmtldGluZy5VRE8ucGVyZlRpbWluZ1N0YXJ0KCJydWxlSWQtIit0aGlzLmlkKyItZGVwbG95bWVudElkLSIrdGhpcy5kZXBsb3ltZW50SWQpLCJ0cnVlIj09ZGVsbF9tYXJrZXRpbmdfdXRpbC5nZXRQYXJhbWV0ZXJCeU5hbWUoIm1kZWJ1ZyIsbG9jYXRpb24uc2VhcmNoKSYmKGRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0RHBpZD1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxNYXJrZXRpbmcuZ0V2ZW50KCJEQy05NjMyNjQ1L3NhbGVzMC9jc2JfdGVzdCt0cmFuc2FjdGlvbnMiLCJwdXJjaGFzZSIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlmcmFtZSIpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zcmMuaW5jbHVkZXMoInR5cGU9c2FsZXMiKSYmZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KE1hcmtldGluZyksIioiKX0pKSxNYXJrZXRpbmcuVURPLnBlcmZUaW1pbmdFbmQoInJ1bGVJZC0iK3RoaXMuaWQrIi1kZXBsb3ltZW50SWQtIit0aGlzLmRlcGxveW1lbnRJZCl9Y2F0Y2goZSl7ZGVsbF9tYXJrZXRpbmdfdXRpbC5kZWJ1ZyhlKX19LDM2MDAzMTEsWzM2MTc2ODJdLDYzNjE0MixbNjE5NDA0XSksTWFya2V0aW5nLmJpbmREZXBlbmRlbmN5RE9NUGFyc2VkKGZ1bmN0aW9uKCl7dmFyIG4sZSxpLHQscjt3aW5kb3cuTWFya2V0aW5nLE1hcmtldGluZy5lbnNpZ2h0ZW5PcHRpb25zO3RyeXtNYXJrZXRpbmcuVURPLnBlcmZUaW1pbmdTdGFydCgicnVsZUlkLSIrdGhpcy5pZCsiLWRlcGxveW1lbnRJZC0iK3RoaXMuZGVwbG95bWVudElkKSxuPXdpbmRvdyxlPWRvY3VtZW50LG5baT0idWV0cSJdPW5baV18fFtdLHQ9ZnVuY3Rpb24oKXt2YXIgZT17fS5jb25zdHJ1Y3Rvci5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LCJYTUxIdHRwUmVxdWVzdCIpLHQ9e30uY29uc3RydWN0b3IuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdywibG9jYWxTdG9yYWdlIik7dHJ5e3JldHVybiBlJiZ7fS5jb25zdHJ1Y3Rvci5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIlhNTEh0dHBSZXF1ZXN0IixhLlhNTEh0dHBSZXF1ZXN0KSx0JiZ7fS5jb25zdHJ1Y3Rvci5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csImxvY2FsU3RvcmFnZSIsYi5sb2NhbFN0b3JhZ2UpLGZ1bmN0aW9uKCl7dmFyIGU9e3RpOiI1MTAyMjYxIn07ZS5xPW5baV0sbltpXT1uZXcgVUVUKGUpLG5baV0ucHVzaCgicGFnZUxvYWQiKX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7ZSYme30uY29uc3RydWN0b3IuZGVmaW5lUHJvcGVydHkod2luZG93LCJYTUxIdHRwUmVxdWVzdCIsZSksdCYme30uY29uc3RydWN0b3IuZGVmaW5lUHJvcGVydHkod2luZG93LCJsb2NhbFN0b3JhZ2UiLHQpfX0sKHI9ZS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSkuc3JjPSIvL2JhdC5iaW5nLmNvbS9iYXQuanMiLHIuYXN5bmM9MSxyLm9ubG9hZD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZHlTdGF0ZTtlJiYibG9hZGVkIiE9PWUmJiJjb21wbGV0ZSIhPT1lfHwodCgpLHIub25sb2FkPXIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwpfSwoZT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXSkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocixlKSxNYXJrZXRpbmcuVURPLnBlcmZUaW1pbmdFbmQoInJ1bGVJZC0iK3RoaXMuaWQrIi1kZXBsb3ltZW50SWQtIit0aGlzLmRlcGxveW1lbnRJZCl9Y2F0Y2goZSl7ZGVsbF9tYXJrZXRpbmdfdXRpbC5kZWJ1ZyhlKX19LDM2MDUyNDIsWzM2MDYzMjldLDY5NTg3NCxbNjEwMzIzXSksTWFya2V0aW5nLmJpbmREZXBlbmRlbmN5RE9NUGFyc2VkKGZ1bmN0aW9uKCl7dmFyIGU7d2luZG93Lk1hcmtldGluZyxNYXJrZXRpbmcuZW5zaWdodGVuT3B0aW9uczt0cnl7TWFya2V0aW5nLlVETy5wZXJmVGltaW5nU3RhcnQoInJ1bGVJZC0iK3RoaXMuaWQrIi1kZXBsb3ltZW50SWQtIit0aGlzLmRlcGxveW1lbnRJZCksTWFya2V0aW5nLlVETy5wcmlvcmNvbnNlbnQmJigidXMiPT09KGU9TWFya2V0aW5nLnNjRGF0YU9iai5jb3VudHJ5KSYmTWFya2V0aW5nLmluc2VydFNjcmlwdCgiLy92dC5teXZpc3VhbGlxLm5ldC8yL1R4VVFOSFNLdkdXSWlNajFPaDN0ZnclM0QlM0QvdnQtMjg4LmpzIiksImNhIj09PWUmJk1hcmtldGluZy5pbnNlcnRTY3JpcHQoIi8vdnQubXl2aXN1YWxpcS5uZXQvMi9UeFVRTkhTS3ZHV0lpTWoxT2gzdGZ3JTNEJTNEL3Z0LTI4OS5qcyIpLCJiciI9PT1lJiZNYXJrZXRpbmcuaW5zZXJ0U2NyaXB0KCIvL3Z0Lm15dmlzdWFsaXEubmV0LzIvd1FRdFRpaXpsNFNpeHJoSVR5VHFiZyUzRCUzRC92dC0yODYuanMiKSwidWsiPT09ZSYmTWFya2V0aW5nLmluc2VydFNjcmlwdCgiLy92dC5teXZpc3VhbGlxLm5ldC8yL2FtaTdlV0Q3TWE5cWt1OUhERzIzMnclM0QlM0QvdnQtMjEzLmpzIiksImpwIj09PWUmJk1hcmtldGluZy5pbnNlcnRTY3JpcHQoIi8vdnQubXl2aXN1YWxpcS5uZXQvMi82JTJCeFQlMkJPM3oxemgxNHl1bEpCRE42ZyUzRCUzRC92dC0yODcuanMiKSwiYXUiPT09ZSYmTWFya2V0aW5nLmluc2VydFNjcmlwdCgiLy92dC5teXZpc3VhbGlxLm5ldC8yL2lwZWV5SGh0NG5wUUVpemlDV2FZenclM0QlM0QvdnQtMjk5LmpzIiksIm56Ij09PWUmJk1hcmtldGluZy5pbnNlcnRTY3JpcHQoIi8vdnQubXl2aXN1YWxpcS5uZXQvMi9pcGVleUhodDRucFFFaXppQ1dhWXp3JTNEJTNEL3Z0LTMwMS5qcyIpLCJpbiI9PT1lJiZNYXJrZXRpbmcuaW5zZXJ0U2NyaXB0KCIvL3Z0Lm15dmlzdWFsaXEubmV0LzIvdUJGJTJCbmRKVDduMHI5V3lzTkkxVnd3JTNEJTNEL3Z0LTI5OC5qcyIpLCJmciI9PT1lJiZNYXJrZXRpbmcuaW5zZXJ0U2NyaXB0KCIvL3Z0Lm15dmlzdWFsaXEubmV0LzIvR1hPZE4lMkJXdWdZM04zbjRhNUxBa05RJTNEJTNEL3Z0LTMwMC5qcyIpLCJkZSI9PT1lJiZNYXJrZXRpbmcuaW5zZXJ0U2NyaXB0KCIvL3Z0Lm15dmlzdWFsaXEubmV0LzIvdjlCSk9HY2dsNHdmam43cFhCaHVuQSUzRCUzRC92dC0zMDIuanMiKSksTWFya2V0aW5nLlVETy5wZXJmVGltaW5nRW5kKCJydWxlSWQtIit0aGlzLmlkKyItZGVwbG95bWVudElkLSIrdGhpcy5kZXBsb3ltZW50SWQpfWNhdGNoKGUpe2RlbGxfbWFya2V0aW5nX3V0aWwuZGVidWcoZSl9fSwzNTkzMzY1LFszNTA2OTI0LDM2MDYzMjldLDYyMTkxOSxbNjEwMzEwLDYxMDMyM10pLE1hcmtldGluZy5iaW5kRE9NUGFyc2VkKGZ1bmN0aW9uKCl7d2luZG93Lk1hcmtldGluZyxNYXJrZXRpbmcuZW5zaWdodGVuT3B0aW9uczt0cnl7TWFya2V0aW5nLlVETy5wZXJmVGltaW5nU3RhcnQoInJ1bGVJZC0iK3RoaXMuaWQrIi1kZXBsb3ltZW50SWQtIit0aGlzLmRlcGxveW1lbnRJZCksTWFya2V0aW5nLlVETy5wcmlvcmNvbnNlbnQmJk1hcmtldGluZy5pbWFnZVJlcXVlc3QoImh0dHBzOi8vcHguYWRzLmxpbmtlZGluLmNvbS9jb2xsZWN0Lz9waWQ9NzUxMyZmbXQ9Z2lmIiksTWFya2V0aW5nLlVETy5wZXJmVGltaW5nRW5kKCJydWxlSWQtIit0aGlzLmlkKyItZGVwbG95bWVudElkLSIrdGhpcy5kZXBsb3ltZW50SWQpfWNhdGNoKGUpe2RlbGxfbWFya2V0aW5nX3V0aWwuZGVidWcoZSl9fSwzNTkzMjg3LDYxOTA4OSksTWFya2V0aW5nLmJpbmREZXBlbmRlbmN5SW1tZWRpYXRlKGZ1bmN0aW9uKCl7dmFyIGkscixlO3dpbmRvdy5NYXJrZXRpbmcsTWFya2V0aW5nLmVuc2lnaHRlbk9wdGlvbnM7TWFya2V0aW5nLlVETy5mbF9sb2FkZWQ9ITEsTWFya2V0aW5nLlVETy5wcmlvcmNvbnNlbnQmJihNYXJrZXRpbmcubG9hZFNjcmlwdENhbGxiYWNrKCJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzP2lkPURDLTk2MzI2NDUiLGZ1bmN0aW9uKCl7ZGVsbF9tYXJrZXRpbmdfdXRpbC5jdXN0b21fbWFya2V0aW5nX2V2ZW50KCJmbF9sb2FkZWQiKSxNYXJrZXRpbmcuVURPLmZsX2xvYWRlZD0hMH0pLHdpbmRvdy5kYXRhTGF5ZXI9d2luZG93LmRhdGFMYXllcnx8W10sd2luZG93Lmd0YWc9ZnVuY3Rpb24oKXtkYXRhTGF5ZXIucHVzaChhcmd1bWVudHMpfSxndGFnKCJqcyIsbmV3IERhdGUpLGd0YWcoImNvbmZpZyIsIkRDLTk2MzI2NDUiKSxndGFnKCJjb25maWciLCJEQy05NjMyOTIxIiksZ3RhZygiY29uZmlnIiwiREMtOTYzMjY0OCIpLGk9ZnVuY3Rpb24oKXtyZXR1cm57YWxsb3dfY3VzdG9tX3NjcmlwdHM6ITAsdTE6TWFya2V0aW5nLlVETy5sYW5ndWFnZSx1MTA6TWFya2V0aW5nLlVETy5jc2VnLHUxMTpNYXJrZXRpbmcuVURPLmRlYWxzLHUxMjpNYXJrZXRpbmcuVURPLmRldmljZSx1MTM6TWFya2V0aW5nLlVETy5kaXNjb3VudCx1MTQ6TWFya2V0aW5nLlVETy5mYW1pbHksdTE1Ok1hcmtldGluZy5VRE8ub2dpZCx1MTY6TWFya2V0aW5nLlVETy5vcmRlcmNvZGUsdTE3Ok1hcmtldGluZy5VRE8ucGxhdGZvcm0sdTE4Ok1hcmtldGluZy5VRE8ucHJvZGNhdCx1MTk6TWFya2V0aW5nLlVETy5wcm9kdWN0LHUyOk1hcmtldGluZy5VRE8uc2VnbWVudCx1MjA6TWFya2V0aW5nLlVETy5wcm9tb2lkLHUyMTpNYXJrZXRpbmcuVURPLnR5cGUsdTIyOmRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0UGFyYW1ldGVyQnlOYW1lKCJkZ2MiLGxvY2F0aW9uLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSksdTIzOk1hcmtldGluZy5VRE8uZ2FjZCx1MjQ6ZGVsbF9tYXJrZXRpbmdfdXRpbC5nZXRQYXJhbWV0ZXJCeU5hbWUoImxpZCIsbG9jYXRpb24udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSx1MjU6TWFya2V0aW5nLlVETy52ZW4xLHUyNjpNYXJrZXRpbmcuVURPLnZlbjIsdTI4OmRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0UGFyYW1ldGVyQnlOYW1lKCJ0ZmNpZCIsbG9jYXRpb24udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSx1Mjk6TWFya2V0aW5nLlVETy5yZXZlbnVlLHUzOk1hcmtldGluZy5VRE8uY3VycmVuY3ksdTMwOk1hcmtldGluZy5VRE8udXNkcmV2LHUzNTpNYXJrZXRpbmcuVURPLmRwaWQsdTM2Ok1hcmtldGluZy5VRE8ubGFuZCx1Mzc6TWFya2V0aW5nLlVETy5zZXJpYWxwcm9kbGlzdCx1Mzg6TWFya2V0aW5nLlVETy5jamV2ZW50LHU0Ok1hcmtldGluZy5VRE8uY291bnRyeSx1NTpNYXJrZXRpbmcuVURPLmFjY291bnRpZCx1NjpNYXJrZXRpbmcuVURPLmNhdGVnb3J5LHU3Ok1hcmtldGluZy5VRE8uY2F0ZWdvcnlwYXRoLHU4Ok1hcmtldGluZy5VRE8uY2lkLHU5Ok1hcmtldGluZy5VRE8uY291cG9ufX0sTWFya2V0aW5nLlVETy5yZWFkRGF0YSgpLChyPWkoKSkudTMxPSIiLChlPWRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0Q29va2llKCJBTUNWXzRERDgwODYxNTE1Q0FCOTkwQTQ5MEQ0NSU0MEFkb2JlT3JnIikpJiYoci51MzE9ZS5zcGxpdCgiTUNNSUR8IilbMV0uc3BsaXQoInwiKVswXSksTWFya2V0aW5nLmdFdmVudD1NYXJrZXRpbmcuZ0V2ZW50fHxmdW5jdGlvbih0LG4pe3ZhciBlO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJmbF9sb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGU9cjsicHVyY2hhc2UiPT09biYmKGUudmFsdWU9TWFya2V0aW5nLlVETy51c2RyZXZ8fE1hcmtldGluZy5VRE8ucmV2ZW51ZSxlLnRyYW5zYWN0aW9uX2lkPWRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0RHBpZCgpKSxlLnNlbmRfdG89dCxndGFnKCJldmVudCIsbixlKX0pLE1hcmtldGluZy5VRE8uZmxfbG9hZGVkJiYoZT1yPWkoKSwicHVyY2hhc2UiPT09biYmKGUudmFsdWU9TWFya2V0aW5nLlVETy51c2RyZXZ8fE1hcmtldGluZy5VRE8ucmV2ZW51ZSxlLnRyYW5zYWN0aW9uX2lkPWRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0RHBpZCgpKSxlLnNlbmRfdG89dCxndGFnKCJldmVudCIsbixlKSl9KX0sMzYxNzY4MixbMzYwNjMyOV0sNjE5NDA0LFs2MTAzMjNdKSxNYXJrZXRpbmcuYmluZERlcGVuZGVuY3lJbW1lZGlhdGUoZnVuY3Rpb24oKXt3aW5kb3cuTWFya2V0aW5nLE1hcmtldGluZy5lbnNpZ2h0ZW5PcHRpb25zO01hcmtldGluZy5VRE8uZ19kb3dubG9hZD1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpe01hcmtldGluZy5VRE8uaHZlb3ZlcmxheT0hMSwiZG93bmxvYWQiPT09ZS5kZXRhaWwudHlwZSYmTWFya2V0aW5nLmdFdmVudCh0LG4pfSksTWFya2V0aW5nLlVETy5odmVvdmVybGF5JiZNYXJrZXRpbmcuZ0V2ZW50KHQsbil9LE1hcmtldGluZy5VRE8uZ19zaGFyZT1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpeyJzaGFyZSI9PT1lLmRldGFpbC50eXBlJiZNYXJrZXRpbmcuZ0V2ZW50KHQsbil9KX0sTWFya2V0aW5nLlVETy5nX21wdj1mdW5jdGlvbihlLHQpezM9PXNlc3Npb25TdG9yYWdlLmVuc3BhZ2Vjb3VudEZMVCYmTWFya2V0aW5nLmdFdmVudChlLHQpfSxNYXJrZXRpbmcuVURPLmdfYmNfc3RhcnQ9ZnVuY3Rpb24obixpKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHZpZGVvanMmJnZpZGVvanMucGxheWVycylmb3IodmFyIGUgaW4gdmlkZW9qcy5wbGF5ZXJzKXZpZGVvanMucGxheWVyc1tlXS5yZWFkeShmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbF8uaGFzQXR0cmlidXRlKCJtdXRlZCIpfHxlLm9uKCJzdGFydCIsZnVuY3Rpb24oKXtlLnZpZGVvX3N0YXJ0fHwoZS52aWRlb181MF9wZXJjZW50PSExLGUudmlkZW9fODBfcGVyY2VudD0hMSxNYXJrZXRpbmcuZ0V2ZW50KG4saSkpfSl9KTtlbHNlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uIGUodCl7ImJyaWdodGNvdmUiPT09dC5kZXRhaWwudHlwZSYmKE1hcmtldGluZy5VRE8uZ19iY19zdGFydChuLGkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJodmUiLGUpKX0pfSxNYXJrZXRpbmcuVURPLmdfYmNfNTA9ZnVuY3Rpb24odCxuKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYnJpZ2h0Y292ZTUwIixmdW5jdGlvbihlKXtNYXJrZXRpbmcuZ0V2ZW50KHQsbil9KX0sTWFya2V0aW5nLlVETy5nX2JjXzgwPWZ1bmN0aW9uKHQsbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJyaWdodGNvdmU4MCIsZnVuY3Rpb24oZSl7TWFya2V0aW5nLmdFdmVudCh0LG4pfSl9LE1hcmtldGluZy5VRE8uZ19iY19lbmQ9ZnVuY3Rpb24obixpKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHZpZGVvanMmJnZpZGVvanMucGxheWVycylmb3IodmFyIGUgaW4gdmlkZW9qcy5wbGF5ZXJzKXZpZGVvanMucGxheWVyc1tlXS5yZWFkeShmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbF8uaGFzQXR0cmlidXRlKCJtdXRlZCIpfHxlLm9uKCJlbmRlZCIsZnVuY3Rpb24oKXtNYXJrZXRpbmcuZ0V2ZW50KG4saSksZS52aWRlb19zdGFydD0hMX0pfSk7ZWxzZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaHZlIixmdW5jdGlvbiBlKHQpeyJicmlnaHRjb3ZlIj09PXQuZGV0YWlsLnR5cGUmJihNYXJrZXRpbmcuVURPLmdfYmNfZW5kKG4saSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImh2ZSIsZSkpfSl9LE1hcmtldGluZy5VRE8uZ19jb250YWN0dXM9ZnVuY3Rpb24odCxuKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaHZlIixmdW5jdGlvbihlKXsiY29udGFjdHVzIj09PWUuZGV0YWlsLnR5cGUmJk1hcmtldGluZy5nRXZlbnQodCxuKX0pfSxNYXJrZXRpbmcuVURPLmdfY2hhdD1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpeyJjaGF0Ij09PWUuZGV0YWlsLnR5cGUmJk1hcmtldGluZy5nRXZlbnQodCxuKX0pfSxNYXJrZXRpbmcuVURPLmdfYWRkdG9jYXJ0PWZ1bmN0aW9uKGUsdCl7ImNvbnRlbnRzIiE9PWRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0c2NNYXAoIndhY29udHJvbGxlciIpJiYiY2FydCIhPT1kZWxsX21hcmtldGluZ191dGlsLmdldHNjTWFwKCJ3b3JrZmxvd3N0ZXAiKXx8TWFya2V0aW5nLmdFdmVudChlLHQpfSxNYXJrZXRpbmcuVURPLmdfY2hlY2tvdXQ9ZnVuY3Rpb24oZSx0KXsiY29uZmlybWF0aW9uIj09PWRlbGxfbWFya2V0aW5nX3V0aWwuZ2V0c2NNYXAoIndhY29udHJvbGxlciIpJiZNYXJrZXRpbmcuZ0V2ZW50KGUsdCl9LE1hcmtldGluZy5VRE8uZ19wb2RjYXN0X2xpc3Rlbj1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpeyJwb2RjYXN0X2xpc3RlbiI9PT1lLmRldGFpbC50eXBlJiZNYXJrZXRpbmcuZ0V2ZW50KHQsbil9KX0sTWFya2V0aW5nLlVETy5nX3BvZGNhc3Rfc3Vic2NyaWJlPWZ1bmN0aW9uKHQsbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImh2ZSIsZnVuY3Rpb24oZSl7InBvZGNhc3Rfc3Vic2NyaWJlIj09PWUuZGV0YWlsLnR5cGUmJk1hcmtldGluZy5nRXZlbnQodCxuKX0pfSxNYXJrZXRpbmcuVURPLmdfcmZxX3N1Ym1pdD1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpeyJyZnFfc3VibWl0Ij09PWUuZGV0YWlsLnR5cGUmJk1hcmtldGluZy5nRXZlbnQodCxuKX0pfSxNYXJrZXRpbmcuVURPLmdfaW9uX3N1Ym1pdD1mdW5jdGlvbihlLHQpey9saXZlYmFsbC4qY29tcGxldGVkL2dpLnRlc3QoZGVsbF9tYXJrZXRpbmdfdXRpbC5nZXRzY01hcCgicGFnZW5hbWUiKSkmJk1hcmtldGluZy5nRXZlbnQoZSx0KX0sTWFya2V0aW5nLlVETy5nX2dhdGVkX3N1Ym1pdD1mdW5jdGlvbih0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJodmUiLGZ1bmN0aW9uKGUpeyJnYXRlZF9zdWJtaXQiPT09ZS5kZXRhaWwudHlwZSYmTWFya2V0aW5nLmdFdmVudCh0LG4pfSl9fSwzNDc1MTkzLFszNjE3NjgyXSw2MjA4MTgsWzYxOTQwNF0pfQo="},{"name":"async-sugarcoat-8a459c41783885dc83d30f5b7da2359091f4e607.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"e2NvbnN0IGE9e307KHQ9PnsidXNlIHN0cmljdCI7Y29uc3QgZT1TeW1ib2woImRlZmVycmVkSGFuZGxlIiksbj1TeW1ib2woIm9ubG9hZHN0YXJ0Iikscj1TeW1ib2woIm9ucHJvZ3Jlc3MiKSxhPVN5bWJvbCgib25hYm9ydCIpLG89U3ltYm9sKCJvbmVycm9yIiksaT1TeW1ib2woIm9ubG9hZCIpLHM9U3ltYm9sKCJvbnRpbWVvdXQiKSxjPVN5bWJvbCgib25sb2FkZW5kIiksdT1TeW1ib2woIm9ucmVhZHlzdGF0ZWNoYW5nZSIpLGw9U3ltYm9sKCJyZWFkeVN0YXRlIiksZz1TeW1ib2woInRpbWVvdXQiKSxoPVN5bWJvbCgid2l0aENyZWRlbnRpYWxzIiksZj1TeW1ib2woInVwbG9hZCIpLGQ9U3ltYm9sKCJyZXNwb25zZVR5cGUiKSxwPSh0LG4pPT57dmFyIGU9bi5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHQuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpc1tuXTtlJiZlLmNhbGwodGhpcyx0KX0pfSx2PSh0LGUpPT57dFtsXT1lLHQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInJlYWR5c3RhdGVjaGFuZ2UiKSl9O2xldCBtPSEwO2NsYXNzIGIgZXh0ZW5kcyBFdmVudFRhcmdldHtjb25zdHJ1Y3Rvcigpe2lmKHN1cGVyKCksISh0aGlzIGluc3RhbmNlb2YgeXx8dGhpcyBpbnN0YW5jZW9mIHcpKXRocm93IG5ldyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKTtwKHRoaXMsbikscCh0aGlzLHIpLHAodGhpcyxhKSxwKHRoaXMsbykscCh0aGlzLGkpLHAodGhpcyxzKSxwKHRoaXMsYyl9Z2V0IG9ubG9hZHN0YXJ0KCl7cmV0dXJuIHRoaXNbbl19c2V0IG9ubG9hZHN0YXJ0KHQpe3RoaXNbbl09dH1nZXQgb25wcm9ncmVzcygpe3JldHVybiB0aGlzW3JdfXNldCBvbnByb2dyZXNzKHQpe3RoaXNbcl09dH1nZXQgb25hYm9ydCgpe3JldHVybiB0aGlzW2FdfXNldCBvbmFib3J0KHQpe3RoaXNbYV09dH1nZXQgb25lcnJvcigpe3JldHVybiB0aGlzW29dfXNldCBvbmVycm9yKHQpe3RoaXNbb109dH1nZXQgb250aW1lb3V0KCl7cmV0dXJuIHRoaXNbc119c2V0IG9udGltZW91dCh0KXt0aGlzW3NdPXR9Z2V0IG9ubG9hZGVuZCgpe3JldHVybiB0aGlzW2NdfXNldCBvbmxvYWRlbmQodCl7dGhpc1tjXT10fX10LlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmIsd3JpdGFibGU6ITB9O2NsYXNzIHcgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKCl7aWYobSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbGxlZ2FsIGNvbnN0cnVjdG9yIik7c3VwZXIoKX19dC5YTUxIdHRwUmVxdWVzdFVwbG9hZD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dyx3cml0YWJsZTohMH07Y2xhc3MgeSBleHRlbmRzIGJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLG09ITE7dmFyIHQ9bmV3IHc7bT0hMCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxlLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSkscCh0aGlzLHUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGwse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHZhbHVlOjAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxnLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTowLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsaCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6ITEsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxmLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTp0LHdyaXRhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6IiIsd3JpdGFibGU6ITB9KX1nZXQgb25yZWFkeXN0YXRlY2hhbmdlKCl7cmV0dXJuIHRoaXNbdV19c2V0IG9ucmVhZHlzdGF0ZWNoYW5nZSh0KXt0aGlzW3VdPXR9Z2V0IHJlYWR5U3RhdGUoKXtyZXR1cm4gdGhpc1tsXX1vcGVuKHQsZSl7c3dpdGNoKHRoaXNbbF0pe2Nhc2UgMDpjYXNlIDQ6dih0aGlzLDEpfX1zZXRSZXF1ZXN0SGVhZGVyKHQsZSl7fXNldFRydXN0VG9rZW4odCl7fWdldCB0aW1lb3V0KCl7cmV0dXJuIHRoaXNbZ119c2V0IHRpbWVvdXQodCl7dGhpc1tnXT10fWdldCB3aXRoQ3JlZGVudGlhbHMoKXtyZXR1cm4gdGhpc1toXX1zZXQgd2l0aENyZWRlbnRpYWxzKHQpe3N3aXRjaCh0aGlzW2xdKXtjYXNlIDA6Y2FzZSAxOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IERPTUV4Y2VwdGlvbigiRmFpbGVkIHRvIHNldCB0aGUgJ3dpdGhDcmVkZW50aWFscycgcHJvcGVydHkgb24gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIHZhbHVlIG1heSBvbmx5IGJlIHNldCBpZiB0aGUgb2JqZWN0J3Mgc3RhdGUgaXMgVU5TRU5UIG9yIE9QRU5FRC4iKX10aGlzW2hdPSEhdH1nZXQgdXBsb2FkKCl7cmV0dXJuIHRoaXNbZl19c2VuZCgpe2lmKDEhPT10aGlzW2xdfHxudWxsIT09dGhpc1tlXSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2VuZCcgb24gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIG9iamVjdCdzIHN0YXRlIG11c3QgYmUgT1BFTkVELiIpO3RoaXNbZV09c2V0VGltZW91dCgoKT0+e3RoaXNbZV09bnVsbCx2KHRoaXMsNCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQcm9ncmVzc0V2ZW50KCJlcnJvciIpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFByb2dyZXNzRXZlbnQoImxvYWRlbmQiKSl9LDApfWFib3J0KCl7MT09PXRoaXNbbF0mJm51bGwhPT10aGlzW2VdJiYoY2xlYXJUaW1lb3V0KHRoaXNbZV0pLHRoaXNbZV09bnVsbCx2KHRoaXMsMCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQcm9ncmVzc0V2ZW50KCJhYm9ydCIpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFByb2dyZXNzRXZlbnQoImxvYWRlbmQiKSkpfWdldCByZXNwb25zZVVSTCgpe3JldHVybiIifWdldCBzdGF0dXMoKXtyZXR1cm4gMH1nZXQgc3RhdHVzVGV4dCgpe3JldHVybiIifWdldFJlc3BvbnNlSGVhZGVyKHQpe3JldHVybiBudWxsfW92ZXJyaWRlTWltZVR5cGUodCl7fWdldCByZXNwb25zZVR5cGUoKXtyZXR1cm4gdGhpc1tkXX1zZXQgcmVzcG9uc2VUeXBlKHQpe2lmKDQ9PT10aGlzW2xdKXRocm93IG5ldyBET01FeGNlcHRpb24oIkZhaWxlZCB0byBzZXQgdGhlICdyZXNwb25zZVR5cGUnIHByb3BlcnR5IG9uICdYTUxIdHRwUmVxdWVzdCc6IFRoZSByZXNwb25zZSB0eXBlIGNhbm5vdCBiZSBzZXQgaWYgdGhlIG9iamVjdCdzIHN0YXRlIGlzIExPQURJTkcgb3IgRE9ORS4iKTtzd2l0Y2godCl7Y2FzZSIiOmNhc2UiYXJyYXlidWZmZXIiOmNhc2UiYmxvYiI6Y2FzZSJkb2N1bWVudCI6Y2FzZSJqc29uIjpjYXNlInRleHQiOnRoaXNbZF09dH19Z2V0IHJlc3BvbnNlKCl7dmFyIHQ9dGhpc1tkXTtyZXR1cm4iIj09PXR8fCJ0ZXh0Ij09PXQ/IiI6bnVsbH1nZXQgcmVzcG9uc2VUZXh0KCl7dmFyIHQ9dGhpc1tkXTtpZigiIj09PXR8fCJ0ZXh0Ij09PXQpcmV0dXJuIiI7dGhyb3cgbmV3IERPTUV4Y2VwdGlvbigiRmFpbGVkIHRvIHJlYWQgdGhlICdyZXNwb25zZVRleHQnIHByb3BlcnR5IGZyb20gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIHZhbHVlIGlzIG9ubHkgYWNjZXNzaWJsZSBpZiB0aGUgb2JqZWN0J3MgJ3Jlc3BvbnNlVHlwZScgaXMgJycgb3IgJ3RleHQnICh3YXMgJ2FycmF5YnVmZmVyJykuIil9Z2V0IHJlc3BvbnNlWE1MKCl7cmV0dXJuIG51bGx9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LCJVTlNFTlQiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCx2YWx1ZTowfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHksIk9QRU5FRCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeSwiSEVBREVSU19SRUNFSVZFRCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeSwiTE9BRElORyIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjN9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeSwiRE9ORSIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOjR9KSx0LlhNTEh0dHBSZXF1ZXN0PXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp5LHdyaXRhYmxlOiEwfX0pKGEpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3Q9dC5zcGxpdCgiLiIpO3ZhciBuLHI9YTt0WzBdaW4gcnx8dm9pZCAwPT09ci5leGVjU2NyaXB0fHxyLmV4ZWNTY3JpcHQoInZhciAiK3RbMF0pO2Zvcig7dC5sZW5ndGgmJihuPXQuc2hpZnQoKSk7KXQubGVuZ3RofHx2b2lkIDA9PT1lP3I9cltuXSYmcltuXSE9PU9iamVjdC5wcm90b3R5cGVbbl0/cltuXTpyW25dPXt9OnJbbl09ZX1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgZSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIDF9ZnVuY3Rpb24gbyh0LGUpe3AuYWRkRXZlbnRMaXN0ZW5lcj9wLmFkZEV2ZW50TGlzdGVuZXIodCxlLCExKTpwLmF0dGFjaEV2ZW50JiZwLmF0dGFjaEV2ZW50KCJvbiIrdCxlKX1mdW5jdGlvbiBpKHQsZSxuKXt0PXQuc3BsaXQoIiYiKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXS5zcGxpdCgiPSIpO2lmKGRlY29kZVVSSUNvbXBvbmVudChhWzBdKS5yZXBsYWNlKC9cKy9nLCIgIik9PT1lKXJldHVybiBlPWEuc2xpY2UoMSkuam9pbigiPSIpLG4/ZTpkZWNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvXCsvZywiICIpfX12YXIgdSxsLGMsYT10aGlzfHxzZWxmLGc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0saD0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwKTp8W146Lz8jXSooPzpbLz8jXXwkKSkvaSxmPXdpbmRvdyxkPXdpbmRvdy5oaXN0b3J5LHA9ZG9jdW1lbnQsdj1uYXZpZ2F0b3IsZT17fSxtPWZ1bmN0aW9uKCl7ZS5UQUdHSU5HPWUuVEFHR0lOR3x8W10sZS5UQUdHSU5HWzFdPSEwfSxiPS86WzAtOV0rJC8sdz1mdW5jdGlvbih0LGUpe3JldHVybiJwcm90b2NvbCIhPT0oZT1lJiZTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSkmJiJwb3J0IiE9PWV8fCh0LnByb3RvY29sPV8odC5wcm90b2NvbCl8fF8oZi5sb2NhdGlvbi5wcm90b2NvbCkpLCJwb3J0Ij09PWU/dC5wb3J0PVN0cmluZyhOdW1iZXIoKHQuaG9zdG5hbWU/dDpmLmxvY2F0aW9uKS5wb3J0KXx8KCJodHRwIj09dC5wcm90b2NvbD84MDoiaHR0cHMiPT10LnByb3RvY29sPzQ0MzoiIikpOiJob3N0Ij09PWUmJih0Lmhvc3RuYW1lPSh0Lmhvc3RuYW1lfHxmLmxvY2F0aW9uLmhvc3RuYW1lKS5yZXBsYWNlKGIsIiIpLnRvTG93ZXJDYXNlKCkpLHkodCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKX0seT1mdW5jdGlvbih0LGUsbixyLGEpe3ZhciBvPV8odC5wcm90b2NvbCk7c3dpdGNoKGU9ZSYmU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2UidXJsX25vX2ZyYWdtZW50IjpyPSIiLHQ9cj10JiZ0LmhyZWY/KHI9dC5ocmVmLmluZGV4T2YoIiMiKSk8MD90LmhyZWY6dC5ocmVmLnN1YnN0cigwLHIpOnI7YnJlYWs7Y2FzZSJwcm90b2NvbCI6dD1vO2JyZWFrO2Nhc2UiaG9zdCI6dD10Lmhvc3RuYW1lLnJlcGxhY2UoYiwiIikudG9Mb3dlckNhc2UoKSxuJiYocj0vXnd3d1xkKlwuLy5leGVjKHQpKSYmclswXSYmKHQ9dC5zdWJzdHIoclswXS5sZW5ndGgpKTticmVhaztjYXNlInBvcnQiOnQ9U3RyaW5nKE51bWJlcih0LnBvcnQpfHwoImh0dHAiPT1vPzgwOiJodHRwcyI9PW8/NDQzOiIiKSk7YnJlYWs7Y2FzZSJwYXRoIjp0LnBhdGhuYW1lfHx0Lmhvc3RuYW1lfHxtKCksdD0odD0iLyI9PXQucGF0aG5hbWUuc3Vic3RyKDAsMSk/dC5wYXRobmFtZToiLyIrdC5wYXRobmFtZSkuc3BsaXQoIi8iKSwwPD0ocnx8W10pLmluZGV4T2YodFt0Lmxlbmd0aC0xXSkmJih0W3QubGVuZ3RoLTFdPSIiKSx0PXQuam9pbigiLyIpO2JyZWFrO2Nhc2UicXVlcnkiOnQ9dC5zZWFyY2gucmVwbGFjZSgiPyIsIiIpLGEmJih0PWkodCxhLHZvaWQgMCkpO2JyZWFrO2Nhc2UiZXh0ZW5zaW9uIjp0PSh0PTE8KHQ9dC5wYXRobmFtZS5zcGxpdCgiLiIpKS5sZW5ndGg/dFt0Lmxlbmd0aC0xXToiIikuc3BsaXQoIi8iKVswXTticmVhaztjYXNlImZyYWdtZW50Ijp0PXQuaGFzaC5yZXBsYWNlKCIjIiwiIik7YnJlYWs7ZGVmYXVsdDp0PXQmJnQuaHJlZn1yZXR1cm4gdH0sXz1mdW5jdGlvbih0KXtyZXR1cm4gdD90LnJlcGxhY2UoIjoiLCIiKS50b0xvd2VyQ2FzZSgpOiIifSxPPWZ1bmN0aW9uKHQpe3ZhciBlPXAuY3JlYXRlRWxlbWVudCgiYSIpO3QmJihlLmhyZWY9dCk7dmFyIG49ZS5wYXRobmFtZTtyZXR1cm4iLyIhPT1uWzBdJiYodHx8bSgpLG49Ii8iK24pLHQ9ZS5ob3N0bmFtZS5yZXBsYWNlKGIsIiIpLHtocmVmOmUuaHJlZixwcm90b2NvbDplLnByb3RvY29sLGhvc3Q6ZS5ob3N0LGhvc3RuYW1lOnQscGF0aG5hbWU6bixzZWFyY2g6ZS5zZWFyY2gsaGFzaDplLmhhc2gscG9ydDplLnBvcnR9fTtmdW5jdGlvbiBFKCl7Zm9yKHZhciB0PXUsZT17fSxuPTA7bjx0Lmxlbmd0aDsrK24pZVt0W25dXT1uO3JldHVybiBlfWZ1bmN0aW9uIFQoKXt2YXIgdD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoiO3JldHVybih0Kz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoiLnRvTG93ZXJDYXNlKCkrIjAxMjM0NTY3ODktXyIpKyIuIn1mdW5jdGlvbiB4KHQpe3U9dXx8VCgpLGw9bHx8RSgpO2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKz0zKXt2YXIgcj1uKzE8dC5sZW5ndGgsYT1uKzI8dC5sZW5ndGgsbz10LmNoYXJDb2RlQXQobiksaT1yP3QuY2hhckNvZGVBdChuKzEpOjAscz1hP3QuY2hhckNvZGVBdChuKzIpOjAsYz1vPj4yLG89KDMmbyk8PDR8aT4+NCxpPSgxNSZpKTw8MnxzPj42O3MmPTYzLGF8fChzPTY0LHJ8fChpPTY0KSksZS5wdXNoKHVbY10sdVtvXSx1W2ldLHVbc10pfXJldHVybiBlLmpvaW4oIiIpfWZ1bmN0aW9uIGsoKXtmdW5jdGlvbiB0KHQpe24odC50YXJnZXR8fHQuc3JjRWxlbWVudHx8e30pfXZhciBlLG49RixyPVgsYT1OKCk7YS5pbml0fHwobygibW91c2Vkb3duIix0KSxvKCJrZXl1cCIsdCksbygic3VibWl0IixmdW5jdGlvbih0KXtyKHQudGFyZ2V0fHx0LnNyY0VsZW1lbnR8fHt9KX0pLGU9SFRNTEZvcm1FbGVtZW50LnByb3RvdHlwZS5zdWJtaXQsSFRNTEZvcm1FbGVtZW50LnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24oKXtyKHRoaXMpLGUuY2FsbCh0aGlzKX0sYS5pbml0PSEwKX1mdW5jdGlvbiBTKHQsZSxuLHIsYSl7dD17Y2FsbGJhY2s6dCxkb21haW5zOmUsZnJhZ21lbnQ6Mj09PW4scGxhY2VtZW50Om4sZm9ybXM6cixzYW1lSG9zdDphfSxOKCkuZGVjb3JhdG9ycy5wdXNoKHQpfWZ1bmN0aW9uIEModCxlLG4pe2Zvcih2YXIgcj1OKCkuZGVjb3JhdG9ycyxhPXt9LG89MDtvPHIubGVuZ3RoOysrbyl7dmFyIGk9cltvXTtpZihzPSFufHxpLmZvcm1zKXQ6e3ZhciBzPWkuZG9tYWlucyxjPXQsdT0hIWkuc2FtZUhvc3Q7aWYocyYmKHV8fGMhPT1wLmxvY2F0aW9uLmhvc3RuYW1lKSlmb3IodmFyIGw9MDtsPHMubGVuZ3RoO2wrKylpZihzW2xdaW5zdGFuY2VvZiBSZWdFeHApe2lmKHNbbF0udGVzdChjKSl7cz0hMDticmVhayB0fX1lbHNlIGlmKDA8PWMuaW5kZXhPZihzW2xdKXx8dSYmMDw9c1tsXS5pbmRleE9mKGMpKXtzPSEwO2JyZWFrIHR9cz0hMX1zJiYoKHM9bnVsbD09KHM9aS5wbGFjZW1lbnQpP2kuZnJhZ21lbnQ/MjoxOnMpPT09ZSYmZyhhLGkuY2FsbGJhY2soKSkpfXJldHVybiBhfXZhciBqPXZvaWQgMDtmdW5jdGlvbiBOKCl7dmFyIHQ9e30sZT1mLmdvb2dsZV90YWdfZGF0YTtyZXR1cm4gZi5nb29nbGVfdGFnX2RhdGE9dm9pZCAwPT09ZT90OmUsKGU9KHQ9Zi5nb29nbGVfdGFnX2RhdGEpLmdsKSYmZS5kZWNvcmF0b3JzfHwodC5nbD1lPXtkZWNvcmF0b3JzOltdfSksZX12YXIgUj0vKC4qPylcKiguKj8pXCooLiopLyxBPS8oW14/I10rKShcP1teI10qKT8oIy4qKT8vO2Z1bmN0aW9uIEwodCl7cmV0dXJuIG5ldyBSZWdFeHAoIiguKj8pKF58JikiK3QrIj0oW14mXSopJj8oLiopIil9ZnVuY3Rpb24gSSh0LGUpe3ZhciBuLHIsYT1bXTtmb3IobiBpbiB0KSF0Lmhhc093blByb3BlcnR5KG4pfHx2b2lkIDAhPT0ocj10W25dKSYmcj09ciYmbnVsbCE9PXImJiJbb2JqZWN0IE9iamVjdF0iIT09ci50b1N0cmluZygpJiYoYS5wdXNoKG4pLGEucHVzaCh4KFN0cmluZyhyKSkpKTtyZXR1cm4gdD1hLmpvaW4oIioiKSx2b2lkIDAhPT1lJiYoYT0ieHBfIitlLGU9TVtlXSh0KSx0PXQrIioiK1thLHgoU3RyaW5nKGUpKV0uam9pbigiKiIpKSxbIjEiLFAodCksdF0uam9pbigiKiIpfWZ1bmN0aW9uIFAodCxlKXtpZih0PVtmLm5hdmlnYXRvci51c2VyQWdlbnQsKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHYudXNlckxhbmd1YWdlfHx2Lmxhbmd1YWdlLE1hdGguZmxvb3IobmV3IERhdGUoRGF0ZS5ub3coKSkuZ2V0VGltZSgpLzYwLzFlMyktKHZvaWQgMD09PWU/MDplKSx0XS5qb2luKCIqIiksIShlPWMpKXtlPUFycmF5KDI1Nik7Zm9yKHZhciBuPTA7bjwyNTY7bisrKXtmb3IodmFyIHI9bixhPTA7YTw4O2ErKylyPTEmcj9yPj4+MV4zOTg4MjkyMzg0OnI+Pj4xO2Vbbl09cn19Zm9yKGM9ZSxlPTQyOTQ5NjcyOTUsbj0wO248dC5sZW5ndGg7bisrKWU9ZT4+PjheY1syNTUmKGVedC5jaGFyQ29kZUF0KG4pKV07cmV0dXJuKCgtMV5lKT4+PjApLnRvU3RyaW5nKDM2KX12YXIgbj17fSxNPShuWzFdPWZ1bmN0aW9uKCl7cmV0dXJuIkNIRUNLU1VNX0VYUF9ESVNBQkxFRCJ9LG5bMl09ZnVuY3Rpb24oKXtyZXR1cm4iQ0hFQ0tTVU1fRVhQX0RJU0FCTEVEIn0sblszXT1mdW5jdGlvbigpe3JldHVybiJDSEVDS1NVTV9FWFBfRElTQUJMRUQifSxuKTtmdW5jdGlvbiByKG8pe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1PKGYubG9jYXRpb24uaHJlZiksbj1lLnNlYXJjaC5yZXBsYWNlKCI/IiwiIikscj1pKG4sIl9nbCIsITApO3QucXVlcnk9cShyfHwiIil8fHt9O3ZhciBhPShyPXcoZSwiZnJhZ21lbnQiKSkubWF0Y2goTCgiX2dsIikpO3QuZnJhZ21lbnQ9cShhJiZhWzNdfHwiIil8fHt9LG8mJmZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIHQ9KHQ9RCgiX2dsIix0KSkubGVuZ3RoP2UrdDp0fXt2YXIgYTtkJiZkLnJlcGxhY2VTdGF0ZSYmKCgoYT1MKCJfZ2wiKSkudGVzdChlKXx8YS50ZXN0KG4pKSYmKHQ9dyh0LCJwYXRoIiksZT1yKGUsIj8iKSxuPXIobiwiIyIpLGQucmVwbGFjZVN0YXRlKHt9LHZvaWQgMCwiIit0K2UrbikpKX19KGUsbixyKX19ZnVuY3Rpb24gRCh0LGUpe3ZhciBuLHI7cmV0dXJuKHQ9TCh0KS5leGVjKGUpKSYmKG49dFsyXSxyPXRbNF0sZT10WzFdLHImJihlPWUrbityKSksZX1mdW5jdGlvbiBxKHQpe3ZhciBlPXZvaWQgMD09PWU/MzplO3RyeXtpZih0KXt0Ontmb3IodmFyIG49MDtuPDM7KytuKXt2YXIgcj1SLmV4ZWModCk7aWYocil7dmFyIGE9cjticmVhayB0fXQ9ZGVjb2RlVVJJQ29tcG9uZW50KHQpfWE9dm9pZCAwfWlmKGEmJiIxIj09PWFbMV0pe3ZhciBvPWFbMl0saT1hWzNdO3Q6e2ZvcihhPTA7YTxlOysrYSlpZihvPT09UChpLGEpKXt2YXIgcz0hMDticmVhayB0fXM9ITF9aWYocyl7Zm9yKHZhciBlPXt9LGM9aT9pLnNwbGl0KCIqIik6W10saT0wO2k8Yy5sZW5ndGg7aSs9MillW2NbaV1dPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIHQodCl7Zm9yKDthPHIubGVuZ3RoOyl7dmFyIGU9ci5jaGFyQXQoYSsrKSxuPWxbZV07aWYobnVsbCE9bilyZXR1cm4gbjtpZighL15bXHNceGEwXSokLy50ZXN0KGUpKXRocm93IEVycm9yKCJVbmtub3duIGJhc2U2NCBlbmNvZGluZyBhdCBjaGFyOiAiK2UpfXJldHVybiB0fXU9dXx8VCgpLGw9bHx8RSgpO2Zvcih2YXIgZT0iIixhPTA7Oyl7dmFyIG49dCgtMSksbz10KDApLGk9dCg2NCkscz10KDY0KTtpZig2ND09PXMmJi0xPT09bilyZXR1cm4gZTtlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG48PDJ8bz4+NCksNjQhPWkmJihlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG88PDQmMjQwfGk+PjIpLDY0IT1zJiYoZSs9U3RyaW5nLmZyb21DaGFyQ29kZShpPDw2JjE5MnxzKSkpfX0oY1tpKzFdKTtyZXR1cm4gZX19fX1jYXRjaCh0KXt9fWZ1bmN0aW9uIFUobix0LGUscil7ZnVuY3Rpb24gYSh0KXt2YXIgZT0odD1EKG4sdCkpLmNoYXJBdCh0Lmxlbmd0aC0xKTtyZXR1cm4gdCYmIiYiIT09ZSYmKHQrPSImIiksdCtzfWlmKHI9dm9pZCAwIT09ciYmciwhKGk9QS5leGVjKGUpKSlyZXR1cm4iIjtlPWlbMV07dmFyIG89aVsyXXx8IiIsaT1pWzNdfHwiIixzPW4rIj0iK3Q7cmV0dXJuIHI/aT0iIyIrYShpLnN1YnN0cmluZygxKSk6bz0iPyIrYShvLnN1YnN0cmluZygxKSksIiIrZStvK2l9ZnVuY3Rpb24gSCh0LGUpe3ZhciBuPSJGT1JNIj09PSh0LnRhZ05hbWV8fCIiKS50b1VwcGVyQ2FzZSgpLHI9QyhlLDEsbiksYT1DKGUsMixuKTtlPUMoZSwzLG4pO3ZhciBvLGk9ajtmb3IobyBpbiBzKHIpJiYocj1JKHIsaSksbj9WKCJfZ2wiLHIsdCk6RygiX2dsIixyLHQsITEpKSwhbiYmcyhhKSYmRygiX2dsIixuPUkoYSksdCwhMCksZSllLmhhc093blByb3BlcnR5KG8pJiYkKG8sZVtvXSx0KX1mdW5jdGlvbiAkKHQsZSxuLHIpe2lmKG4udGFnTmFtZSl7aWYoImEiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIEcodCxlLG4scik7aWYoImZvcm0iPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIFYodCxlLG4pfWlmKCJzdHJpbmciPT10eXBlb2YgbilyZXR1cm4gVSh0LGUsbixyKX1mdW5jdGlvbiBHKHQsZSxuLHIpe24uaHJlZiYmKHQ9VSh0LGUsbi5ocmVmLHZvaWQgMCE9PXImJnIpLGgudGVzdCh0KSYmKG4uaHJlZj10KSl9ZnVuY3Rpb24gVih0LGUsbil7aWYobiYmbi5hY3Rpb24paWYoImdldCI9PT0ocj0obi5tZXRob2R8fCIiKS50b0xvd2VyQ2FzZSgpKSl7Zm9yKHZhciByPW4uY2hpbGROb2Rlc3x8W10sYT0hMSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb107aWYoaS5uYW1lPT09dCl7aS5zZXRBdHRyaWJ1dGUoInZhbHVlIixlKSxhPSEwO2JyZWFrfX1hfHwoKHI9cC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxyLnNldEF0dHJpYnV0ZSgibmFtZSIsdCksci5zZXRBdHRyaWJ1dGUoInZhbHVlIixlKSxuLmFwcGVuZENoaWxkKHIpKX1lbHNlInBvc3QiPT09ciYmKHQ9VSh0LGUsbi5hY3Rpb24pLGgudGVzdCh0KSYmKG4uYWN0aW9uPXQpKX1mdW5jdGlvbiBGKHQpe3RyeXt0Ontmb3IodmFyIGU9MTAwO3QmJjA8ZTspe2lmKHQuaHJlZiYmdC5ub2RlTmFtZS5tYXRjaCgvXmEoPzpyZWEpPyQvaSkpe3ZhciBuPXQ7YnJlYWsgdH10PXQucGFyZW50Tm9kZSxlLS19bj1udWxsfXZhciByO24mJigiaHR0cDoiIT09KHI9bi5wcm90b2NvbCkmJiJodHRwczoiIT09cnx8SChuLG4uaG9zdG5hbWUpKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIFgodCl7dHJ5e3QuYWN0aW9uJiZIKHQsdyhPKHQuYWN0aW9uKSwiaG9zdCIpKX1jYXRjaCh0KXt9fXQoImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5hdXRvIixmdW5jdGlvbih0LGUsbixyLGEpe2soKSx2b2lkIDAhPT1hJiYoaj1hKSwzIT09YXx8di51c2VyQWdlbnREYXRhJiZ2LnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWyJhcmNoaXRlY3R1cmUiLCJtb2RlbCIsImJpdG5lc3MiLCJwbGF0Zm9ybVZlcnNpb24iLCJ1YUZ1bGxWZXJzaW9uIl0pLnRoZW4oZnVuY3Rpb24oKXt9KSxTKHQsZSwiZnJhZ21lbnQiPT09bj8yOjEsISFyLCExKX0pLHQoImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5wYXNzdGhyb3VnaCIsZnVuY3Rpb24odCxlLG4scil7aygpLHZvaWQgMCE9PXImJihqPXIpLFModCxbeShmLmxvY2F0aW9uLCJob3N0IiwhMCldLGUsISFuLCEwKX0pLHQoImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5kZWNvcmF0ZSIsZnVuY3Rpb24odCxlLG4pe3JldHVybiAkKCJfZ2wiLHQ9SSh0KSxlLCEhbil9KSx0KCJnb29nbGVfdGFnX2RhdGEuZ2xCcmlkZ2UuZ2VuZXJhdGUiLEkpLHQoImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5nZXQiLGZ1bmN0aW9uKHQsZSl7dmFyIG49cighIWUpO3JldHVybihlPU4oKSkuZGF0YXx8KGUuZGF0YT17cXVlcnk6e30sZnJhZ21lbnQ6e319LG4oZS5kYXRhKSksbj17fSwoZT1lLmRhdGEpJiYoZyhuLGUucXVlcnkpLHQmJmcobixlLmZyYWdtZW50KSksbn0pfSh3aW5kb3cpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuPTE7aWYodClmb3Iobj0wLGU9dC5sZW5ndGgtMTswPD1lO2UtLSl7dmFyIHI9dC5jaGFyQ29kZUF0KGUpO249MCE9KHI9MjY2MzM4MzA0JihuPShuPDw2JjI2ODQzNTQ1NSkrcisocjw8MTQpKSk/bl5yPj4yMTpufXJldHVybiBufWZ1bmN0aW9uIGkodCl7dGhpcy5DPXR8fFtdfWkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLkNbdF09ITB9LGkucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLkMubGVuZ3RoO2UrKyl0aGlzLkNbZV0mJih0W01hdGguZmxvb3IoZS82KV1ePTE8PGUlNik7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fIi5jaGFyQXQodFtlXXx8MCk7cmV0dXJuIHQuam9pbigiIikrIn4ifTt2YXIgdD13aW5kb3cuR29vZ2xlQW5hbHl0aWNzT2JqZWN0LHM9KEFlPShBZT1OZT0oTmU9bnVsbCE9dCk/LTE8KHQuY29uc3RydWN0b3IrIiIpLmluZGV4T2YoIlN0cmluZyIpOk5lKT8oUmU9d2luZG93Lkdvb2dsZUFuYWx5dGljc09iamVjdCk/UmUucmVwbGFjZSgvXltcc1x4YTBdK3xbXHNceGEwXSskL2csIiIpOiIiOkFlKXx8ImdhIixjPS9eKD86dXRtYVwuKT9cZCtcLlxkKyQvLHU9L15hbXAtW1x3Li1dezIyLDY0fSQvLGw9ITEscj1uZXcgaTtmdW5jdGlvbiBnKHQpe3Iuc2V0KHQpfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHQ9dC5nZXQoRmUpLHQ9IXkodCk/W106dH1mdW5jdGlvbiBmKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIGQoKXtmb3IodmFyIHQ9SS5uYXZpZ2F0b3IudXNlckFnZW50KyhQLmNvb2tpZXx8IiIpKyhQLnJlZmVycmVyfHwiIiksZT10Lmxlbmd0aCxuPUkuaGlzdG9yeS5sZW5ndGg7MDxuOyl0Kz1uLS1eZSsrO3JldHVybltBdCgpXjIxNDc0ODM2NDcmbyh0KSxNYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMyldLmpvaW4oIi4iKX1mdW5jdGlvbiBwKHQsZSxuLHIpe3RyeXt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKGUsbiwhIXIpOnQuYXR0YWNoRXZlbnQmJnQuYXR0YWNoRXZlbnQoIm9uIitlLG4pfWNhdGNoKHQpe2coMjcpfX1mdW5jdGlvbiB2KHQsZSl7dmFyIG49dC5pbmRleE9mKGUpO3JldHVybiEoNSE9biYmNiE9bnx8Ii8iIT0odD10LmNoYXJBdChuK2UubGVuZ3RoKSkmJiI/IiE9dCYmIiIhPXQmJiI6IiE9dCl9ZnVuY3Rpb24gbSh0LGUpe2lmKDE9PWUubGVuZ3RoJiZudWxsIT1lWzBdJiYib2JqZWN0Ij09dHlwZW9mIGVbMF0pcmV0dXJuIGVbMF07Zm9yKHZhciBuPXt9LHI9TWF0aC5taW4odC5sZW5ndGgrMSxlLmxlbmd0aCksYT0wO2E8cjthKyspe2lmKCJvYmplY3QiPT10eXBlb2YgZVthXSl7Zm9yKHZhciBvIGluIGVbYV0pZVthXS5oYXNPd25Qcm9wZXJ0eShvKSYmKG5bb109ZVthXVtvXSk7YnJlYWt9YTx0Lmxlbmd0aCYmKG5bdFthXV09ZVthXSl9cmV0dXJuIG59ZnVuY3Rpb24gYigpe3RoaXMub2E9W10sdGhpcy5lYT17fSx0aGlzLm09e319dmFyIHc9ZnVuY3Rpb24odCl7dD1oKHQpLHQ9bmV3IGkodCk7Zm9yKHZhciBlPXIuQy5zbGljZSgpLG49MDtuPHQuQy5sZW5ndGg7bisrKWVbbl09ZVtuXXx8dC5DW25dO3JldHVybiBuZXcgaShlKS5lbmNvZGUoKX0seT1mdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KHQpKX0sXz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmLTE8KHQuY29uc3RydWN0b3IrIiIpLmluZGV4T2YoIlN0cmluZyIpfSxPPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PXQuaW5kZXhPZihlKX0sRT1mdW5jdGlvbih0KXt2YXIgZT1QLmNyZWF0ZUVsZW1lbnQoImltZyIpO3JldHVybiBlLndpZHRoPTEsZS5oZWlnaHQ9MSxlLnNyYz10LGV9LFQ9ZnVuY3Rpb24oKXt9LHg9ZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCBpbnN0YW5jZW9mIEZ1bmN0aW9uP2VuY29kZVVSSUNvbXBvbmVudCh0KTooZygyOCksdCl9LGs9L15bXHdcLTovLj89JiUhXFtcXV0rJC8sUz0vXltcdysvXy1dK1s9XXswLDJ9JC8sQz1udWxsLGo9ZnVuY3Rpb24odCxlLG4scixhKXtpZighQyl7Qz17Y3JlYXRlU2NyaXB0VVJMOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxjcmVhdGVIVE1MOmZ1bmN0aW9uKHQpe3JldHVybiB0fX07dHJ5e0M9d2luZG93LnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koImdvb2dsZS1hbmFseXRpY3MiLEMpfWNhdGNoKHQpe319dmFyIG87dCYmKG89KG89UC5xdWVyeVNlbGVjdG9yJiZQLnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtub25jZV0iKXx8bnVsbCkmJihvLm5vbmNlfHxvLmdldEF0dHJpYnV0ZSYmby5nZXRBdHRyaWJ1dGUoIm5vbmNlIikpfHwiIixuPyhhPXI9IiIsZSYmay50ZXN0KGUpJiYocj0nIGlkPSInK2UrJyInKSxvJiZTLnRlc3QobykmJihhPScgbm9uY2U9IicrbysnIicpLGsudGVzdCh0KSYmUC53cml0ZShDLmNyZWF0ZUhUTUwoIjxzY3JpcHQiK3IrYSsnIHNyYz0iJyt0KyciPjxcL3NjcmlwdD4nKSkpOigobj1QLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpKS50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLG4uYXN5bmM9ITAsbi5zcmM9Qy5jcmVhdGVTY3JpcHRVUkwodCksciYmKG4ub25sb2FkPXIpLGEmJihuLm9uZXJyb3I9YSksZSYmKG4uaWQ9ZSksbyYmbi5zZXRBdHRyaWJ1dGUoIm5vbmNlIixvKSwodD1QLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXSkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0KSkpfSxOPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFIoUC5sb2NhdGlvbltlPyJocmVmIjoic2VhcmNoIl0sdCl9LFI9ZnVuY3Rpb24odCxlKXtyZXR1cm4odD10Lm1hdGNoKCIoPzomfCN8XFw/KSIreChlKS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFtcXVwvXFxdKS9nLCJcXCQxIikrIj0oW14mI10qKSIpKSYmMj09dC5sZW5ndGg/dFsxXToiIn0sQT1mdW5jdGlvbigpe3ZhciB0PSIiK1AubG9jYXRpb24uaG9zdG5hbWU7cmV0dXJuIDA9PXQuaW5kZXhPZigid3d3LiIpP3Quc3Vic3RyaW5nKDQpOnR9LEw9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZihlPT10W25dKXJldHVybiEwO3JldHVybiExfTtiLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMub2EucHVzaCh0KSxuP3RoaXMubVsiOiIrdF09ZTp0aGlzLmVhWyI6Iit0XT1lfSxiLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMubS5oYXNPd25Qcm9wZXJ0eSgiOiIrdCk/dGhpcy5tOnRoaXMuZWEpWyI6Iit0XX0sYi5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5vYS5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLm9hW2VdLHI9dGhpcy5nZXQobik7ciYmdChuLHIpfX07dmFyIEk9d2luZG93LFA9ZG9jdW1lbnQsbj1kb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOiIiLE09ZnVuY3Rpb24odCxlKXtyZXR1cm4gc2V0VGltZW91dCh0LGUpfSxEPXdpbmRvdyxxPWRvY3VtZW50LFU9ZnVuY3Rpb24odCl7dmFyIGU9RC5fZ2FVc2VyUHJlZnM7aWYoZSYmZS5pb28mJmUuaW9vKCl8fHQmJiEwPT09RFsiZ2EtZGlzYWJsZS0iK3RdKXJldHVybiEwO3RyeXt2YXIgbj1ELmV4dGVybmFsO2lmKG4mJm4uX2dhVXNlclByZWZzJiYib28iPT1uLl9nYVVzZXJQcmVmcylyZXR1cm4hMH1jYXRjaCh0KXt9Zm9yKHQ9W10sZT1TdHJpbmcocS5jb29raWUpLnNwbGl0KCI7Iiksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLnNwbGl0KCI9IiksYT1yWzBdLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKTthJiYiQU1QX1RPS0VOIj09YSYmKChyPXIuc2xpY2UoMSkuam9pbigiPSIpLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKSkmJihyPWRlY29kZVVSSUNvbXBvbmVudChyKSksdC5wdXNoKHIpKX1mb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCIkT1BUX09VVCI9PXRbZV0pcmV0dXJuITA7cmV0dXJuISFxLmdldEVsZW1lbnRCeUlkKCJfX2dhT3B0T3V0RXh0ZW5zaW9uIil9LEg9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1QLmNvb2tpZS5zcGxpdCgiOyIpO3Q9bmV3IFJlZ0V4cCgiXlxccyoiK3QrIj1cXHMqKC4qPylcXHMqJCIpO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdLm1hdGNoKHQpO2EmJmUucHVzaChhWzFdKX1yZXR1cm4gZX0sJD1mdW5jdGlvbih0LGUsbixyLGEsbyxpKXtpZighKGE9IVUoYSkmJiEoRi50ZXN0KFAubG9jYXRpb24uaG9zdG5hbWUpfHwiLyI9PW4mJlYudGVzdChyKSkpKXJldHVybiExO2lmKG49dCsiPSIrKGU9ZSYmMTIwMDxlLmxlbmd0aD9lLnN1YnN0cmluZygwLDEyMDApOmUpKyI7IHBhdGg9IituKyI7ICIsbyYmKG4rPSJleHBpcmVzPSIrbmV3IERhdGUoKG5ldyBEYXRlKS5nZXRUaW1lKCkrbykudG9HTVRTdHJpbmcoKSsiOyAiKSxyJiYibm9uZSIhPT1yJiYobis9ImRvbWFpbj0iK3IrIjsiKSxpJiYobis9aSsiOyIpLHI9UC5jb29raWUsUC5jb29raWU9biwhKHI9ciE9UC5jb29raWUpKXQ6e2Zvcih0PUgodCkscj0wO3I8dC5sZW5ndGg7cisrKWlmKGU9PXRbcl0pe3I9ITA7YnJlYWsgdH1yPSExfXJldHVybiByfSxHPWZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQ/ZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoL1woL2csIiUyOCIpLnJlcGxhY2UoL1wpL2csIiUyOSIpOnR9LFY9L14od3d3XC4pP2dvb2dsZShcLmNvbT8pPyhcLlthLXpdezJ9KT8kLyxGPS8oXnxcLilkb3VibGVjbGlja1wubmV0JC9pLFg9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1QLmNvb2tpZS5zcGxpdCgiOyIpO3Q9bmV3IFJlZ0V4cCgiXlxccyoiKyh0fHwiX2dhYyIpKyJfKFVBLVxcZCstXFxkKyk9XFxzKiguKz8pXFxzKiQiKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXS5tYXRjaCh0KTthJiZlLnB1c2goe2phOmFbMV0sdmFsdWU6YVsyXSx0aW1lc3RhbXA6TnVtYmVyKGFbMl0uc3BsaXQoIi4iKVsxXSl8fDB9KX1yZXR1cm4gZS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudGltZXN0YW1wLXQudGltZXN0YW1wfSksZX07ZnVuY3Rpb24gQih0LGUsbil7dmFyIHI9e307aWYoIShlPVgoZSkpfHwhZS5sZW5ndGgpcmV0dXJuIHI7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBvLGk9ZVthXS52YWx1ZS5zcGxpdCgiLiIpOyIxIiE9PWlbMF18fG4mJmkubGVuZ3RoPDN8fCFuJiYzIT09aS5sZW5ndGg/dCYmKHQubmE9ITApOk51bWJlcihpWzFdKSYmKHJbZVthXS5qYV0/dCYmKHQucGE9ITApOnJbZVthXS5qYV09W10sbz17dmVyc2lvbjppWzBdLHRpbWVzdGFtcDoxZTMqTnVtYmVyKGlbMV0pLHFhOmlbMl19LG4mJjM8aS5sZW5ndGgmJihvLmxhYmVscz1pLnNsaWNlKDMpKSxyW2VbYV0uamFdLnB1c2gobykpfXJldHVybiByfWZ1bmN0aW9uIHooKXt4YS5EKFtUXSl9ZnVuY3Rpb24gSyh0LGUsbil7Zm9yKGV0JiZjbGVhclRpbWVvdXQoZXQpLGUmJmx0KGUsbikscnQ9dCxlPWl0LGl0PVtdLG49MDtuPGUubGVuZ3RoO24rKyllW25dKHQpfWZ1bmN0aW9uIFcodCl7dDp7aWYoYXQudGVzdChQLnJlZmVycmVyKSl7dmFyIGU9UC5sb2NhdGlvbi5ob3N0bmFtZS5yZXBsYWNlKG90LCIiKTtlOnt2YXIgbj1QLnJlZmVycmVyLHI9KG49bi5yZXBsYWNlKC9eaHR0cHM/OlwvXC8vLCIiKSkucmVwbGFjZSgvXlteL10rLywiIikuc3BsaXQoIi8iKSxhPXJbMl07aWYoIShyPShyPSJzIj09YT9yWzNdOmEpP2RlY29kZVVSSUNvbXBvbmVudChyKTpyKSl7aWYoMD09bi5pbmRleE9mKCJ4bi0tIikpe249IiI7YnJlYWsgZX0obj1uLm1hdGNoKC8oLiopXC5jZG5cLmFtcHByb2plY3RcLm9yZ1wvPyQvKSkmJjI9PW4ubGVuZ3RoJiYocj1uWzFdLnJlcGxhY2UoLy0vZywiLiIpLnJlcGxhY2UoL1wuXC4vZywiLSIpKX1uPXI/ci5yZXBsYWNlKG90LCIiKToiIn1pZihyPSEocj1lPT09bik/ZS5zdWJzdHJpbmcoZS5sZW5ndGgtKG49Ii4iK24pLmxlbmd0aCxlLmxlbmd0aCk9PT1uOnIpe2U9ITA7YnJlYWsgdH1nKDc4KX1lPSExfXJldHVybiBlJiYhMSE9PXR9ZnVuY3Rpb24gWih0KXtzd2l0Y2godCl7ZGVmYXVsdDpjYXNlIDE6cmV0dXJuImh0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2d0bS9qcz9pZD0iO2Nhc2UgMjpyZXR1cm4iaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RhZy9qcz9pZD0ifX1mdW5jdGlvbiBZKHQpe3RoaXMubmFtZT0ibGVuIix0aGlzLm1lc3NhZ2U9dCsiLTgxOTIifWZ1bmN0aW9uIEoodCxlLG4pe2lmKDA9PT1lLmxlbmd0aCluKCk7ZWxzZXt2YXIgcj1lLmNoYXJBdCgwKTtzd2l0Y2gocil7Y2FzZSJkIjpmdCgiaHR0cHM6Ly9zdGF0cy5nLmRvdWJsZWNsaWNrLm5ldC9qL2NvbGxlY3QiLHQuVSx0LG4pO2JyZWFrO2Nhc2UiZyI6ZHQoImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vYWRzL2dhLWF1ZGllbmNlcyIsdC5nb29nbGUsbiksKGU9ZS5zdWJzdHJpbmcoMSkpJiYoL15bYS16Ll17MSw2fSQvLnRlc3QoZSk/ZHQoImh0dHBzOi8vd3d3Lmdvb2dsZS4lL2Fkcy9nYS1hdWRpZW5jZXMiLnJlcGxhY2UoIiUiLGUpLHQuZ29vZ2xlLFQpOmJ0KCJ0bGQiLCJiY2MiLGUpKTticmVhaztjYXNlIkciOmlmKHQuVil7dC5WKCJHLSIrZS5zdWJzdHJpbmcoMSkpLG4oKTticmVha31jYXNlIngiOmlmKHQuVil7dC5WKCksbigpO2JyZWFrfWRlZmF1bHQ6YnQoInhociIsImJyYyIsciksbigpfX19ZnVuY3Rpb24gUSgpe3RoaXMuTT1bXX12YXIgdHQsZXQsbnQscnQsYXQ9L15odHRwcz86XC9cL1teL10qY2RuXC5hbXBwcm9qZWN0XC5vcmdcLy8sb3Q9L14oPzp3d3dcLnxtXC58YW1wXC4pKy8saXQ9W10sc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1IKCJBTVBfVE9LRU4iKTtyZXR1cm4gMTxuLmxlbmd0aD8oZyg1NSksITEpOiIkT1BUX09VVCI9PShuPWRlY29kZVVSSUNvbXBvbmVudChuWzBdfHwiIikpfHwiJEVSUk9SIj09bnx8VShlKT8oZyg2MiksITEpOmF0LnRlc3QoUC5yZWZlcnJlcil8fCIkTk9UX0ZPVU5EIiE9bj92b2lkIDAhPT1ydD8oZyg1NiksTShmdW5jdGlvbigpe3QocnQpfSwwKSwhMCk6dHQ/KGl0LnB1c2godCksITApOiIkUkVUUklFVklORyI9PW4/KGcoNTcpLE0oZnVuY3Rpb24oKXtzdCh0LGUpfSwxZTQpLCEwKToodHQ9ITAsbiYmIiQiIT1uWzBdfHwobHQoIiRSRVRSSUVWSU5HIiwzZTQpLHNldFRpbWVvdXQodXQsM2U0KSxuPSIiKSwhIWN0KG4sZSkmJihpdC5wdXNoKHQpLCEwKSk6KGcoNjgpLCExKX0sY3Q9ZnVuY3Rpb24oZSxuLHIpe2lmKCF3aW5kb3cuSlNPTilyZXR1cm4gZyg1OCksITE7dmFyIHQ9SS5YTUxIdHRwUmVxdWVzdDtpZighdClyZXR1cm4gZyg1OSksITE7dmFyIGE9bmV3IHQ7cmV0dXJuIndpdGhDcmVkZW50aWFscyJpbiBhPyhhLm9wZW4oIlBPU1QiLChyfHwiaHR0cHM6Ly9hbXBjaWQuZ29vZ2xlLmNvbS92MS9wdWJsaXNoZXI6Z2V0Q2xpZW50SWQiKSsiP2tleT1BSXphU3lBNjVsRUhVRWl6SXNOdGxiTm8tbDJLMThkVDY4MG5zYU0iLCEwKSxhLndpdGhDcmVkZW50aWFscz0hMCxhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsInRleHQvcGxhaW4iKSxhLm9ubG9hZD1mdW5jdGlvbigpe2lmKHR0PSExLDQ9PWEucmVhZHlTdGF0ZSl7dHJ5ezIwMCE9YS5zdGF0dXMmJihnKDYxKSxLKCIiLCIkRVJST1IiLDNlNCkpO3ZhciB0PUpTT04ucGFyc2UoYS5yZXNwb25zZVRleHQpO3Qub3B0T3V0PyhnKDYzKSxLKCIiLCIkT1BUX09VVCIsMzE1MzZlNikpOnQuY2xpZW50SWQ/Syh0LmNsaWVudElkLHQuc2VjdXJpdHlUb2tlbiwzMTUzNmU2KTohciYmdC5hbHRlcm5hdGVVcmw/KGV0JiZjbGVhclRpbWVvdXQoZXQpLHR0PSEwLGN0KGUsbix0LmFsdGVybmF0ZVVybCkpOihnKDY0KSxLKCIiLCIkTk9UX0ZPVU5EIiwzNmU1KSl9Y2F0Y2godCl7Zyg2NSksSygiIiwiJEVSUk9SIiwzZTQpfWE9bnVsbH19LHQ9e29yaWdpblNjb3BlOiJBTVBfRUNJRF9HT09HTEUifSxlJiYodC5zZWN1cml0eVRva2VuPWUpLGEuc2VuZChKU09OLnN0cmluZ2lmeSh0KSksZXQ9TShmdW5jdGlvbigpe2coNjYpLEsoIiIsIiRFUlJPUiIsM2U0KX0sMWU0KSwhMCk6KGcoNjApLCExKX0sdXQ9ZnVuY3Rpb24oKXt0dD0hMX0sbHQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1udCl7bnQ9IiI7Zm9yKHZhciBuPXNyKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKCQoIkFNUF9UT0tFTiIsZW5jb2RlVVJJQ29tcG9uZW50KHQpLCIvIixhLCIiLGUpKXJldHVybiB2b2lkKG50PWEpfX0kKCJBTVBfVE9LRU4iLGVuY29kZVVSSUNvbXBvbmVudCh0KSwiLyIsbnQsIiIsZSl9LGd0PWZ1bmN0aW9uKHQpe3JldHVybih0fHxsfHwiaHR0cHM6Ij09UC5sb2NhdGlvbi5wcm90b2NvbD8iaHR0cHM6IjoiaHR0cDoiKSsiLy93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20ifSxodD1mdW5jdGlvbih0LGUsbil7aWYobj1ufHxULGUubGVuZ3RoPD0yMDM2KWR0KHQsZSxuKTtlbHNle2lmKCEoZS5sZW5ndGg8PTgxOTIpKXRocm93IGJ0KCJsZW4iLGUubGVuZ3RoKSxuZXcgWShlLmxlbmd0aCk7bXQodCxlLG4pfHxwdCh0LGUsbil8fGR0KHQsZSxuKX19LGZ0PWZ1bmN0aW9uKHQsZSxuLHIpe3B0KHQrIj8iK2UsIiIscj1yfHxULG4pfSxkdD1mdW5jdGlvbih0LGUsbil7dmFyIHI9RSh0KyI/IitlKTtyLm9ubG9hZD1yLm9uZXJyb3I9ZnVuY3Rpb24oKXtyLm9ubG9hZD1udWxsLHIub25lcnJvcj1udWxsLG4oKX19LHB0PWZ1bmN0aW9uKG4scixvLGkpe3ZhciB0PXt9LmNvbnN0cnVjdG9yLmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3csIlhNTEh0dHBSZXF1ZXN0Iik7dHJ5e3JldHVybiB0JiZ7fS5jb25zdHJ1Y3Rvci5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIlhNTEh0dHBSZXF1ZXN0IixhLlhNTEh0dHBSZXF1ZXN0KSxmdW5jdGlvbigpe3ZhciB0PUkuWE1MSHR0cFJlcXVlc3Q7aWYoIXQpcmV0dXJuITE7dmFyIGU9bmV3IHQ7cmV0dXJuIndpdGhDcmVkZW50aWFscyJpbiBlJiYobj1uLnJlcGxhY2UoL15odHRwOi8sImh0dHBzOiIpLGUub3BlbigiUE9TVCIsbiwhMCksZS53aXRoQ3JlZGVudGlhbHM9ITAsZS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJ0ZXh0L3BsYWluIiksZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT1lLnJlYWR5U3RhdGUpe2lmKGkmJiJ0ZXh0L3BsYWluIj09PWUuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKXRyeXt2dChpLGUucmVzcG9uc2VUZXh0LG8pfWNhdGNoKHQpe2J0KCJ4aHIiLCJyc3AiKSxvKCl9ZWxzZSBvKCk7ZT1udWxsfX0sZS5zZW5kKHIpLCEwKX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7dCYme30uY29uc3RydWN0b3IuZGVmaW5lUHJvcGVydHkod2luZG93LCJYTUxIdHRwUmVxdWVzdCIsdCl9fSx2dD1mdW5jdGlvbih0LGUsbil7aWYoZS5sZW5ndGg8MSlidCgieGhyIiwidmVyIiwiMCIpLG4oKTtlbHNlIGlmKDM8dC5jb3VudCsrKWJ0KCJ4aHIiLCJ0bXIiLCIiK3QuY291bnQpLG4oKTtlbHNle3ZhciByPWUuY2hhckF0KDApO2lmKCIxIj09PXIpSih0LGUuc3Vic3RyaW5nKDEpLG4pO2Vsc2UgaWYodC5WJiYiMiI9PT1yKXt2YXIgYT1lLnN1YnN0cmluZygxKS5zcGxpdCgiLCIpLG89MDtmb3IoZT1mdW5jdGlvbigpeysrbz09PWEubGVuZ3RoJiZuKCl9LHI9MDtyPGEubGVuZ3RoO3IrKylKKHQsYVtyXSxlKX1lbHNlIGJ0KCJ4aHIiLCJ2ZXIiLFN0cmluZyhlLmxlbmd0aCkpLG4oKX19LG10PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hIUkubmF2aWdhdG9yLnNlbmRCZWFjb24mJighIUkubmF2aWdhdG9yLnNlbmRCZWFjb24odCxlKSYmKG4oKSwhMCkpfSxidD1mdW5jdGlvbih0LGUsbil7MTw9MTAwKk1hdGgucmFuZG9tKCl8fFUoIj8iKXx8KHQ9WyJ0PWVycm9yIiwiX2U9Iit0LCJfdj1qOTYiLCJzcj0xIl0sZSYmdC5wdXNoKCJfZj0iK2UpLG4mJnQucHVzaCgiX209Iit4KG4uc3Vic3RyaW5nKDAsMTAwKSkpLHQucHVzaCgiYWlwPTEiKSx0LnB1c2goIno9IitBdCgpKSxkdChndCghMCkrIi91L2QiLHQuam9pbigiJiIpLFQpKX0sd3Q9ZnVuY3Rpb24oKXtyZXR1cm4gSS5nYURhdGE9SS5nYURhdGF8fHt9fSx5dD1mdW5jdGlvbih0KXt2YXIgZT13dCgpO3JldHVybiBlW3RdPWVbdF18fHt9fTtmdW5jdGlvbiBfdCh0KXtpZigxMDAhPXQuZ2V0KENuKSYmbyhQdCh0LGhuKSklMWU0Pj0xMDAqTXQodCxDbikpdGhyb3ciYWJvcnQifWZ1bmN0aW9uIE90KHQpe2lmKFUoUHQodCx2bikpKXRocm93ImFib3J0In1mdW5jdGlvbiBFdCgpe3ZhciB0PVAubG9jYXRpb24ucHJvdG9jb2w7aWYoImh0dHA6IiE9dCYmImh0dHBzOiIhPXQpdGhyb3ciYWJvcnQifWZ1bmN0aW9uIFR0KG4pe3RyeXtJLm5hdmlnYXRvci5zZW5kQmVhY29uP2coNDIpOkkuWE1MSHR0cFJlcXVlc3QmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gbmV3IEkuWE1MSHR0cFJlcXVlc3QmJmcoNDApfWNhdGNoKHQpe31uLnNldChWZSx3KG4pLCEwKSxuLnNldCh0ZSxNdChuLHRlKSsxKTt2YXIgcj1bXTtHdC5tYXAoZnVuY3Rpb24odCxlKXtlLkYmJihudWxsIT0odD1uLmdldCh0KSkmJnQhPWUuZGVmYXVsdFZhbHVlJiYoImJvb2xlYW4iPT10eXBlb2YgdCYmKHQqPTEpLHIucHVzaChlLkYrIj0iK3goIiIrdCkpKSl9KSwhMT09PW4uZ2V0KHRyKSYmci5wdXNoKCJucGE9MSIpLHIucHVzaCgiej0iK2UoKSksbi5zZXQoWXQsci5qb2luKCImIiksITApfWZ1bmN0aW9uIHh0KHQpe3ZhciBlPVB0KHQsUXQpOyFlJiZ0LmdldChKdCkmJihlPSJiZWFjb24iKTt2YXIgbj1QdCh0LEtuKSxyPVB0KHQsVW4pLGE9bnx8KHJ8fGd0KCExKSsiIikrIi9jb2xsZWN0IjsiZCI9PT1QdCh0LEpuKT8oYT1ufHwocnx8Z3QoITEpKyIiKSsiL2ovY29sbGVjdCIsZT10LmdldChZbil8fHZvaWQgMCxmdChhLFB0KHQsWXQpLGUsdC5aKFp0KSkpOmU/KG49UHQodCxZdCkscj0ocj10LlooWnQpKXx8VCwiaW1hZ2UiPT1lP2R0KGEsbixyKToieGhyIj09ZSYmcHQoYSxuLHIpfHwiYmVhY29uIj09ZSYmbXQoYSxuLHIpfHxodChhLG4scikpOmh0KGEsUHQodCxZdCksdC5aKFp0KSksYT1QdCh0LHZuKSxlPShhPXl0KGEpKS5oaXRjb3VudCxhLmhpdGNvdW50PWU/ZSsxOjEsYS5maXJzdF9oaXR8fChhLmZpcnN0X2hpdD0obmV3IERhdGUpLmdldFRpbWUoKSksYT1QdCh0LHZuKSxkZWxldGUgeXQoYSkucGVuZGluZ19leHBlcmltZW50cyx0LnNldChadCxULCEwKX1mdW5jdGlvbiBrdCh0KXt3dCgpLmV4cElkJiZ0LnNldChMZSx3dCgpLmV4cElkKSx3dCgpLmV4cFZhciYmdC5zZXQoSWUsd3QoKS5leHBWYXIpO3ZhciBlPVB0KHQsdm4pO2lmKGU9eXQoZSkucGVuZGluZ19leHBlcmltZW50cyl7dmFyIG49W107Zm9yKHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiZlW3JdJiZuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHIpKyIuIitlbmNvZGVVUklDb21wb25lbnQoZVtyXSkpO3ZhciByPW4uam9pbigiISIpfWVsc2Ugcj12b2lkIDA7ciYmKChlPXQuZ2V0KFBlKSkmJihyPWUrIiEiK3IpLHQuc2V0KFBlLHIsITApKX1mdW5jdGlvbiBTdCgpe2lmKEkubmF2aWdhdG9yJiYicHJldmlldyI9PUkubmF2aWdhdG9yLmxvYWRQdXJwb3NlKXRocm93ImFib3J0In1mdW5jdGlvbiBDdCh0KXt2YXIgZT1JLmdhRGV2SWRzfHxbXTtpZih5KGUpKXt2YXIgbj10LmdldCgiJmRpZCIpO18obikmJjA8bi5sZW5ndGgmJihlPWUuY29uY2F0KG4uc3BsaXQoIiwiKSkpO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspTChuLGVbcl0pfHxuLnB1c2goZVtyXSk7MCE9bi5sZW5ndGgmJnQuc2V0KCImZGlkIixuLmpvaW4oIiwiKSwhMCl9fWZ1bmN0aW9uIGp0KHQpe2lmKCF0LmdldCh2bikpdGhyb3ciYWJvcnQifWZ1bmN0aW9uIE50KHQpe3RyeXt2YXIgZSxuO3QuZ2V0KEZuKXx8KHQuc2V0KEZuLCEwKSx0LmdldCgiJmd0bSIpKXx8KGU9dm9pZCAwLChlPSEoZT0hKGU9UnQoTigiZ3RtX2RlYnVnIikpPzI6ZSkmJk8oUC5yZWZlcnJlciwiaHR0cHM6Ly90YWdhc3Npc3RhbnQuZ29vZ2xlLmNvbS8iKT8zOmUpJiZMKFAuY29va2llLnNwbGl0KCI7ICIpLCJfX1RBR19BU1NJU1RBTlQ9eCIpPzQ6ZSl8fFJ0KFAuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS10YWctYXNzaXN0YW50LXByZXNlbnQiKSkmJihlPTUpLGUmJihJWyJnb29nbGUudGFnbWFuYWdlci5kZWJ1Z3VpMi5xdWV1ZSJdfHwoSVsiZ29vZ2xlLnRhZ21hbmFnZXIuZGVidWd1aTIucXVldWUiXT1bXSxqKCJodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9kZWJ1Zy9ib290c3RyYXA/aWQ9Iit0LmdldCh2bikrIiZzcmM9TEVHQUNZJmNvbmQ9IitlKSksbj1QLmN1cnJlbnRTY3JpcHQsSVsiZ29vZ2xlLnRhZ21hbmFnZXIuZGVidWd1aTIucXVldWUiXS5wdXNoKHttZXNzYWdlVHlwZToiTEVHQUNZX0NPTlRBSU5FUl9TVEFSVElORyIsZGF0YTp7aWQ6dC5nZXQodm4pLHNjcmlwdFNvdXJjZTpuJiZuLnNyY3x8IiJ9fSkpKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIFJ0KHQpe2lmKG51bGwhPXQmJjAhPT10Lmxlbmd0aCl7dD1OdW1iZXIodCk7dmFyIGU9RGF0ZS5ub3coKTtyZXR1cm4gdDxlKzNlNSYmZS05ZTU8dH19US5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuTS5wdXNoKHQpfSxRLnByb3RvdHlwZS5EPWZ1bmN0aW9uKHQpe3RyeXtmb3IodmFyIGU9MDtlPHRoaXMuTS5sZW5ndGg7ZSsrKXt2YXIgbj10LmdldCh0aGlzLk1bZV0pO24mJmYobikmJm4uY2FsbChJLHQpfX1jYXRjaCh0KXt9KGU9dC5nZXQoWnQpKSE9VCYmZihlKSYmKHQuc2V0KFp0LFQsITApLHNldFRpbWVvdXQoZSwxMCkpfTt2YXIgQXQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgyMTQ3NDgzNjQ3Kk1hdGgucmFuZG9tKCkpfSxlPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBVaW50MzJBcnJheSgxKTtyZXR1cm4gSS5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLDIxNDc0ODM2NDcmdFswXX1jYXRjaCh0KXtyZXR1cm4gQXQoKX19O2Z1bmN0aW9uIEx0KHQpe3ZhciBlPU10KHQsVWUpO2lmKDUwMDw9ZSYmZygxNSksInRyYW5zYWN0aW9uIiE9KG49UHQodCxXdCkpJiYiaXRlbSIhPW4pe3ZhciBuPU10KHQsJGUpLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYT1NdCh0LEhlKTtpZigwPT1hJiZ0LnNldChIZSxyKSwwPChhPU1hdGgucm91bmQoMiooci1hKS8xZTMpKSYmKG49TWF0aC5taW4obithLDIwKSx0LnNldChIZSxyKSksbjw9MCl0aHJvdyJhYm9ydCI7dC5zZXQoJGUsLS1uKX10LnNldChVZSwrK2UpfWZ1bmN0aW9uIEl0KCl7dGhpcy5kYXRhPW5ldyBifUl0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9WHQodCksbj10aGlzLmRhdGEuZ2V0KHQpO3JldHVybiBlJiZudWxsPT1uJiYobj1mKGUuZGVmYXVsdFZhbHVlKT9lLmRlZmF1bHRWYWx1ZSgpOmUuZGVmYXVsdFZhbHVlKSxlJiZlLlo/ZS5aKHRoaXMsdCxuKTpufTt2YXIgUHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09KHQ9dC5nZXQoZSkpPyIiOiIiK3R9LE10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PSh0PXQuZ2V0KGUpKXx8IiI9PT10PzA6TnVtYmVyKHQpfTtJdC5wcm90b3R5cGUuWj1mdW5jdGlvbih0KXtyZXR1cm4odD10aGlzLmdldCh0KSkmJmYodCk/dDpUfSxJdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXtpZih0KWlmKCJvYmplY3QiPT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYkdCh0aGlzLHIsdFtyXSxuKTtlbHNlICR0KHRoaXMsdCxlLG4pfTtmdW5jdGlvbiBEdCh0LGUsbixyLGEpe3JldHVybiB0PW5ldyBGdCh0LGUsbixyLGEpLEd0LnNldCh0Lm5hbWUsdCksdC5uYW1lfWZ1bmN0aW9uIHF0KHQsZSl7VnQucHVzaChbbmV3IFJlZ0V4cCgiXiIrdCsiJCIpLGVdKX1mdW5jdGlvbiBVdCh0LGUsbil7cmV0dXJuIER0KHQsZSxuLHZvaWQgMCxIdCl9ZnVuY3Rpb24gSHQoKXt9dmFyICR0PWZ1bmN0aW9uKHQsZSxuLHIpe251bGwhPW4mJmU9PT12biYmYWEudGVzdChuKTt2YXIgYT1YdChlKTthJiZhLm8/YS5vKHQsZSxuLHIpOnQuZGF0YS5zZXQoZSxuLHIpfSxHdD1uZXcgYixWdD1bXSxGdD1mdW5jdGlvbih0LGUsbixyLGEpe3RoaXMubmFtZT10LHRoaXMuRj1lLHRoaXMuWj1yLHRoaXMubz1hLHRoaXMuZGVmYXVsdFZhbHVlPW59LFh0PWZ1bmN0aW9uKHQpe3ZhciBlPUd0LmdldCh0KTtpZighZSlmb3IodmFyIG49MDtuPFZ0Lmxlbmd0aDtuKyspe3ZhciByPVZ0W25dLGE9clswXS5leGVjKHQpO2lmKGEpe2U9clsxXShhKSxHdC5zZXQoZS5uYW1lLGUpO2JyZWFrfX1yZXR1cm4gZX0sQnQ9VXQoImFwaVZlcnNpb24iLCJ2IiksenQ9VXQoImNsaWVudFZlcnNpb24iLCJfdiIpO0R0KCJhbm9ueW1pemVJcCIsImFpcCIpO3ZhciBLdD1EdCgiYWRTZW5zZUlkIiwiYSIpLFd0PUR0KCJoaXRUeXBlIiwidCIpLFp0PUR0KCJoaXRDYWxsYmFjayIpLFl0PUR0KCJoaXRQYXlsb2FkIik7RHQoIm5vbkludGVyYWN0aW9uIiwibmkiKSxEdCgiY3VycmVuY3lDb2RlIiwiY3UiKSxEdCgiZGF0YVNvdXJjZSIsImRzIik7dmFyIEp0PUR0KCJ1c2VCZWFjb24iLHZvaWQgMCwhMSksUXQ9RHQoInRyYW5zcG9ydCIpO0R0KCJzZXNzaW9uQ29udHJvbCIsInNjIiwiIiksRHQoInNlc3Npb25Hcm91cCIsInNnIiksRHQoInF1ZXVlVGltZSIsInF0Iik7dmFyIHRlPUR0KCJfcyIsIl9zIik7RHQoInNjcmVlbk5hbWUiLCJjZCIpO3ZhciBlZT1EdCgibG9jYXRpb24iLCJkbCIsIiIpLG5lPUR0KCJyZWZlcnJlciIsImRyIikscmU9RHQoInBhZ2UiLCJkcCIsIiIpO0R0KCJob3N0bmFtZSIsImRoIik7dmFyIGFlPUR0KCJsYW5ndWFnZSIsInVsIiksb2U9RHQoImVuY29kaW5nIiwiZGUiKTtEdCgidGl0bGUiLCJkdCIsZnVuY3Rpb24oKXtyZXR1cm4gUC50aXRsZXx8dm9pZCAwfSkscXQoImNvbnRlbnRHcm91cChbMC05XSspIixmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZ0KHRbMF0sImNnIit0WzFdKX0pO3ZhciBpZT1EdCgic2NyZWVuQ29sb3JzIiwic2QiKSxzZT1EdCgic2NyZWVuUmVzb2x1dGlvbiIsInNyIiksY2U9RHQoInZpZXdwb3J0U2l6ZSIsInZwIiksdWU9RHQoImphdmFFbmFibGVkIiwiamUiKSxsZT1EdCgiZmxhc2hWZXJzaW9uIiwiZmwiKTtEdCgiY2FtcGFpZ25JZCIsImNpIiksRHQoImNhbXBhaWduTmFtZSIsImNuIiksRHQoImNhbXBhaWduU291cmNlIiwiY3MiKSxEdCgiY2FtcGFpZ25NZWRpdW0iLCJjbSIpLER0KCJjYW1wYWlnbktleXdvcmQiLCJjayIpLER0KCJjYW1wYWlnbkNvbnRlbnQiLCJjYyIpO3ZhciBnZT1EdCgiZXZlbnRDYXRlZ29yeSIsImVjIiksaGU9RHQoImV2ZW50QWN0aW9uIiwiZWEiKSxmZT1EdCgiZXZlbnRMYWJlbCIsImVsIiksZGU9RHQoImV2ZW50VmFsdWUiLCJldiIpLHBlPUR0KCJzb2NpYWxOZXR3b3JrIiwic24iKSx2ZT1EdCgic29jaWFsQWN0aW9uIiwic2EiKSxtZT1EdCgic29jaWFsVGFyZ2V0Iiwic3QiKSxiZT1EdCgibDEiLCJwbHQiKSx3ZT1EdCgibDIiLCJwZHQiKSx5ZT1EdCgibDMiLCJkbnMiKSxfZT1EdCgibDQiLCJycnQiKSxPZT1EdCgibDUiLCJzcnQiKSxFZT1EdCgibDYiLCJ0Y3AiKSxUZT1EdCgibDciLCJkaXQiKSx4ZT1EdCgibDgiLCJjbHQiKSxrZT1EdCgibDkiLCJfZ3N0IiksU2U9RHQoImwxMCIsIl9nYnQiKSxDZT1EdCgibDExIiwiX2NzdCIpLGplPUR0KCJsMTIiLCJfY2J0IiksdD1EdCgidGltaW5nQ2F0ZWdvcnkiLCJ1dGMiKSxOZT1EdCgidGltaW5nVmFyIiwidXR2IiksUmU9RHQoInRpbWluZ0xhYmVsIiwidXRsIiksQWU9RHQoInRpbWluZ1ZhbHVlIiwidXR0Iik7RHQoImFwcE5hbWUiLCJhbiIpLER0KCJhcHBWZXJzaW9uIiwiYXYiLCIiKSxEdCgiYXBwSWQiLCJhaWQiLCIiKSxEdCgiYXBwSW5zdGFsbGVySWQiLCJhaWlkIiwiIiksRHQoImV4RGVzY3JpcHRpb24iLCJleGQiKSxEdCgiZXhGYXRhbCIsImV4ZiIpO3ZhciBMZT1EdCgiZXhwSWQiLCJ4aWQiKSxJZT1EdCgiZXhwVmFyIiwieHZhciIpLFBlPUR0KCJleHAiLCJleHAiKSxNZT1EdCgiX3V0bWEiLCJfdXRtYSIpLERlPUR0KCJfdXRteiIsIl91dG16IikscWU9RHQoIl91dG1odCIsIl91dG1odCIpLFVlPUR0KCJfaGMiLHZvaWQgMCwwKSxIZT1EdCgiX3RpIix2b2lkIDAsMCksJGU9RHQoIl90byIsdm9pZCAwLDIwKTtxdCgiZGltZW5zaW9uKFswLTldKykiLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRnQodFswXSwiY2QiK3RbMV0pfSkscXQoIm1ldHJpYyhbMC05XSspIixmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZ0KHRbMF0sImNtIit0WzFdKX0pLER0KCJsaW5rZXJQYXJhbSIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbih0KXtpZih0LmdldChHZSkpcmV0dXJuIGcoMzUpLGtyLmdlbmVyYXRlKE1yKHQpKTt2YXIgZT1QdCh0LGhuKSxuPVB0KHQsUm4pfHwiIjtyZXR1cm4gZT0iX2dhPTIuIit4KE5yKG4rZSwwKSsiLiIrbisiLSIrZSksdD0odD1Ecih0KSk/KGcoNDQpLCImX2dhYz0xLiIreChbTnIodC5xYSwwKSx0LnRpbWVzdGFtcCx0LnFhXS5qb2luKCIuIikpKToiIixlK3R9LEh0KTt2YXIgR2U9VXQoIl9jZDJsIix2b2lkIDAsITEpLFZlPUR0KCJ1c2FnZSIsIl91IiksRmU9RHQoIl91bSIpO0R0KCJmb3JjZVNTTCIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBsfSxmdW5jdGlvbih0LGUsbil7ZygzNCksbD0hIW59KTt2YXIgWGU9RHQoIl9qMSIsImppZCIpLEJlPUR0KCJfajIiLCJnamlkIik7cXQoIlxcJiguKikiLGZ1bmN0aW9uKHQpe3ZhciBuLHIsZT1uZXcgRnQodFswXSx0WzFdKSxhPShuPXRbMF0uc3Vic3RyaW5nKDEpLEd0Lm1hcChmdW5jdGlvbih0LGUpe2UuRj09biYmKHI9ZSl9KSxyJiZyLm5hbWUpO3JldHVybiBhJiYoZS5aPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldChhKX0sZS5vPWZ1bmN0aW9uKHQsZSxuLHIpe3Quc2V0KGEsbixyKX0sZS5GPXZvaWQgMCksZX0pO3ZhciB6ZT1VdCgiX29vdCIpLEtlPUR0KCJwcmV2aWV3VGFzayIpLFdlPUR0KCJjaGVja1Byb3RvY29sVGFzayIpLFplPUR0KCJ2YWxpZGF0aW9uVGFzayIpLFllPUR0KCJjaGVja1N0b3JhZ2VUYXNrIiksSmU9RHQoImhpc3RvcnlJbXBvcnRUYXNrIiksUWU9RHQoInNhbXBsZXJUYXNrIiksdG49RHQoIl9ybHQiKSxlbj1EdCgiYnVpbGRIaXRUYXNrIiksbm49RHQoInNlbmRIaXRUYXNrIikscm49RHQoImNlVGFzayIpLGFuPUR0KCJkZXZJZFRhc2siKSxvbj1EdCgidGltaW5nVGFzayIpLHNuPUR0KCJkaXNwbGF5RmVhdHVyZXNUYXNrIiksY249RHQoImN1c3RvbVRhc2siKSx1bj1EdCgiZnBzQ3Jvc3NEb21haW5UYXNrIiksbG49VXQoIl9jdGEiKSxnbj1VdCgibmFtZSIpLGhuPVV0KCJjbGllbnRJZCIsImNpZCIpLGZuPVV0KCJjbGllbnRJZFRpbWUiKSxkbj1VdCgic3RvcmVkQ2xpZW50SWQiKSxwbj1EdCgidXNlcklkIiwidWlkIiksdm49VXQoInRyYWNraW5nSWQiLCJ0aWQiKSxtbj1VdCgiY29va2llTmFtZSIsdm9pZCAwLCJfZ2EiKSxibj1VdCgiY29va2llRG9tYWluIiksd249VXQoImNvb2tpZVBhdGgiLHZvaWQgMCwiLyIpLHluPVV0KCJjb29raWVFeHBpcmVzIix2b2lkIDAsNjMwNzJlMyksX249VXQoImNvb2tpZVVwZGF0ZSIsdm9pZCAwLCEwKSxPbj1VdCgiY29va2llRmxhZ3MiLHZvaWQgMCwiIiksRW49VXQoImxlZ2FjeUNvb2tpZURvbWFpbiIpLFRuPVV0KCJsZWdhY3lIaXN0b3J5SW1wb3J0Iix2b2lkIDAsITApLHhuPVV0KCJzdG9yYWdlIix2b2lkIDAsImNvb2tpZSIpLGtuPVV0KCJhbGxvd0xpbmtlciIsdm9pZCAwLCExKSxTbj1VdCgiYWxsb3dBbmNob3IiLHZvaWQgMCwhMCksQ249VXQoInNhbXBsZVJhdGUiLCJzZiIsMTAwKSxqbj1VdCgic2l0ZVNwZWVkU2FtcGxlUmF0ZSIsdm9pZCAwLDEpLE5uPVV0KCJhbHdheXNTZW5kUmVmZXJyZXIiLHZvaWQgMCwhMSksUm49VXQoIl9naWQiLCJfZ2lkIiksQW49VXQoIl9nY24iKSxMbj1VdCgidXNlQW1wQ2xpZW50SWQiKSxJbj1VdCgiX2djbGlkIiksUG49VXQoIl9ndCIpLE1uPVV0KCJfZ2UiLHZvaWQgMCw3Nzc2ZTYpLERuPVV0KCJfZ2Nsc3JjIikscW49VXQoInN0b3JlR2FjIix2b2lkIDAsITApLFVuPUR0KCJfeF8xOSIpLEhuPUR0KCJfZnBsYyIsIl9mcGxjIiksJG49VXQoIl9jcyIpLEduPVV0KCJfdXNlVXAiLHZvaWQgMCwhMSksVm49RHQoInVwIiwidXAiKSxGbj1EdCgiX3RhYyIsdm9pZCAwLCExKSxYbj1VdCgiX2dicmFpZCIpLEJuPVV0KCJfZ2J0Iiksem49VXQoIl9nYmUiLHZvaWQgMCw3Nzc2ZTYpLEtuPUR0KCJ0cmFuc3BvcnRVcmwiKSxXbj1EdCgiX3IiLCJfciIpLFpuPUR0KCJfc2xjIiwiX3NsYyIpLFluPUR0KCJfZHAiKSxKbj1EdCgiX2p0Iix2b2lkIDAsIm4iKSxRbj1EdCgiYWxsb3dBZEZlYXR1cmVzIix2b2lkIDAsITApLHRyPUR0KCJhbGxvd0FkUGVyc29uYWxpemF0aW9uU2lnbmFscyIsdm9pZCAwLCEwKTtmdW5jdGlvbiBlcihlLHQsbixyKXt0W2VdPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiByJiZnKHIpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKHQpe3Rocm93IGJ0KCJleGMiLGUsdCYmdC5uYW1lKSx0fX19ZnVuY3Rpb24gbnIodCl7dmFyIGU7KGU9KGU9UHQodCxVbikmJnQuZ2V0KEdlKSk/ISgoZT1rci5nZXQodC5nZXQoU24pKSkmJmUuX2ZwbGMpOmUpJiYhY3IodCkmJnQuc2V0KEhuLCIwIil9ZnVuY3Rpb24gcnIodCxlKXt2YXIgbj10W2VdOyhpc05hTihuKXx8MS8wPT1ufHxuPDApJiYodFtlXT12b2lkIDApfWZ1bmN0aW9uIGFyKHQpe2lmKCJjb29raWUiPT1QdCh0LHhuKSYmIWdyJiYoaHIodCksIWdyKSl0aHJvdyJhYm9ydCJ9ZnVuY3Rpb24gb3IodCl7dmFyIGUsbixyO3QuZ2V0KFRuKSYmKGU9UHQodCxibiksKHI9RXIoIl9fdXRtYSIsbj1QdCh0LEVuKXx8QSgpLGUpKSYmKGcoMTkpLHQuc2V0KHFlLChuZXcgRGF0ZSkuZ2V0VGltZSgpLCEwKSx0LnNldChNZSxyLlIpLChlPUVyKCJfX3V0bXoiLG4sZSkpJiZyLmhhc2g9PWUuaGFzaCYmdC5zZXQoRGUsZS5SKSkpfWZ1bmN0aW9uIGlyKHQsZSl7ZT1HKFB0KHQsZSkpO3ZhciBuPWJyKFB0KHQsYm4pKS5zcGxpdCgiLiIpLmxlbmd0aDtyZXR1cm4gMTwodD15cihQdCh0LHduKSkpJiYobis9Ii0iK3QpLGU/WyJHQTEiLG4sZV0uam9pbigiLiIpOiIifWZ1bmN0aW9uIHNyKCl7dmFyIHQ9W10sZT1BKCkuc3BsaXQoIi4iKTtpZig0PT1lLmxlbmd0aCl7dmFyIG49ZVtlLmxlbmd0aC0xXTtpZihwYXJzZUludChuLDEwKT09bilyZXR1cm5bIm5vbmUiXX1mb3Iobj1lLmxlbmd0aC0yOzA8PW47bi0tKXQucHVzaChlLnNsaWNlKG4pLmpvaW4oIi4iKSk7cmV0dXJuIGU9UC5sb2NhdGlvbi5ob3N0bmFtZSxGLnRlc3QoZSl8fFYudGVzdChlKXx8dC5wdXNoKCJub25lIiksdH12YXIgY3I9ZnVuY3Rpb24odCl7aWYoImNvb2tpZSI9PXQuZ2V0KHhuKSlyZXR1cm4gMDwodD1IKCJGUExDIikpLmxlbmd0aD90WzBdOnZvaWQgMH0sdXI9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5taW4oTXQodCxqbiksMTAwKTtyZXR1cm4hKG8oUHQodCxobikpJTEwMD49ZSl9LGxyPWZ1bmN0aW9uKHQpe3ZhciBlLG49e307KGZ1bmN0aW9uKHQpe3ZhciBlPUkucGVyZm9ybWFuY2V8fEkud2Via2l0UGVyZm9ybWFuY2UsZTtpZighKGU9ZSYmZS50aW1pbmcpKXJldHVybiExO3ZhciBuPWUubmF2aWdhdGlvblN0YXJ0O3JldHVybiAwPT1uPyExOih0W2JlXT1lLmxvYWRFdmVudFN0YXJ0LW4sdFt5ZV09ZS5kb21haW5Mb29rdXBFbmQtZS5kb21haW5Mb29rdXBTdGFydCx0W0VlXT1lLmNvbm5lY3RFbmQtZS5jb25uZWN0U3RhcnQsdFtPZV09ZS5yZXNwb25zZVN0YXJ0LWUucmVxdWVzdFN0YXJ0LHRbd2VdPWUucmVzcG9uc2VFbmQtZS5yZXNwb25zZVN0YXJ0LHRbX2VdPWUuZmV0Y2hTdGFydC1uLHRbVGVdPWUuZG9tSW50ZXJhY3RpdmUtbix0W3hlXT1lLmRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0LW4sdFtrZV09a2EuTC1uLHRbU2VdPWthLnlhLW4sSS5nb29nbGVfdGFnX21hbmFnZXImJkkuZ29vZ2xlX3RhZ19tYW5hZ2VyLl9saSYmKGU9SS5nb29nbGVfdGFnX21hbmFnZXIuX2xpLHRbQ2VdPWUuY3N0LHRbamVdPWUuY2J0KSwhMCl9KG4pfHxmdW5jdGlvbih0KXtpZihJLnRvcCE9SSlyZXR1cm4hMTt2YXIgZT1JLmV4dGVybmFsLG49ZSYmZS5vbmxvYWRUO3JldHVybigwPChuPTIxNDc0ODM2NDg8KG49ZSYmIWUuaXNWYWxpZExvYWRUaW1lP3ZvaWQgMDpuKT92b2lkIDA6bikmJmUuc2V0UGFnZVJlYWR5VGltZSgpLG51bGw9PW4pPyExOih0W2JlXT1uLCEwKX0obikpJiYobnVsbD09KGU9bltiZV0pfHwxLzA9PWV8fGlzTmFOKGUpfHwoMDxlPyhycihuLHllKSxycihuLEVlKSxycihuLE9lKSxycihuLHdlKSxycihuLF9lKSxycihuLFRlKSxycihuLHhlKSxycihuLGtlKSxycihuLFNlKSxycihuLENlKSxycihuLGplKSxNKGZ1bmN0aW9uKCl7dChuKX0sMTApKTpwKEksImxvYWQiLGZ1bmN0aW9uKCl7bHIodCl9LCExKSkpfSxncj0hMSxocj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsYSxvLGkscyxjLHU7ImNvb2tpZSI9PVB0KHQseG4pJiYoIXQuZ2V0KF9uKSYmUHQodCxkbik9PVB0KHQsaG4pfHwoZT0xZTMqTXQodCx5biksZnIodCxobixtbixlKSx0LmRhdGEuc2V0KGRuLFB0KHQsaG4pKSksIXQuZ2V0KF9uKSYmZHIodCk9PVB0KHQsUm4pfHxmcih0LFJuLEFuLDg2NGU1KSx0LmdldChxbik/KGU9UHQodCxJbikpJiYobj0wPT09KG49TWF0aC5taW4oTXQodCxNbiksMWUzKk10KHQseW4pKSk/MDpNYXRoLm1pbihuLDFlMypNdCh0LFBuKStuLShuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0LmRhdGEuc2V0KE1uLG4pLHI9e30sYT1QdCh0LFBuKSxvPVB0KHQsRG4pLGk9d3IoUHQodCx3bikpLHM9YnIoUHQodCxibikpLGM9UHQodCx2biksdT1QdCh0LE9uKSxvJiYiYXcuZHMiIT1vP3ImJihyLnVhPSEwKTooZT1bIjEiLGEsRyhlKV0uam9pbigiLiIpLDA8PW4mJihyJiYoci50YT0hMCksJCgiX2dhY18iK0coYyksZSxpLHMsYyxuLHUpKSksX3IocikpOmcoNzUpLHQuZ2V0KHFuKSYmKGU9UHQodCxYbikpJiYobj0wPT09KG49TWF0aC5taW4oTXQodCx6biksMWUzKk10KHQseW4pKSk/MDpNYXRoLm1pbihuLDFlMypNdCh0LEJuKStuLShuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0LmRhdGEuc2V0KHpuLG4pLHI9e30sdT1QdCh0LEJuKSxpPXdyKFB0KHQsd24pKSxzPWJyKFB0KHQsYm4pKSxjPVB0KHQsdm4pLHQ9UHQodCxPbiksZT1bIjEiLHUsRyhlKV0uam9pbigiLiIpLDA8PW4mJihyJiYoci50YT0hMCksJCgiX2dhY19nYl8iK0coYyksZSxpLHMsYyxuLHQpKSxPcihyKSkpfSxmcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgYT1pcih0LGUpO2lmKGEpe249UHQodCxuKTt2YXIgbz13cihQdCh0LHduKSksaT1icihQdCh0LGJuKSkscz1QdCh0LE9uKSxjPVB0KHQsdm4pO2lmKCJhdXRvIiE9aSkkKG4sYSxvLGksYyxyLHMpJiYoZ3I9ITApO2Vsc2V7ZygzMik7Zm9yKHZhciB1PXNyKCksbD0wO2w8dS5sZW5ndGg7bCsrKWlmKGk9dVtsXSx0LmRhdGEuc2V0KGJuLGkpLGE9aXIodCxlKSwkKG4sYSxvLGksYyxyLHMpKXJldHVybiB2b2lkKGdyPSEwKTt0LmRhdGEuc2V0KGJuLCJhdXRvIil9fX0sZHI9ZnVuY3Rpb24odCl7dmFyIGU9SChQdCh0LEFuKSk7cmV0dXJuIHByKHQsZSl9LHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZyKGUsUHQodCxibiksUHQodCx3bikpfSx2cj1mdW5jdGlvbih0LGUsbil7aWYodCYmISh0Lmxlbmd0aDwxKSl7Zm9yKHZhciByPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89dFthXSxpPW8uc3BsaXQoIi4iKSxzPWkuc2hpZnQoKTsoaT0oIkdBMSI9PXN8fCIxIj09cykmJjE8aS5sZW5ndGg/KDE9PShvPWkuc2hpZnQoKS5zcGxpdCgiLSIpKS5sZW5ndGgmJihvWzFdPSIxIiksb1swXSo9MSxvWzFdKj0xLHtIOm8sczppLmpvaW4oIi4iKX0pOnUudGVzdChvKT97SDpbMCwwXSxzOm99OnZvaWQgMCkmJnIucHVzaChpKX1yZXR1cm4gMT09ci5sZW5ndGg/KGcoMTMpLHJbMF0ucyk6MCE9ci5sZW5ndGg/KGcoMTQpLDE9PShyPW1yKHIsYnIoZSkuc3BsaXQoIi4iKS5sZW5ndGgsMCkpLmxlbmd0aD9yWzBdLnM6KDE8KHI9bXIocix5cihuKSwxKSkubGVuZ3RoJiZnKDQxKSxyWzBdJiZyWzBdLnMpKTp2b2lkIGcoMTIpfWcoMTIpfSxtcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGE9W10sbz1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV07cy5IW25dPT1lP2EucHVzaChzKTpudWxsPT1yfHxzLkhbbl08cj8obz1bc10scj1zLkhbbl0pOnMuSFtuXT09ciYmby5wdXNoKHMpfXJldHVybiAwPGEubGVuZ3RoP2E6b30sYnI9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXQuaW5kZXhPZigiLiIpP3Quc3Vic3RyKDEpOnR9LHdyPWZ1bmN0aW9uKHQpe3JldHVybiB0PzAhPSh0PTE8dC5sZW5ndGgmJnQubGFzdEluZGV4T2YoIi8iKT09dC5sZW5ndGgtMT90LnN1YnN0cigwLHQubGVuZ3RoLTEpOnQpLmluZGV4T2YoIi8iKT8iLyIrdDp0OiIvIn0seXI9ZnVuY3Rpb24odCl7cmV0dXJuIi8iPT0odD13cih0KSk/MTp0LnNwbGl0KCIvIikubGVuZ3RofSxfcj1mdW5jdGlvbih0KXt0LnRhJiZnKDc3KSx0Lm5hJiZnKDc0KSx0LnBhJiZnKDczKSx0LnVhJiZnKDY5KX0sT3I9ZnVuY3Rpb24odCl7dC50YSYmZyg4NSksdC5uYSYmZyg4NiksdC5wYSYmZyg4Nyl9O2Z1bmN0aW9uIEVyKHQsZSxuKXsibm9uZSI9PWUmJihlPSIiKTt2YXIgcj1bXSxhPUgodCk7dD0iX191dG1hIj09dD82OjI7Zm9yKHZhciBvPTA7bzxhLmxlbmd0aDtvKyspe3ZhciBpPSgiIithW29dKS5zcGxpdCgiLiIpO2kubGVuZ3RoPj10JiZyLnB1c2goe2hhc2g6aVswXSxSOmFbb10sTzppfSl9aWYoMCE9ci5sZW5ndGgpcmV0dXJuIDEhPXIubGVuZ3RoJiYoVHIoZSxyKXx8VHIobixyKXx8VHIobnVsbCxyKSl8fHJbMF19ZnVuY3Rpb24gVHIodCxlKXt2YXIgbjtudWxsPT10P249dD0xOihuPW8odCksdD1vKE8odCwiLiIpP3Quc3Vic3RyaW5nKDEpOiIuIit0KSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5oYXNoPT1ufHxlW3JdLmhhc2g9PXQpcmV0dXJuIGVbcl19dmFyIHhyPW5ldyBSZWdFeHAoL15odHRwcz86XC9cLyhbXlwvOl0rKS8pLGtyPUkuZ29vZ2xlX3RhZ19kYXRhLmdsQnJpZGdlLFNyPVJlZ0V4cCgiKC4qKShbPyYjXSkoPzpfZ2E9W14mI10qKSg/OiY/KSguKikiKSxDcj1SZWdFeHAoIiguKikoWz8mI10pKD86X2dhYz1bXiYjXSopKD86Jj8pKC4qKSIpO2Z1bmN0aW9uIGpyKHQsZSl7dmFyIG49bmV3IERhdGUscj1JLm5hdmlnYXRvcixhPXIucGx1Z2luc3x8W107Zm9yKHQ9W3Qsci51c2VyQWdlbnQsbi5nZXRUaW1lem9uZU9mZnNldCgpLG4uZ2V0WWVhcigpLG4uZ2V0RGF0ZSgpLG4uZ2V0SG91cnMoKSxuLmdldE1pbnV0ZXMoKStlXSxlPTA7ZTxhLmxlbmd0aDsrK2UpdC5wdXNoKGFbZV0uZGVzY3JpcHRpb24pO3JldHVybiBvKHQuam9pbigiLiIpKX1mdW5jdGlvbiBOcih0LGUpe3ZhciBuPW5ldyBEYXRlLHI9SS5uYXZpZ2F0b3IsYT1uLmdldEhvdXJzKCkrTWF0aC5mbG9vcigobi5nZXRNaW51dGVzKCkrZSkvNjApO3JldHVybiBvKFt0LHIudXNlckFnZW50LHIubGFuZ3VhZ2V8fCIiLG4uZ2V0VGltZXpvbmVPZmZzZXQoKSxuLmdldFllYXIoKSxuLmdldERhdGUoKStNYXRoLmZsb29yKGEvMjQpLCgyNCthKSUyNCwoNjArbi5nZXRNaW51dGVzKCkrZSklNjBdLmpvaW4oIi4iKSl9ZnVuY3Rpb24gUnIodCl7Zyg0OCksdGhpcy50YXJnZXQ9dCx0aGlzLlQ9ITF9UnIucHJvdG90eXBlLmNhPWZ1bmN0aW9uKHQsZSl7aWYodCl7aWYodGhpcy50YXJnZXQuZ2V0KEdlKSlyZXR1cm4ga3IuZGVjb3JhdGUoTXIodGhpcy50YXJnZXQpLHQsZSk7aWYodC50YWdOYW1lKXtpZigiYSI9PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiB2b2lkKHQuaHJlZiYmKHQuaHJlZj1Bcih0aGlzLHQuaHJlZixlKSkpO2lmKCJmb3JtIj09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIExyKHRoaXMsdCl9cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P0FyKHRoaXMsdCxlKTp2b2lkIDB9fTt2YXIgQXI9ZnVuY3Rpb24odCxlLG4peyhyPVNyLmV4ZWMoZSkpJiYzPD1yLmxlbmd0aCYmKGU9clsxXSsoclszXT9yWzJdK3JbM106IiIpKSwocj1Dci5leGVjKGUpKSYmMzw9ci5sZW5ndGgmJihlPXJbMV0rKHJbM10/clsyXStyWzNdOiIiKSksdD10LnRhcmdldC5nZXQoImxpbmtlclBhcmFtIik7dmFyIHI9ZS5pbmRleE9mKCI/IiksYT1lLmluZGV4T2YoIiMiKTtyZXR1cm4oZT0oZT1uP2UrKC0xPT1hPyIjIjoiJiIpK3Q6LTE9PWE/ZSsoLTE9PT1yPyI/IjoiJiIpK3Q6ZS5zdWJzdHJpbmcoMCxhKSsoLTE9PT1yfHxhPHI/Ij8iOiImIikrdCtlLnN1YnN0cmluZyhhKSkucmVwbGFjZSgvJitfZ2E9LywiJl9nYT0iKSkucmVwbGFjZShSZWdFeHAoIiYrX2dhYz0iKSwiJl9nYWM9Iil9LExyPWZ1bmN0aW9uKHQsZSl7aWYoZSYmZS5hY3Rpb24paWYoImdldCI9PWUubWV0aG9kLnRvTG93ZXJDYXNlKCkpe3Q9dC50YXJnZXQuZ2V0KCJsaW5rZXJQYXJhbSIpLnNwbGl0KCImIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe2Zvcih2YXIgcj0oYT10W25dLnNwbGl0KCI9IikpWzFdLGE9YVswXSxvPWUuY2hpbGROb2Rlc3x8W10saT0hMSxzPTA7czxvLmxlbmd0aDtzKyspaWYob1tzXS5uYW1lPT1hKXtvW3NdLnNldEF0dHJpYnV0ZSgidmFsdWUiLHIpLGk9ITA7YnJlYWt9aXx8KChvPVAuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksby5zZXRBdHRyaWJ1dGUoIm5hbWUiLGEpLG8uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsciksZS5hcHBlbmRDaGlsZChvKSl9fWVsc2UicG9zdCI9PWUubWV0aG9kLnRvTG93ZXJDYXNlKCkmJihlLmFjdGlvbj1Bcih0LGUuYWN0aW9uKSl9O2Z1bmN0aW9uIElyKHQsZSl7aWYoZSE9UC5sb2NhdGlvbi5ob3N0bmFtZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25daW5zdGFuY2VvZiBSZWdFeHApe2lmKHRbbl0udGVzdChlKSlyZXR1cm4gMX1lbHNlIGlmKDA8PWUuaW5kZXhPZih0W25dKSlyZXR1cm4gMX1mdW5jdGlvbiBQcih0LGUpe3JldHVybiBlIT1qcih0LDApJiZlIT1qcih0LC0xKSYmZSE9anIodCwtMikmJmUhPU5yKHQsMCkmJmUhPU5yKHQsLTEpJiZlIT1Ocih0LC0yKX1mdW5jdGlvbiBNcih0KXt2YXIgZT1Ecih0KSxuPXt9O3JldHVybiBuLl9nYT10LmdldChobiksbi5fZ2lkPXQuZ2V0KFJuKXx8dm9pZCAwLG4uX2dhYz1lP1tlLnFhLGUudGltZXN0YW1wXS5qb2luKCIuIik6dm9pZCAwLGU9dC5nZXQoSG4pLHQ9Y3IodCksbi5fZnBsYz1lJiYiMCIhPT1lP2U6dCxufWZ1bmN0aW9uIERyKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD8wOk51bWJlcih0KX12YXIgbj10LmdldChJbik7aWYobiYmdC5nZXQocW4pKXt2YXIgcj1lKHQuZ2V0KFBuKSk7aWYoISgxZTMqcitlKHQuZ2V0KE1uKSk8PShuZXcgRGF0ZSkuZ2V0VGltZSgpKSlyZXR1cm57dGltZXN0YW1wOnIscWE6bn07Zyg3Nil9fVJyLnByb3RvdHlwZS5TPWZ1bmN0aW9uKHIsYSx0KXtmdW5jdGlvbiBlKHQpe3RyeXt0PXR8fEkuZXZlbnQ7dDp7dmFyIGU9dC50YXJnZXR8fHQuc3JjRWxlbWVudDtmb3IodD0xMDA7ZSYmMDx0Oyl7aWYoZS5ocmVmJiZlLm5vZGVOYW1lLm1hdGNoKC9eYSg/OnJlYSk/JC9pKSl7dmFyIG49ZTticmVhayB0fWU9ZS5wYXJlbnROb2RlLHQtLX1uPXt9fSgiaHR0cDoiPT1uLnByb3RvY29sfHwiaHR0cHM6Ij09bi5wcm90b2NvbCkmJklyKHIsbi5ob3N0bmFtZXx8IiIpJiZuLmhyZWYmJihuLmhyZWY9QXIobyxuLmhyZWYsYSkpfWNhdGNoKHQpe2coMjYpfX12YXIgbz10aGlzO3RoaXMudGFyZ2V0LmdldChHZSk/a3IuYXV0byhmdW5jdGlvbigpe3JldHVybiBNcihvLnRhcmdldCl9LHIsYT8iZnJhZ21lbnQiOiIiLHQpOih0aGlzLlR8fCh0aGlzLlQ9ITAscChQLCJtb3VzZWRvd24iLGUsITEpLHAoUCwia2V5dXAiLGUsITEpKSx0JiZwKFAsInN1Ym1pdCIsZnVuY3Rpb24odCl7dmFyIGU7KHQ9KHQ9dHx8SS5ldmVudCkudGFyZ2V0fHx0LnNyY0VsZW1lbnQpJiZ0LmFjdGlvbiYmKChlPXQuYWN0aW9uLm1hdGNoKHhyKSkmJklyKHIsZVsxXSkmJkxyKG8sdCkpfSkpfSxSci5wcm90b3R5cGUuJD1mdW5jdGlvbih0KXt2YXIgZSxuOyF0fHx2b2lkIDAhPT0obj0oZT10aGlzKS50YXJnZXQuZ2V0KCRuKSkmJmtyLnBhc3N0aHJvdWdoKGZ1bmN0aW9uKCl7aWYobigiYW5hbHl0aWNzX3N0b3JhZ2UiKSlyZXR1cm57fTt2YXIgdD17fTtyZXR1cm4gdC5fZ2E9ZS50YXJnZXQuZ2V0KGhuKSx0Ll91cD0iMSIsdH0sMSwhMCl9O2Z1bmN0aW9uIHFyKHQsZSxuLHIpe249bnx8e307dmFyIGE9MSxvPXtpZDplLHR5cGU6YT1Wci50ZXN0KGUpPzI6YSxCOm4uZGF0YUxheWVyfHwiZGF0YUxheWVyIixHOiExfSxpPXZvaWQgMDtyZXR1cm4gdC5nZXQoIiZndG0iKT09ZSYmKG8uRz0hMCksMT09PWE/KG8uaWE9ISF0LmdldCgiYW5vbnltaXplSXAiKSxvLnN5bmM9ciwidDAiIT0oZT1TdHJpbmcodC5nZXQoIm5hbWUiKSkpJiYoby50YXJnZXQ9ZSksVShTdHJpbmcodC5nZXQoInRyYWNraW5nSWQiKSkpfHwoby5jbGllbnRJZD1TdHJpbmcodC5nZXQoaG4pKSxvLmthPU51bWJlcih0LmdldChmbikpLG49bi5wYWxpbmRyb21lP1hyOkZyLG49KG49UC5jb29raWUucmVwbGFjZSgvXnwoOyArKS9nLCI7IikubWF0Y2gobikpP24uc29ydCgpLmpvaW4oIiIpLnN1YnN0cmluZygxKTp2b2lkIDAsby5sYT1uLG8ucWE9UihQdCh0LGVlKSwiZ2NsaWQiKSkpOjI9PT1hJiYoby5jb250ZXh0PSJjIixpPXthbGxvd19nb29nbGVfc2lnbmFsczp0LmdldChRbiksYWxsb3dfYWRfcGVyc29uYWxpemF0aW9uX3NpZ25hbHM6dC5nZXQodHIpfSksS3IobyxpKSx6cihvKX1mdW5jdGlvbiBVcih0LGUpe3ZhciBuLHI7KHQ9dC5tb2RlbCkuZ2V0KCJkY0xvYWRlZCIpfHwoKG49bmV3IGkoaCh0KSkpLnNldCgyOSksdC5zZXQoRmUsbi5DKSwoZT1lfHx7fSlbbW5dJiYocj1HKGVbbW5dKSksZnVuY3Rpb24obix0KXt2YXIgcj10LmdldChlbik7dC5zZXQoZW4sZnVuY3Rpb24odCl7WXIobix0LFhlKSxZcihuLHQsQmUpO3ZhciBlPXIodCk7cmV0dXJuIEpyKG4sdCksZX0pO3ZhciBhPXQuZ2V0KG5uKTt0LnNldChubixmdW5jdGlvbih0KXt2YXIgZSxuPWEodCk7cmV0dXJuIFFyKHQpJiYoZyg4MCksZT17VTplYSh0LDEpLGdvb2dsZTplYSh0LDIpLGNvdW50OjB9LGZ0KCJodHRwczovL3N0YXRzLmcuZG91YmxlY2xpY2submV0L2ovY29sbGVjdCIsZS5VLGUpLHQuc2V0KFhlLCIiLCEwKSksbn0pfShlPW5ldyBacih0LHIpLHQpLHQuc2V0KCJkY0xvYWRlZCIsITApKX1mdW5jdGlvbiBIcih0KXt2YXIgZSxuO3QuZ2V0KCJkY0xvYWRlZCIpfHwiY29va2llIiE9dC5nZXQoeG4pfHwoZT1uZXcgWnIodCksWXIoZSx0LFhlKSxZcihlLHQsQmUpLEpyKGUsdCksZT1Rcih0KSxuPXRhKHQpLGUmJnQuc2V0KFduLDEsITApLG4mJnQuc2V0KFpuLDEsITApLChlfHxuKSYmKHQuc2V0KEpuLCJkIiwhMCksZyg3OSksdC5zZXQoWW4se1U6ZWEodCwxKSxnb29nbGU6ZWEodCwyKSxWOm5hKHQpLGNvdW50OjB9LCEwKSkpfWZ1bmN0aW9uICRyKHQpe2Z1bmN0aW9uIG4odCxlKXtvLm1vZGVsLmRhdGEuc2V0KHQsZSl9ZnVuY3Rpb24gZSh0LGUpe24odCxlKSxvLmZpbHRlcnMuYWRkKHQpfXZhciByLGEsbz10aGlzO3RoaXMubW9kZWw9bmV3IEl0LHRoaXMuZmlsdGVycz1uZXcgUSxuKGduLHRbZ25dKSxuKHZuLChyPXRbdm5dKT9yLnJlcGxhY2UoL15bXHNceGEwXSt8W1xzXHhhMF0rJC9nLCIiKToiIiksbihtbix0W21uXSksbihibix0W2JuXXx8QSgpKSxuKHduLHRbd25dKSxuKHluLHRbeW5dKSxuKF9uLHRbX25dKSxuKE9uLHRbT25dKSxuKEVuLHRbRW5dKSxuKFRuLHRbVG5dKSxuKGtuLHRba25dKSxuKFNuLHRbU25dKSxuKENuLHRbQ25dKSxuKGpuLHRbam5dKSxuKE5uLHRbTm5dKSxuKHhuLHRbeG5dKSxuKHBuLHRbcG5dKSxuKGZuLHRbZm5dKSxuKExuLHRbTG5dKSxuKHFuLHRbcW5dKSxuKEdlLHRbR2VdKSxuKFVuLHRbVW5dKSxuKEduLHRbR25dKSxuKCRuLHRbJG5dKSxuKEJ0LDEpLG4oenQsImo5NiIpLGUobG4sTnQpLGUoemUsT3QpLGUoY24sVCksZShLZSxTdCksZShXZSxFdCksZShaZSxqdCksZShZZSxhciksZShKZSxvciksZShRZSxfdCksZSh0bixMdCksZShybixrdCksZShhbixDdCksZShzbixIciksZSh1bixuciksZShlbixUdCksZShubix4dCksZShvbiwoYT10aGlzLGZ1bmN0aW9uKHQpe3ZhciBlLG4scjsicGFnZXZpZXciIT10LmdldChXdCl8fGEuSXx8KGEuST0hMCxlPXVyKHQpLG49MDxSKFB0KHQsZWUpLCJnY2xpZCIpLmxlbmd0aCxyPTA8UihQdCh0LGVlKSwid2JyYWlkIikubGVuZ3RoLChlfHxufHxyKSYmbHIoZnVuY3Rpb24odCl7ZSYmYS5zZW5kKCJ0aW1pbmciLHQpLChufHxyKSYmYS5zZW5kKCJhZHRpbWluZyIsdCl9KSl9KSksY2EodGhpcy5tb2RlbCksc2EodGhpcy5tb2RlbCx0W2huXSksdGhpcy5tb2RlbC5zZXQoS3QsKHQ9SS5nYUdsb2JhbD1JLmdhR2xvYmFsfHx7fSkuaGlkPXQuaGlkfHxBdCgpKX12YXIgR3I9L14oR1RNfE9QVCktW0EtWjAtOV0rJC8sVnI9L15HLVtBLVowLTldKyQvLEZyPS87X2dhZXhwPVteO10qL2csWHI9LzsoKF9fdXRtYT0pfChbXjs9XSs9R0FYP1xkK1wuKSlbXjtdKi9nLEJyPS9eaHR0cHM/OlwvXC9bXHdcLS5dK1wuZ29vZ2xlLmNvbSg6XGQrKT9cL29wdGltaXplXC9vcHQtbGF1bmNoXC5odG1sXD8uKiQvLHpyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtlJiYobis9IiYiK3QrIj0iK3goZSkpfXZhciBuPVoodC50eXBlKSt4KHQuaWQpO3JldHVybiJkYXRhTGF5ZXIiIT10LkImJmUoImwiLHQuQiksZSgiY3giLHQuY29udGV4dCksZSgidCIsdC50YXJnZXQpLGUoImNpZCIsdC5jbGllbnRJZCksZSgiY2lkdCIsdC5rYSksZSgiZ2FjIix0LmxhKSxlKCJhaXAiLHQuaWEpLHQuc3luYyYmZSgibSIsInN5bmMiKSxlKCJjeWNsZSIsdC5HKSx0LnFhJiZlKCJnY2xpZCIsdC5xYSksQnIudGVzdChQLnJlZmVycmVyKSYmZSgiY2IiLFN0cmluZyhBdCgpKSksbn0sS3I9ZnVuY3Rpb24ocix0KXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKTtJW3IuQl09SVtyLkJdfHxbXSxlPXsiZ3RtLnN0YXJ0IjplfSxyLnN5bmN8fChlLmV2ZW50PSJndG0uanMiKSxJW3IuQl0ucHVzaChlKSwyPT09ci50eXBlJiZmdW5jdGlvbih0LGUsbil7SVtyLkJdLnB1c2goYXJndW1lbnRzKX0oImNvbmZpZyIsci5pZCx0KX0sV3I9e30sWnI9ZnVuY3Rpb24odCxlKXtlPWV8fCgoZT1QdCh0LGduKSkmJiJ0MCIhPWU/cmEudGVzdChlKT8iX2dhdF8iK0coUHQodCx2bikpOiJfZ2F0XyIrRyhlKToiX2dhdCIpLHRoaXMuWT1lfSxZcj1mdW5jdGlvbih0LGUsbil7ITE9PT1lLmdldChRbil8fGUuZ2V0KG4pfHwoIjEiPT1IKHQuWSlbMF0/ZS5zZXQobiwiIiwhMCk6ZS5zZXQobiwiIitBdCgpLCEwKSl9LEpyPWZ1bmN0aW9uKHQsZSl7UXIoZSkmJiQodC5ZLCIxIixQdChlLHduKSxQdChlLGJuKSxQdChlLHZuKSw2ZTQsUHQoZSxPbikpfSxRcj1mdW5jdGlvbih0KXtyZXR1cm4hIXQuZ2V0KFhlKSYmITEhPT10LmdldChRbil9LHRhPWZ1bmN0aW9uKHQpe3JldHVybiFXcltQdCh0LHZuKV0mJnZvaWQgMD09PXQuZ2V0KCImZ3RtIikmJnZvaWQgMD09PXQuZ2V0KFF0KSYmdm9pZCAwPT09dC5nZXQoS24pJiZ2b2lkIDA9PT10LmdldChVbil9LGVhPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0KXtYdCh0KS5GJiZyLnNldChYdCh0KS5GLGUuZ2V0KHQpKX12YXIgcj1uZXcgYjtuKEJ0KSxuKHp0KSxuKHZuKSxuKGhuKSxuKFhlKSwxPT10JiYobihwbiksbihCZSksbihSbikpLCExPT09ZS5nZXQodHIpJiZyLnNldCgibnBhIiwiMSIpLHIuc2V0KFh0KFZlKS5GLHcoZSkpO3ZhciBhPSIiO3JldHVybiByLm1hcChmdW5jdGlvbih0LGUpe2ErPXgodCkrIj0iLGErPXgoIiIrZSkrIiYifSksYSs9Ino9IitBdCgpLDE9PXQ/YT0idD1kYyZhaXA9MSZfcj0zJiIrYToyPT10JiYoYT0idD1zciZhaXA9MSZfcj00JnNsZl9yZD0xJiIrYSksYX0sbmE9ZnVuY3Rpb24obil7aWYodGEobikpcmV0dXJuIFdyW1B0KG4sdm4pXT0hMCxmdW5jdGlvbih0KXt2YXIgZTt0JiYhV3JbdF0mJihlPXFyKG4sdCksaihlKSxXclt0XT0hMCl9fSxyYT0vXmd0bVxkKyQvLGFhPS9eKFVBfFlUfE1PfEdQKS0oXGQrKS0oXGQrKSQvOyRyLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0KHQpfSwkci5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5tb2RlbC5zZXQodCxlKX0sJHIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbjthcmd1bWVudHMubGVuZ3RoPDF8fChuPSJzdHJpbmciPT10eXBlb2YgdD8oZT10LFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTooZT10JiZ0W1d0XSxhcmd1bWVudHMpLGUmJigobj1tKHVhW2VdfHxbXSxuKSlbV3RdPWUsdGhpcy5tb2RlbC5zZXQobix2b2lkIDAsITApLHRoaXMuZmlsdGVycy5EKHRoaXMubW9kZWwpLHRoaXMubW9kZWwuZGF0YS5tPXt9KSl9LCRyLnByb3RvdHlwZS5tYT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7bWEodCxuLGUpfHwod2EodCxmdW5jdGlvbigpe21hKHQsbixlKX0pLGJhKFN0cmluZyhuLmdldChnbikpLHQsdm9pZCAwLGUsITApKX07ZnVuY3Rpb24gb2EodCl7cmV0dXJuInByZXJlbmRlciIhPVAudmlzaWJpbGl0eVN0YXRlJiYodCgpLCEwKX1mdW5jdGlvbiBpYSh0KXtpZihmKHRbMF0pKXRoaXMudT10WzBdO2Vsc2V7dmFyIGU9bGEuZXhlYyh0WzBdKTtpZihudWxsIT1lJiY0PT1lLmxlbmd0aCYmKHRoaXMuZGE9ZVsxXXx8InQwIix0aGlzLks9ZVsyXXx8IiIsdGhpcy5tZXRob2ROYW1lPWVbM10sdGhpcy5hYT1bXS5zbGljZS5jYWxsKHQsMSksdGhpcy5LfHwodGhpcy5BPSJjcmVhdGUiPT10aGlzLm1ldGhvZE5hbWUsdGhpcy5pPSJyZXF1aXJlIj09dGhpcy5tZXRob2ROYW1lLHRoaXMuZz0icHJvdmlkZSI9PXRoaXMubWV0aG9kTmFtZSx0aGlzLmJhPSJyZW1vdmUiPT10aGlzLm1ldGhvZE5hbWUpLHRoaXMuaSYmKDM8PXRoaXMuYWEubGVuZ3RoPyh0aGlzLlg9dGhpcy5hYVsxXSx0aGlzLlc9dGhpcy5hYVsyXSk6dGhpcy5hYVsxXSYmKF8odGhpcy5hYVsxXSk/dGhpcy5YPXRoaXMuYWFbMV06dGhpcy5XPXRoaXMuYWFbMV0pKSksZT10WzFdLHQ9dFsyXSwhdGhpcy5tZXRob2ROYW1lKXRocm93ImFib3J0IjtpZih0aGlzLmkmJighXyhlKXx8IiI9PWUpKXRocm93ImFib3J0IjtpZih0aGlzLmcmJighXyhlKXx8IiI9PWV8fCFmKHQpKSl0aHJvdyJhYm9ydCI7aWYoZ2EodGhpcy5kYSl8fGdhKHRoaXMuSykpdGhyb3ciYWJvcnQiO2lmKHRoaXMuZyYmInQwIiE9dGhpcy5kYSl0aHJvdyJhYm9ydCJ9fXZhciBzYT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9UHQodCxtbik7aWYodC5kYXRhLnNldChBbiwiX2dhIj09cj8iX2dpZCI6cisiX2dpZCIpLCJjb29raWUiPT1QdCh0LHhuKSYmKGdyPSExLHI9SChQdCh0LG1uKSksKHI9cHIodCxyKSl8fChyPVB0KHQsYm4pLHI9bnVsbCE9KHI9RXIoIl9fdXRtYSIsbj1QdCh0LEVuKXx8QSgpLHIpKT8oZygxMCksci5PWzFdKyIuIityLk9bMl0pOnZvaWQgMCksciYmKGdyPSEwKSwocj0obj0obj1yJiYhdC5nZXQoX24pKT8yPT0obj1yLnNwbGl0KCIuIikpLmxlbmd0aCYmKCEhKG49TnVtYmVyKG5bMV0pKSYmbisobz1NdCh0LHluKSk8KG5ldyBEYXRlKS5nZXRUaW1lKCkvMWUzKTpuKT92b2lkIDA6cikmJih0LmRhdGEuc2V0KGRuLHIpLHQuZGF0YS5zZXQoaG4sciksKHI9ZHIodCkpJiZ0LmRhdGEuc2V0KFJuLHIpKSx0LmdldChxbikmJihyPXQuZ2V0KEluKSxuPXQuZ2V0KERuKSwhcnx8biYmImF3LmRzIiE9bikmJihyPXt9LG49KFA/QihyKTp7fSlbUHQodCx2bildLF9yKHIpLG4mJjAhPW4ubGVuZ3RoJiYocj1uWzBdLHQuZGF0YS5zZXQoUG4sci50aW1lc3RhbXAvMWUzKSx0LmRhdGEuc2V0KEluLHIucWEpKSksdC5nZXQocW4pJiYocj10LmdldChYbiksbj17fSxvPShQP0IobiwiX2dhY19nYiIsITApOnt9KVtQdCh0LHZuKV0sT3IobiksbyYmMCE9by5sZW5ndGgmJihvPShuPW9bMF0pLnFhLHImJnIhPT1vfHwobi5sYWJlbHMmJm4ubGFiZWxzLmxlbmd0aCYmKG8rPSIuIituLmxhYmVscy5qb2luKCIuIikpLHQuZGF0YS5zZXQoQm4sbi50aW1lc3RhbXAvMWUzKSx0LmRhdGEuc2V0KFhuLG8pKSkpKSx0LmdldChfbikpe3I9TigiX2dhIiwhIXQuZ2V0KFNuKSk7dmFyIGE9TigiX2dsIiwhIXQuZ2V0KFNuKSksbz0obj1rci5nZXQodC5nZXQoU24pKSkuX2dhO2EmJjA8YS5pbmRleE9mKCJfZ2EqIikmJiFvJiZnKDMwKSxhPSEoZXx8IXQuZ2V0KEduKSkmJih2b2lkIDAhPT0oYT10LmdldCgkbikpJiYhYSgiYW5hbHl0aWNzX3N0b3JhZ2UiKSYmKGcoODQpLHQuZGF0YS5zZXQoVm4sMSksISEoYT0oYT1uLl91cCk/ISEoYT14ci5leGVjKFAucmVmZXJyZXIpKSYmKGE9YVsxXSwoaT1QLmxvY2F0aW9uLmhvc3RuYW1lKT09PWF8fDA8PWkuaW5kZXhPZigiLiIrYSl8fDA8PWEuaW5kZXhPZigiLiIraSkpOmEpKSk7dmFyIGk9bi5nY2xpZCxzPW4uX2dhYztpZihyfHxvfHxpfHxzKWlmKHImJm8mJmcoMzYpLHQuZ2V0KGtuKXx8Vyh0LmdldChMbikpfHxhKXtpZihvJiYoZygzOCksdC5kYXRhLnNldChobixvKSxuLl9naWQmJihnKDUxKSx0LmRhdGEuc2V0KFJuLG4uX2dpZCkpKSxpPyhnKDgyKSx0LmRhdGEuc2V0KEluLGkpLG4uZ2Nsc3JjJiZ0LmRhdGEuc2V0KERuLG4uZ2Nsc3JjKSk6cyYmKG89cy5zcGxpdCgiLiIpKSYmMj09PW8ubGVuZ3RoJiYoZygzNyksdC5kYXRhLnNldChJbixvWzBdKSx0LmRhdGEuc2V0KFBuLG9bMV0pKSwobj1uLl9mcGxjKSYmUHQodCxVbikmJihnKDgzKSx0LmRhdGEuc2V0KEhuLG4pKSxyKXQ6aWYobj1yLmluZGV4T2YoIi4iKSwtMT09bilnKDIyKTtlbHNle2lmKG89ci5zdWJzdHJpbmcoMCxuKSxuPShhPXIuc3Vic3RyaW5nKG4rMSkpLmluZGV4T2YoIi4iKSxyPWEuc3Vic3RyaW5nKDAsbiksYT1hLnN1YnN0cmluZyhuKzEpLCIxIj09byl7aWYoUHIobj1hLHIpKXtnKDIzKTticmVhayB0fX1lbHNle2lmKCIyIiE9byl7ZygyMik7YnJlYWsgdH1pZihvPSIiLG49MDwobj1hLmluZGV4T2YoIi0iKSk/KG89YS5zdWJzdHJpbmcoMCxuKSxhLnN1YnN0cmluZyhuKzEpKTphLnN1YnN0cmluZygxKSxQcihvK24scikpe2coNTMpO2JyZWFrIHR9byYmKGcoMiksdC5kYXRhLnNldChSbixvKSl9ZygxMSksdC5kYXRhLnNldChobixuKSwocj1OKCJfZ2FjIiwhIXQuZ2V0KFNuKSkpJiYoIjEiIT0ocj1yLnNwbGl0KCIuIikpWzBdfHw0IT1yLmxlbmd0aD9nKDcyKTpQcihyWzNdLHJbMV0pP2coNzEpOih0LmRhdGEuc2V0KEluLHJbM10pLHQuZGF0YS5zZXQoUG4sclsyXSksZyg3MCkpKX19ZWxzZSBnKDIxKX1lJiYoZyg5KSx0LmRhdGEuc2V0KGhuLHgoZSkpKSx0LmdldChobil8fCgoZT0oIShlPUkuZ2FHbG9iYWwpfHwhZS5mcm9tX2Nvb2tpZXx8ImNvb2tpZSI9PT1QdCh0LHhuKSkmJihlPWUmJmUudmlkKSYmLTEhPT1lLnNlYXJjaChjKT9lOnZvaWQgMCk/KGcoMTcpLHQuZGF0YS5zZXQoaG4sZSkpOihnKDgpLHQuZGF0YS5zZXQoaG4sZCgpKSkpLHQuZ2V0KFJuKXx8KGcoMyksdC5kYXRhLnNldChSbixkKCkpKSxocih0KSxlPUkuZ2FHbG9iYWw9SS5nYUdsb2JhbHx8e30sdD0ocj1QdCh0LGhuKSk9PT1QdCh0LGRuKSwobnVsbD09ZS52aWR8fHQmJiFlLmZyb21fY29va2llKSYmKGUudmlkPXIsZS5mcm9tX2Nvb2tpZT10KX0sY2E9ZnVuY3Rpb24odCl7dmFyIGU9SS5uYXZpZ2F0b3Isbj1JLnNjcmVlbixyPVAubG9jYXRpb24sYT10LnNldDt0Ont2YXIgbz0hIXQuZ2V0KE5uKSxpPSEhdC5nZXQoTG4pLHM9UC5yZWZlcnJlcjtpZigvXihodHRwcz98YW5kcm9pZC1hcHApOlwvXC8vaS50ZXN0KHMpKXtpZihvKWJyZWFrIHQ7aWYobz0iLy8iK1AubG9jYXRpb24uaG9zdG5hbWUsIXYocyxvKSl7aWYoaSYmKGk9by5yZXBsYWNlKC9cLi9nLCItIikrIi5jZG4uYW1wcHJvamVjdC5vcmciLHYocyxpKSkpe3M9dm9pZCAwO2JyZWFrIHR9YnJlYWsgdH19cz12b2lkIDB9aWYoYS5jYWxsKHQsbmUscyksciYmKCIvIiE9KGE9ci5wYXRobmFtZXx8IiIpLmNoYXJBdCgwKSYmKGcoMzEpLGE9Ii8iK2EpLHQuc2V0KGVlLHIucHJvdG9jb2wrIi8vIityLmhvc3RuYW1lK2Erci5zZWFyY2gpKSxuJiZ0LnNldChzZSxuLndpZHRoKyJ4IituLmhlaWdodCksbiYmdC5zZXQoaWUsbi5jb2xvckRlcHRoKyItYml0Iiksbj1QLmRvY3VtZW50RWxlbWVudCxzPShhPVAuYm9keSkmJmEuY2xpZW50V2lkdGgmJmEuY2xpZW50SGVpZ2h0LGk9W10sbiYmbi5jbGllbnRXaWR0aCYmbi5jbGllbnRIZWlnaHQmJigiQ1NTMUNvbXBhdCI9PT1QLmNvbXBhdE1vZGV8fCFzKT9pPVtuLmNsaWVudFdpZHRoLG4uY2xpZW50SGVpZ2h0XTpzJiYoaT1bYS5jbGllbnRXaWR0aCxhLmNsaWVudEhlaWdodF0pLG49aVswXTw9MHx8aVsxXTw9MD8iIjppLmpvaW4oIngiKSx0LnNldChjZSxuKSxuPXQuc2V0LChhPShhPUkubmF2aWdhdG9yKT9hLnBsdWdpbnM6bnVsbCkmJmEubGVuZ3RoKWZvcihzPTA7czxhLmxlbmd0aCYmIXU7cysrKS0xPChpPWFbc10pLm5hbWUuaW5kZXhPZigiU2hvY2t3YXZlIEZsYXNoIikmJih1PWkuZGVzY3JpcHRpb24pO2lmKCF1KXRyeXt2YXIgYz1uZXcgQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2guNyIpLHU9Yy5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKX1jYXRjaCh0KXt9aWYoIXUpdHJ5e2M9bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjYiKSx1PSJXSU4gNiwwLDIxLDAiLGMuQWxsb3dTY3JpcHRBY2Nlc3M9ImFsd2F5cyIsdT1jLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpfWNhdGNoKHQpe31pZighdSl0cnl7dT0oYz1uZXcgQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKSkuR2V0VmFyaWFibGUoIiR2ZXJzaW9uIil9Y2F0Y2godCl7fWlmKHUmJihjPXUubWF0Y2goL1tcZF0rL2cpKSYmMzw9Yy5sZW5ndGgmJih1PWNbMF0rIi4iK2NbMV0rIiByIitjWzJdKSxuLmNhbGwodCxsZSx1fHx2b2lkIDApLHQuc2V0KG9lLFAuY2hhcmFjdGVyU2V0fHxQLmNoYXJzZXQpLHQuc2V0KHVlLGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmphdmFFbmFibGVkJiZlLmphdmFFbmFibGVkKCl8fCExKSx0LnNldChhZSwoZSYmKGUubGFuZ3VhZ2V8fGUuYnJvd3Nlckxhbmd1YWdlKXx8IiIpLnRvTG93ZXJDYXNlKCkpLHQuZGF0YS5zZXQoSW4sTigiZ2NsaWQiLCEwKSksdC5kYXRhLnNldChEbixOKCJnY2xzcmMiLCEwKSksdC5kYXRhLnNldChQbixNYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMykpLHQuZ2V0KEluKXx8KHQuZGF0YS5zZXQoWG4sTigid2JyYWlkIiwhMCkpLHQuZGF0YS5zZXQoQm4sTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpKSksciYmdC5nZXQoU24pJiYoZT1QLmxvY2F0aW9uLmhhc2gpKXtmb3IoZT1lLnNwbGl0KC9bPyYjXSsvKSxyPVtdLHU9MDt1PGUubGVuZ3RoOysrdSkoTyhlW3VdLCJ1dG1faWQiKXx8TyhlW3VdLCJ1dG1fY2FtcGFpZ24iKXx8TyhlW3VdLCJ1dG1fc291cmNlIil8fE8oZVt1XSwidXRtX21lZGl1bSIpfHxPKGVbdV0sInV0bV90ZXJtIil8fE8oZVt1XSwidXRtX2NvbnRlbnQiKXx8TyhlW3VdLCJnY2xpZCIpfHxPKGVbdV0sImRjbGlkIil8fE8oZVt1XSwiZ2Nsc3JjIil8fE8oZVt1XSwid2JyYWlkIikpJiZyLnB1c2goZVt1XSk7MDxyLmxlbmd0aCYmKGU9IiMiK3Iuam9pbigiJiIpLHQuc2V0KGVlLHQuZ2V0KGVlKStlKSl9fSx1YT17cGFnZXZpZXc6W3JlXSxldmVudDpbZ2UsaGUsZmUsZGVdLHNvY2lhbDpbcGUsdmUsbWVdLHRpbWluZzpbdCxOZSxBZSxSZV19LE5lPWZ1bmN0aW9uKG4pe3ZhciByLGE7b2Eobil8fChnKDE2KSxyPSExLHAoUCwidmlzaWJpbGl0eWNoYW5nZSIsYT1mdW5jdGlvbigpe3ZhciB0LGU7IXImJm9hKG4pJiYocj0hMCx0PWEsKGU9UCkucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLHQsITEpOmUuZGV0YWNoRXZlbnQmJmUuZGV0YWNoRXZlbnQoIm9udmlzaWJpbGl0eWNoYW5nZSIsdCkpfSkpfSxsYT0vXig/OihcdyspXC4pPyg/OihcdyspOik/KFx3KykkLztmdW5jdGlvbiBnYSh0KXtyZXR1cm4gMDw9dC5pbmRleE9mKCIuIil8fDA8PXQuaW5kZXhPZigiOiIpfWZ1bmN0aW9uIGhhKHQsZSl7ZmEuc2V0KHQsZSksZT1wYS5nZXQodCl8fFtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWVbbl0oKTtwYS5zZXQodCxbXSl9dmFyIGZhPW5ldyBiLGRhPW5ldyBiLHBhPW5ldyBiLHZhPXtlYzo0NSxlY29tbWVyY2U6NDYsbGlua2lkOjQ3fSxtYT1mdW5jdGlvbih0LGUsbil7ZT09a2F8fGUuZ2V0KGduKTt2YXIgcj1mYS5nZXQodCk7cmV0dXJuISFmKHIpJiYoZS5wbHVnaW5zXz1lLnBsdWdpbnNffHxuZXcgYixlLnBsdWdpbnNfLmdldCh0KXx8ZS5wbHVnaW5zXy5zZXQodCxuZXcgcihlLG58fHt9KSksITApfSxiYT1mdW5jdGlvbih0LGUsbixyLGEpe2lmKCFmKGZhLmdldChlKSkmJiFkYS5nZXQoZSkpe3ZhLmhhc093blByb3BlcnR5KGUpJiZnKHZhW2VdKTt2YXIgbyxpPXZvaWQgMDtpZihHci50ZXN0KGUpKXtpZihnKDUyKSwhKHQ9a2Euaih0KSkpcmV0dXJuITA7bj1xcih0Lm1vZGVsLGUscixhKSxpPWZ1bmN0aW9uKCl7eGEuRChbInByb3ZpZGUiLGUsZnVuY3Rpb24oKXt9XSk7dmFyIHQ9SVtyJiZyLmRhdGFMYXllcnx8ImRhdGFMYXllciJdO3QmJnQuaGlkZSYmZih0LmhpZGUuZW5kKSYmdC5oaWRlW2VdJiYodC5oaWRlLmVuZCgpLHQuaGlkZS5lbmQ9dm9pZCAwKX19IW4mJnZhLmhhc093blByb3BlcnR5KGUpPyhnKDM5KSxuPWUrIi5qcyIpOmcoNDMpLG4mJihyJiYobz1yW1VuXSksXyhvKXx8KG89dm9pZCAwKSx0PUVhKFRhKG4sbykpLCFvfHxfYSh0LnByb3RvY29sKSYmeWEodCl8fCh0PUVhKFRhKG4pKSksX2EodC5wcm90b2NvbCkmJnlhKHQpJiYoaih0LnVybCx2b2lkIDAsYSx2b2lkIDAsaSksZGEuc2V0KGUsITApKSl9fSx3YT1mdW5jdGlvbih0LGUpe3ZhciBuPXBhLmdldCh0KXx8W107bi5wdXNoKGUpLHBhLnNldCh0LG4pfSx5YT1mdW5jdGlvbih0KXt2YXIgZT1FYShQLmxvY2F0aW9uLmhyZWYpO3JldHVybiEoIU8odC51cmwsWigxKSkmJiFPKHQudXJsLFooMikpKXx8ISh0LnF1ZXJ5fHwwPD10LnVybC5pbmRleE9mKCI/Iil8fDA8PXQucGF0aC5pbmRleE9mKCI6Ly8iKSkmJighISh0Lmhvc3Q9PWUuaG9zdCYmdC5wb3J0PT1lLnBvcnR8fG4mJigoZT1QLmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1uLGU9T2EoZSksdC5ob3N0PT09ZVswXSYmdC5wb3J0PT09ZVsxXSkpfHwoZT0iaHR0cDoiPT10LnByb3RvY29sPzgwOjQ0MywhKCJ3d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20iIT10Lmhvc3R8fCh0LnBvcnR8fGUpIT1lfHwhTyh0LnBhdGgsIi9wbHVnaW5zLyIpKSkpfSxfYT1mdW5jdGlvbih0KXt2YXIgZT1QLmxvY2F0aW9uLnByb3RvY29sO3JldHVybiJodHRwczoiPT10fHx0PT1lfHwiaHR0cDoiPT10JiYiaHR0cDoiPT1lfSxPYT1mdW5jdGlvbih0KXt2YXIgZT0wPD0obj10Lmhvc3RuYW1lfHwiIikuaW5kZXhPZigiXSIpLG49bi5zcGxpdChlPyJdIjoiOiIpWzBdLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGUmJihuKz0iXSIpLGU9KHQucHJvdG9jb2x8fCIiKS50b0xvd2VyQ2FzZSgpLGU9K3QucG9ydHx8KCJodHRwOiI9PWU/ODA6Imh0dHBzOiI9PWU/NDQzOiIiKSx0PXQucGF0aG5hbWV8fCIiLFtuLCIiK2UsdD0hTyh0LCIvIik/Ii8iK3Q6dF19LEVhPWZ1bmN0aW9uKHQpe3ZhciBlPVAuY3JlYXRlRWxlbWVudCgiYSIpO2UuaHJlZj1QLmxvY2F0aW9uLmhyZWY7dmFyIG49KGUucHJvdG9jb2x8fCIiKS50b0xvd2VyQ2FzZSgpLHI9T2EoZSksYT1lLnNlYXJjaHx8IiIsbz1uKyIvLyIrclswXSsoclsxXT8iOiIrclsxXToiIik7cmV0dXJuIE8odCwiLy8iKT90PW4rdDpPKHQsIi8iKT90PW8rdDohdHx8Tyh0LCI/Iik/dD1vK3JbMl0rKHR8fGEpOnQuc3BsaXQoIi8iKVswXS5pbmRleE9mKCI6Iik8MCYmKHQ9bytyWzJdLnN1YnN0cmluZygwLHJbMl0ubGFzdEluZGV4T2YoIi8iKSkrIi8iK3QpLGUuaHJlZj10LG49T2EoZSkse3Byb3RvY29sOihlLnByb3RvY29sfHwiIikudG9Mb3dlckNhc2UoKSxob3N0Om5bMF0scG9ydDpuWzFdLHBhdGg6blsyXSxxdWVyeTplLnNlYXJjaHx8IiIsdXJsOnR8fCIifX0sVGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmMDw9dC5pbmRleE9mKCIvIik/dDooZXx8Z3QoITEpKSsiL3BsdWdpbnMvdWEvIit0fSx4YT17Z2E6ZnVuY3Rpb24oKXt4YS5mYT1bXX19O3hhLmdhKCkseGEuRD1mdW5jdGlvbih0KXt2YXIgZT14YS5KLmFwcGx5KHhhLGFyZ3VtZW50cyksZT14YS5mYS5jb25jYXQoZSk7Zm9yKHhhLmZhPVtdOzA8ZS5sZW5ndGgmJiF4YS52KGVbMF0pJiYoZS5zaGlmdCgpLCEoMDx4YS5mYS5sZW5ndGgpKTspO3hhLmZhPXhhLmZhLmNvbmNhdChlKX0seGEucmE9ZnVuY3Rpb24odCl7a2EucSYmKDMwMD09PWthLnEubGVuZ3RoJiYoa2EucS5zaGlmdCgpLGthLnFkKyspLGthLnEucHVzaCh0KSl9LHhhLko9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRyeXt2YXIgcj1uZXcgaWEoYXJndW1lbnRzW25dKTtyLmc/aGEoci5hYVswXSxyLmFhWzFdKTooci5pJiYoci5oYT1iYShyLmRhLHIuYWFbMF0sci5YLHIuVykpLGUucHVzaChyKSkseGEucmEoYXJndW1lbnRzW25dKX1jYXRjaCh0KXt9cmV0dXJuIGV9LHhhLnY9ZnVuY3Rpb24odCl7dHJ5e2lmKHQudSl0LnUuY2FsbChJLGthLmooInQwIikpO2Vsc2V7dmFyIGUsbixyLGE9dC5kYT09cz9rYTprYS5qKHQuZGEpO2lmKHQuQSl7aWYoInQwIj09dC5kYSYmbnVsbD09PShhPWthLmNyZWF0ZS5hcHBseShrYSx0LmFhKSkpcmV0dXJuITB9ZWxzZSBpZih0LmJhKWthLnJlbW92ZSh0LmRhKTtlbHNlIGlmKGEpaWYodC5pKXtpZih0LmhhJiYodC5oYT1iYSh0LmRhLHQuYWFbMF0sdC5YLHQuVykpLCFtYSh0LmFhWzBdLGEsdC5XKSlyZXR1cm4hMH1lbHNlIHQuSz8oZT10Lm1ldGhvZE5hbWUsbj10LmFhLChyPWEucGx1Z2luc18uZ2V0KHQuSykpW2VdLmFwcGx5KHIsbikpOmFbdC5tZXRob2ROYW1lXS5hcHBseShhLHQuYWEpfX1jYXRjaCh0KXt9fTt2YXIga2E9ZnVuY3Rpb24odCl7ZygxKSx4YS5ELmFwcGx5KHhhLFthcmd1bWVudHNdKX07a2EuaD17fSxrYS5QPVtdLGthLkw9MCxrYS55YT0wLGthLmFuc3dlcj00Mjt2YXIgU2E9W3ZuLGJuLGduXTtrYS5jcmVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9bShTYSxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO2VbZ25dfHwoZVtnbl09InQwIik7dmFyIG49IiIrZVtnbl07aWYoa2EuaFtuXSlyZXR1cm4ga2EuaFtuXTtpZihmdW5jdGlvbih0KXtpZihXKHRbTG5dKSYmKHZvaWQgMD09PXJ0JiYoZT0oZT1rci5nZXQoKSkmJmUuX2dhfHx2b2lkIDApJiYocnQ9ZSxnKDgxKSksdm9pZCAwIT09cnQpKXJldHVybiB0W2huXXx8KHRbaG5dPXJ0KSwhMTtpZih0W0xuXSl7aWYoZyg2NyksdFt4bl0mJiJjb29raWUiIT10W3huXSlyZXR1cm4hMTtpZih2b2lkIDAhPT1ydCl0W2huXXx8KHRbaG5dPXJ0KTtlbHNle3ZhciBlPVN0cmluZyh0W2JuXXx8QSgpKSxuPVN0cmluZyh0W3duXXx8Ii8iKSxyPUgoU3RyaW5nKHRbbW5dfHwiX2dhIikpO2lmKChlPSEoKGU9dnIocixlLG4pKSYmIWMudGVzdChlKSl8fCgwPT0oZT1IKCJBTVBfVE9LRU4iKSkubGVuZ3RofHwxPT1lLmxlbmd0aCYmKCIkUkVUUklFVklORyI9PShlPWRlY29kZVVSSUNvbXBvbmVudChlWzBdKSl8fCIkT1BUX09VVCI9PWV8fCIkRVJST1IiPT1lfHwiJE5PVF9GT1VORCI9PWUpKSkmJnN0KHosU3RyaW5nKHRbdm5dKSkpcmV0dXJuITB9fXJldHVybiExfShlKSlyZXR1cm4gbnVsbDtpZihlPW5ldyAkcihlKSxrYS5oW25dPWUsa2EuUC5wdXNoKGUpLG49d3QoKS50cmFja2VyX2NyZWF0ZWQsZihuKSl0cnl7bihlKX1jYXRjaCh0KXt9cmV0dXJuIGV9LGthLnJlbW92ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPGthLlAubGVuZ3RoO2UrKylpZihrYS5QW2VdLmdldChnbik9PXQpe2thLlAuc3BsaWNlKGUsMSksa2EuaFt0XT1udWxsO2JyZWFrfX0sa2Euaj1mdW5jdGlvbih0KXtyZXR1cm4ga2EuaFt0XX0sa2EuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuIGthLlAuc2xpY2UoMCl9LGthLk49ZnVuY3Rpb24oKXtpZigiZ2EiIT1zJiZnKDQ5KSwhKG49SVtzXSl8fDQyIT1uLmFuc3dlcil7a2EuTD1uJiZuLmwsa2EueWE9K25ldyBEYXRlLGthLmxvYWRlZD0hMDt2YXIgdD1uJiZuLnEsZT15KHQpLG49W107aWYoZT9uPXQuc2xpY2UoMCk6Zyg1MCksa2EucT1lP3Q6W10sa2EucS5zcGxpY2UoMCksa2EucWQ9MCxlcigiY3JlYXRlIix0PUlbc109a2EsdC5jcmVhdGUpLGVyKCJyZW1vdmUiLHQsdC5yZW1vdmUpLGVyKCJnZXRCeU5hbWUiLHQsdC5qLDUpLGVyKCJnZXRBbGwiLHQsdC5nZXRBbGwsNiksZXIoImdldCIsdD0kci5wcm90b3R5cGUsdC5nZXQsNyksZXIoInNldCIsdCx0LnNldCw0KSxlcigic2VuZCIsdCx0LnNlbmQpLGVyKCJyZXF1aXJlU3luYyIsdCx0Lm1hKSxlcigiZ2V0Iix0PUl0LnByb3RvdHlwZSx0LmdldCksZXIoInNldCIsdCx0LnNldCksImh0dHBzOiIhPVAubG9jYXRpb24ucHJvdG9jb2wmJiFsKXt0Ontmb3IodD1QLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxlPTA7ZTx0Lmxlbmd0aCYmZTwxMDA7ZSsrKXt2YXIgcj10W2VdLnNyYztpZihyJiYwPT1yLmluZGV4T2YoZ3QoITApKyIvYW5hbHl0aWNzIikpe3Q9ITA7YnJlYWsgdH19dD0hMX10JiYobD0hMCl9dD0oKEkuZ2FwbHVnaW5zPUkuZ2FwbHVnaW5zfHx7fSkuTGlua2VyPVJyKS5wcm90b3R5cGUsaGEoImxpbmtlciIsUnIpLGVyKCJkZWNvcmF0ZSIsdCx0LmNhLDIwKSxlcigiYXV0b0xpbmsiLHQsdC5TLDI1KSxlcigicGFzc3Rocm91Z2giLHQsdC4kLDI1KSxoYSgiZGlzcGxheWZlYXR1cmVzIixVciksaGEoImFkZmVhdHVyZXMiLFVyKSx4YS5ELmFwcGx5KGthLG4pfX07QWU9a2EuTixSZT1JW3NdO1JlJiZSZS5yP0FlKCk6TmUoQWUpLE5lKGZ1bmN0aW9uKCl7eGEuRChbInByb3ZpZGUiLCJyZW5kZXIiLFRdKX0pfSh3aW5kb3cpfQo="},{"name":"brave-disable-pageview-api.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"Ly8vIGJyYXZlLWRpc2FibGUtcGFnZXZpZXctYXBpLmpzCi8vIEJhc2VkIG9uOiBodHRwczovL2FkZG9ucy5tb3ppbGxhLm9yZy9maXJlZm94L2FkZG9uL2Rpc2FibGUtcGFnZS12aXNpYmlsaXR5LwovLyBMaWNlbnNlOiAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHAKLy8gRnJvbTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ3dhcnNlci8zYjQ3YjYxODYzYmZmY2ZlYmU0NDk4Yzc3YjIzMDFjZAooZnVuY3Rpb24oKXsKLy8gdmlzaWJpbGl0eWNoYW5nZSBldmVudHMgYXJlIGNhcHR1cmVkIGFuZCBzdG9wcGVkIApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgZnVuY3Rpb24oZSkgewogICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKfSwgdHJ1ZSk7Ci8vIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSBhbHdheXMgcmV0dXJucyBmYWxzZQpPYmplY3QuZGVmaW5lUHJvcGVydHkoRG9jdW1lbnQucHJvdG90eXBlLCAiaGlkZGVuIiwgewogICAgZ2V0OiBmdW5jdGlvbiBoaWRkZW4oKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKfSk7Ci8vIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSBhbHdheXMgcmV0dXJucyAidmlzaWJsZSIKT2JqZWN0LmRlZmluZVByb3BlcnR5KERvY3VtZW50LnByb3RvdHlwZSwgInZpc2liaWxpdHlTdGF0ZSIsIHsKICAgIGdldDogZnVuY3Rpb24gdmlzaWJpbGl0eVN0YXRlKCkgewogICAgICAgIHJldHVybiAidmlzaWJsZSI7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQp9KTsKfSkoKQo="},{"name":"brave-fix.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"Ly8vIGJyYXZlLWZpeC5qcwovLy8gYWxpYXMgYmYuanMKZGVsZXRlIE5hdmlnYXRvci5wcm90b3R5cGUuYnJhdmUKZGVsZXRlIHdpbmRvdy5uYXZpZ2F0b3IuYnJhdmUK"},{"name":"brave-video-bg-play.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"Ly8vIGJyYXZlLXZpZGVvLWJnLXBsYXkuanMKLy8gQmFzZWQgb246IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3ZpZGVvLWJnLXBsYXkKLy8gTGljZW5zZTogIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3ZpZGVvLWJnLXBsYXkvYmxvYi9tYXN0ZXIvTElDRU5TRSAoTUlUKQovLyBGcm9tOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9nd2Fyc2VyLzNiNDdiNjE4NjNiZmZjZmViZTQ0OThjNzdiMjMwMWNkCihmdW5jdGlvbigpewpjb25zdCBJU19ZT1VUVUJFID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnNlYXJjaCgvKD86XnwuK1wuKXlvdXR1YmUuY29tLykgPiAtMSB8fAogICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnNlYXJjaCgvKD86XnwuK1wuKXlvdXR1YmUtbm9jb29raWUuY29tLykgPiAtMTsKY29uc3QgSVNfTU9CSUxFX1lPVVRVQkUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT0gJ20ueW91dHViZS5jb20nOwpjb25zdCBJU19ERVNLVE9QX1lPVVRVQkUgPSBJU19ZT1VUVUJFICYmICFJU19NT0JJTEVfWU9VVFVCRTsKY29uc3QgSVNfVklNRU8gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuc2VhcmNoKC8oPzpefC4rXC4pdmltZW8uY29tLykgPiAtMTsKY29uc3QgSVNfQU5EUk9JRCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FuZHJvaWQnKSA+IC0xOwovLyBQYWdlIFZpc2liaWxpdHkgQVBJCmlmIChJU19BTkRST0lEIHx8ICFJU19ERVNLVE9QX1lPVVRVQkUpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkb2N1bWVudCwKICAgIHsgJ2hpZGRlbic6IHt2YWx1ZTogZmFsc2V9LCAndmlzaWJpbGl0eVN0YXRlJzoge3ZhbHVlOiAndmlzaWJsZSd9IH0pOwp9CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKAogICd2aXNpYmlsaXR5Y2hhbmdlJywgZXZ0ID0+IGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgdHJ1ZSk7Ci8vIEZ1bGxzY3JlZW4gQVBJCmlmIChJU19WSU1FTykgewogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKAogICAgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBldnQgPT4gZXZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCB0cnVlKTsKfQovLyBVc2VyIGFjdGl2aXR5IHRyYWNraW5nCmlmIChJU19ZT1VUVUJFKSB7CiAgY29uc3QgcmVmcmVzaEludGVydmFsID0gNSAqIDYwICogMTAwMDsgLy8gZXZlcnkgNSBtaW51dGVzCiAgd2FpdEZvcllvdXR1YmVMYWN0SW5pdCgoKSA9PiByZWZyZXNoTGFjdCgpLCByZWZyZXNoSW50ZXJ2YWwpOwp9CmZ1bmN0aW9uIHdhaXRGb3JZb3V0dWJlTGFjdEluaXQoYUNhbGxiYWNrLCBhQ2FsbGJhY2tJbnRlcnZhbCwgYURlbGF5ID0gMTAwMCkgewogIGxldCBwYWdlV2luID0gd2luZG93OwogIGlmIChwYWdlV2luLmhhc093blByb3BlcnR5KCdfbGFjdCcpKSB7CiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoYUNhbGxiYWNrLCBhQ2FsbGJhY2tJbnRlcnZhbCk7CiAgfSBlbHNlIHsKICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHdhaXRGb3JZb3V0dWJlTGFjdEluaXQoYUNhbGxiYWNrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQ2FsbGJhY2tJbnRlcnZhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYURlbGF5ICogMiksCiAgICAgICAgICAgICAgICAgICAgICBhRGVsYXkpOwogIH0KfQpmdW5jdGlvbiByZWZyZXNoTGFjdCgpIHsKICB3aW5kb3cuX2xhY3QgPSBEYXRlLm5vdygpOwp9Cn0pKCkK"},{"name":"brave-youtube-navigation-fix.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"KF8gPT4gewogIGNvbnN0IG9yaWdQZXJmTm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdzsKICBsZXQgcHJldmlvdXMgPSAwOwoKICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgewogICAgbGV0IGN1cnJlbnQgPSBvcmlnUGVyZk5vdy5hcHBseSh0aGlzKTsKICAgIGlmIChjdXJyZW50IDw9IHByZXZpb3VzKSB7CiAgICAgIGN1cnJlbnQgPSBwcmV2aW91cyArIE51bWJlci5FUFNJTE9OICogMTAwMDAwOwogICAgfQoKICAgIHJldHVybiBwcmV2aW91cyA9IGN1cnJlbnQ7CiAgfQp9KSgpOwo="},{"name":"brave-youtube-theater-fix.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"KGFzeW5jIF8gPT4gewogIGlmIChzZWxmLmNvb2tpZVN0b3JlID09PSB1bmRlZmluZWQpIHsKICAgIC8vIERvIG5vdGhpbmcgb24gaU9TLiBUaGUgcHJvYmxlbSBkb2Vzbid0IGV4aXN0IHRoZXJlLCBhbmQgdGhlCiAgICAvLyBzb2x1dGlvbiB3b3VsZG4ndCB3b3JrIGFueXdheQogICAgcmV0dXJuCiAgfQogIGNvbnN0IHN0b3JlS2V5ID0gJ2JyYXZlOjp3aWRlJwogIGNvbnN0IGNvb2tpZUtleSA9ICd3aWRlJwoKICBjb25zdCB3aWRlQ29va2llID0gYXdhaXQgY29va2llU3RvcmUuZ2V0KGNvb2tpZUtleSkKICBjb25zdCB3aWRlQ29va2llQmFja3VwID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmVLZXkpCgogIC8vIFNldCB0aGUgY29va2llIGZyb20gbG9jYWxTdG9yYWdlIGlmZjogCiAgLy8gMSkgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LgogIC8vIDIpIHdlIGhhdmUgYSBiYWNrdXAgaW4gbG9jYWxTdG9yYWdlLgogIGlmICghd2lkZUNvb2tpZSAmJiB3aWRlQ29va2llQmFja3VwKSB7CiAgICAvLyBUaGUgY29va2llIG9iamVjdCBpcyBzdG9yZWQgYXMgYSBzdHJpbmcuIFBhcnNlIGl0LgogICAgY29uc3QgY29va2llT2JqID0gSlNPTi5wYXJzZSh3aWRlQ29va2llQmFja3VwKQogICAgYXdhaXQgY29va2llU3RvcmUuc2V0KGNvb2tpZU9iaikKICAgIC8vIFJlZnJlc2ggdGhlIHBhZ2UgdG8gbWFrZSBZVCB1c2UgdGhlIG5ldyBjb29raWUuCiAgICBsb2NhdGlvbi5yZWxvYWQoKQogIH0KCiAgLy8gUGVyc2lzdCB0aGUgY29va2llIHZhbHVlIHRvIGxvY2FsU3RvcmFnZSBldmVyeSBzZWNvbmQuCiAgc2V0SW50ZXJ2YWwoYXN5bmMgXyA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCB3aWRlQ29va2llID0gYXdhaXQgY29va2llU3RvcmUuZ2V0KGNvb2tpZUtleSkKICAgICAgLy8gV2UgaGF2ZSB0byBzdHJpbmdpZnkgdGhlIGNvb2tpZSBvYmplY3QgdG8gc3RvcmUgaXQgaW4gbG9jYWxTdG9yYWdlLgogICAgICBpZiAod2lkZUNvb2tpZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JlS2V5LCBKU09OLnN0cmluZ2lmeSh3aWRlQ29va2llKSkKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yZUtleSkKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBzd2FsbG93IGVycm9yIGZyb20gbm8gY29va2llIGV4aXN0aW5nCiAgICB9CiAgfSwgMTAwMCkKfSkoKTsK"},{"name":"de-amp.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"KGZ1bmN0aW9uICgpIHsKICBpZiAodHlwZW9mIGRlQW1wRW5hYmxlZCAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVBbXBFbmFibGVkKSB7CiAgICBjb25zdCBhdHRyID0gJ2pzYWN0aW9uJwogICAgY29uc3Qgc2VsZWN0b3IgPSBgYVtkYXRhLWFtcC10aXRsZV1bJHthdHRyfV1gCiAgICBsZXQgdGltZXIKICAgIGNvbnN0IGlkbGVDYWxsYmFjayA9IChfID0+IHsKICAgICAgaWYgKHNlbGYucmVxdWVzdElkbGVDYWxsYmFjaykgewogICAgICAgIHJldHVybiAoY2FsbGJhY2ssIHRpbWVvdXQpID0+IHsKICAgICAgICAgIHJldHVybiBzZWxmLnJlcXVlc3RJZGxlQ2FsbGJhY2soY2FsbGJhY2ssIHsgdGltZW91dCB9KQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gRmFsbGJhY2sgdG8gc2V0VGltZW91dCB3aGVuIHJlcXVlc3RJZGxlQ2FsbGJhY2sgZG9lc24ndCBleGlzdC4KICAgICAgcmV0dXJuIChjYWxsYmFjaykgPT4gewogICAgICAgIHJldHVybiBzZWxmLnNldFRpbWVvdXQoY2FsbGJhY2ssIDApCiAgICAgIH0KICAgIH0pKCkKICAgIGNvbnN0IHJtYXR0ciA9ICgpID0+IHsKICAgICAgdGltZXIgPSB1bmRlZmluZWQKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpCiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7CiAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXgpIHsgfQogICAgfQogICAgY29uc3QgbXV0YXRpb25IYW5kbGVyID0gKG11dGF0aW9ucykgPT4gewogICAgICBpZiAodGltZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCBza2lwID0gdHJ1ZQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGggJiYgc2tpcDsgaSsrKSB7CiAgICAgICAgY29uc3QgeyB0eXBlLCBhZGRlZE5vZGVzLCByZW1vdmVkTm9kZXMgfSA9IG11dGF0aW9uc1tpXQogICAgICAgIGlmICh0eXBlID09PSAnYXR0cmlidXRlcycpIHsKICAgICAgICAgIHNraXAgPSBmYWxzZQogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFkZGVkTm9kZXMubGVuZ3RoICYmIHNraXA7IGorKykgewogICAgICAgICAgaWYgKGFkZGVkTm9kZXNbal0ubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgc2tpcCA9IGZhbHNlCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVtb3ZlZE5vZGVzLmxlbmd0aCAmJiBza2lwOyBqKyspIHsKICAgICAgICAgIGlmIChyZW1vdmVkTm9kZXNbal0ubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgICAgc2tpcCA9IGZhbHNlCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChza2lwKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRpbWVyID0gaWRsZUNhbGxiYWNrKHJtYXR0ciwgMTcpCiAgICB9CgogICAgY29uc3Qgc3RhcnQgPSAoKSA9PiB7CiAgICAgIHJtYXR0cigpCiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25IYW5kbGVyKQogICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7CiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFthdHRyXSwKICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgc3VidHJlZTogdHJ1ZQogICAgICB9KQogICAgfQoKICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHN0YXJ0LCB7IG9uY2U6IHRydWUgfSkKICB9Cn0pKCk7Cg=="},{"name":"touch-fix.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"Ly8gUmVtb3ZlIHRvdWNoIGNoZWNrcyBvbiBzZWxlY3RlZCBtb2JpbGUgc2l0ZXMKZGVsZXRlIERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVUb3VjaApkZWxldGUgRG9jdW1lbnQucHJvdG90eXBlLm9udG91Y2hzdGFydApkZWxldGUgRG9jdW1lbnQucHJvdG90eXBlLm9udG91Y2hlbmQKZGVsZXRlIERvY3VtZW50LnByb3RvdHlwZS5vbnRvdWNoY2FuY2VsCmRlbGV0ZSBEb2N1bWVudC5wcm90b3R5cGUuVG91Y2hFdmVudAo="},{"name":"abort-current-script.js","aliases":["acs.js","abort-current-inline-script.js","acis.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNob3VsZERlYnVnKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMuZGVidWc7Cn0KZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBnZXRFeGNlcHRpb25Ub2tlbigpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgdG9rZW4gPQogICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoRGF0ZS5ub3coKSAlIDI2ICsgOTcpICsKICAgICAgICBzYWZlLk1hdGhfZmxvb3Ioc2FmZS5NYXRoX3JhbmRvbSgpICogOTgyNDUxNjUzICsgOTgyNDUxNjUzKS50b1N0cmluZygzNik7CiAgICBjb25zdCBvZSA9IHNlbGYub25lcnJvcjsKICAgIHNlbGYub25lcnJvciA9IGZ1bmN0aW9uKG1zZywgLi4uYXJncykgewogICAgICAgIGlmICggdHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgJiYgbXNnLmluY2x1ZGVzKHRva2VuKSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIG9lIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIHJldHVybiBvZS5jYWxsKHRoaXMsIG1zZywgLi4uYXJncyk7CiAgICAgICAgfQogICAgfS5iaW5kKCk7CiAgICByZXR1cm4gdG9rZW47Cn0KZnVuY3Rpb24gcnVuQXRIdG1sRWxlbWVudEZuKGZuKSB7CiAgICBpZiAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCApIHsKICAgICAgICBmbigpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCApID0+IHsKICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgZm4oKTsKICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUgfSk7Cn0KZnVuY3Rpb24gYWJvcnRDdXJyZW50U2NyaXB0Q29yZSgKICAgIHRhcmdldCA9ICcnLAogICAgbmVlZGxlID0gJycsCiAgICBjb250ZXh0ID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGlmICggdGFyZ2V0ID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHJlTmVlZGxlID0gc2FmZS5wYXR0ZXJuVG9SZWdleChuZWVkbGUpOwogICAgY29uc3QgcmVDb250ZXh0ID0gc2FmZS5wYXR0ZXJuVG9SZWdleChjb250ZXh0KTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBjb25zdCB0aGlzU2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdDsKICAgIGNvbnN0IGNoYWluID0gdGFyZ2V0LnNwbGl0KCcuJyk7CiAgICBsZXQgb3duZXIgPSB3aW5kb3c7CiAgICBsZXQgcHJvcDsKICAgIGZvciAoOzspIHsKICAgICAgICBwcm9wID0gY2hhaW4uc2hpZnQoKTsKICAgICAgICBpZiAoIGNoYWluLmxlbmd0aCA9PT0gMCApIHsgYnJlYWs7IH0KICAgICAgICBpZiAoIHByb3AgaW4gb3duZXIgPT09IGZhbHNlICkgeyBicmVhazsgfQogICAgICAgIG93bmVyID0gb3duZXJbcHJvcF07CiAgICAgICAgaWYgKCBvd25lciBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgfQogICAgbGV0IHZhbHVlOwogICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG93bmVyLCBwcm9wKTsKICAgIGlmICgKICAgICAgICBkZXNjIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSB8fAogICAgICAgIGRlc2MuZ2V0IGluc3RhbmNlb2YgRnVuY3Rpb24gPT09IGZhbHNlCiAgICApIHsKICAgICAgICB2YWx1ZSA9IG93bmVyW3Byb3BdOwogICAgICAgIGRlc2MgPSB1bmRlZmluZWQ7CiAgICB9CiAgICBjb25zdCBsb2cgPSBzaG91bGRMb2coZXh0cmFBcmdzKTsKICAgIGNvbnN0IGRlYnVnID0gc2hvdWxkRGVidWcoZXh0cmFBcmdzKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IHNjcmlwdFRleHRzID0gbmV3IFdlYWtNYXAoKTsKICAgIGNvbnN0IGdldFNjcmlwdFRleHQgPSBlbGVtID0+IHsKICAgICAgICBsZXQgdGV4dCA9IGVsZW0udGV4dENvbnRlbnQ7CiAgICAgICAgaWYgKCB0ZXh0LnRyaW0oKSAhPT0gJycgKSB7IHJldHVybiB0ZXh0OyB9CiAgICAgICAgaWYgKCBzY3JpcHRUZXh0cy5oYXMoZWxlbSkgKSB7IHJldHVybiBzY3JpcHRUZXh0cy5nZXQoZWxlbSk7IH0KICAgICAgICBjb25zdCBbICwgbWltZSwgY29udGVudCBdID0KICAgICAgICAgICAgL15kYXRhOihbXixdKiksKC4rKSQvLmV4ZWMoZWxlbS5zcmMudHJpbSgpKSB8fAogICAgICAgICAgICBbICcnLCAnJywgJycgXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBzd2l0Y2ggKCB0cnVlICkgewogICAgICAgICAgICBjYXNlIG1pbWUuZW5kc1dpdGgoJztiYXNlNjQnKToKICAgICAgICAgICAgICAgIHRleHQgPSBzZWxmLmF0b2IoY29udGVudCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHRleHQgPSBzZWxmLmRlY29kZVVSSUNvbXBvbmVudChjb250ZW50KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgIH0KICAgICAgICBzY3JpcHRUZXh0cy5zZXQoZWxlbSwgdGV4dCk7CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9OwogICAgY29uc3QgdmFsaWRhdGUgPSAoICkgPT4gewogICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0OwogICAgICAgIGlmICggZSBpbnN0YW5jZW9mIEhUTUxTY3JpcHRFbGVtZW50ID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgaWYgKCBlID09PSB0aGlzU2NyaXB0ICkgeyByZXR1cm47IH0KICAgICAgICBpZiAoIGNvbnRleHQgIT09ICcnICYmIHJlQ29udGV4dC50ZXN0KGUuc3JjKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgIGlmICggZGVidWcgPT09ICdub21hdGNoJyB8fCBkZWJ1ZyA9PT0gJ2FsbCcgKSB7IGRlYnVnZ2VyOyB9ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCBsb2cgJiYgZS5zcmMgIT09ICcnICkgeyBzYWZlLnVib0xvZyhgbWF0Y2hlZCBzcmM6ICR7ZS5zcmN9YCk7IH0KICAgICAgICBjb25zdCBzY3JpcHRUZXh0ID0gZ2V0U2NyaXB0VGV4dChlKTsKICAgICAgICBpZiAoIHJlTmVlZGxlLnRlc3Qoc2NyaXB0VGV4dCkgPT09IGZhbHNlICkgewogICAgICAgICAgICBpZiAoIGRlYnVnID09PSAnbm9tYXRjaCcgfHwgZGVidWcgPT09ICdhbGwnICkgeyBkZWJ1Z2dlcjsgfSAgLy8ganNoaW50IGlnbm9yZTogbGluZQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICggbG9nICkgeyBzYWZlLnVib0xvZyhgbWF0Y2hlZCBzY3JpcHQgdGV4dDogJHtzY3JpcHRUZXh0fWApOyB9CiAgICAgICAgaWYgKCBkZWJ1ZyA9PT0gJ21hdGNoJyB8fCBkZWJ1ZyA9PT0gJ2FsbCcgKSB7IGRlYnVnZ2VyOyB9ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGV4Y2VwdGlvblRva2VuKTsKICAgIH07CiAgICBpZiAoIGRlYnVnID09PSAnaW5zdGFsbCcgKSB7IGRlYnVnZ2VyOyB9ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICB0cnkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvd25lciwgcHJvcCwgewogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFsaWRhdGUoKTsKICAgICAgICAgICAgICAgIHJldHVybiBkZXNjIGluc3RhbmNlb2YgT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgPyBkZXNjLmdldC5jYWxsKG93bmVyKQogICAgICAgICAgICAgICAgICAgIDogdmFsdWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgdmFsaWRhdGUoKTsKICAgICAgICAgICAgICAgIGlmICggZGVzYyBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgICAgICBkZXNjLnNldC5jYWxsKG93bmVyLCBhKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9IGNhdGNoKGV4KSB7CiAgICAgICAgaWYgKCBsb2cgKSB7IHNhZmUudWJvTG9nKGV4KTsgfQogICAgfQp9CgogIChmdW5jdGlvbiBhYm9ydEN1cnJlbnRTY3JpcHQoLi4uYXJncykgewogICAgcnVuQXRIdG1sRWxlbWVudEZuKCggKSA9PiB7CiAgICAgICAgYWJvcnRDdXJyZW50U2NyaXB0Q29yZSguLi5hcmdzKTsKICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"abort-on-property-read.js","aliases":["aopr.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBnZXRFeGNlcHRpb25Ub2tlbigpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgdG9rZW4gPQogICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoRGF0ZS5ub3coKSAlIDI2ICsgOTcpICsKICAgICAgICBzYWZlLk1hdGhfZmxvb3Ioc2FmZS5NYXRoX3JhbmRvbSgpICogOTgyNDUxNjUzICsgOTgyNDUxNjUzKS50b1N0cmluZygzNik7CiAgICBjb25zdCBvZSA9IHNlbGYub25lcnJvcjsKICAgIHNlbGYub25lcnJvciA9IGZ1bmN0aW9uKG1zZywgLi4uYXJncykgewogICAgICAgIGlmICggdHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgJiYgbXNnLmluY2x1ZGVzKHRva2VuKSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIG9lIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIHJldHVybiBvZS5jYWxsKHRoaXMsIG1zZywgLi4uYXJncyk7CiAgICAgICAgfQogICAgfS5iaW5kKCk7CiAgICByZXR1cm4gdG9rZW47Cn0KCiAgKGZ1bmN0aW9uIGFib3J0T25Qcm9wZXJ0eVJlYWQoCiAgICBjaGFpbiA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgY2hhaW4gIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGlmICggY2hhaW4gPT09ICcnICkgeyByZXR1cm47IH0KICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGFib3J0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGV4Y2VwdGlvblRva2VuKTsKICAgIH07CiAgICBjb25zdCBtYWtlUHJveHkgPSBmdW5jdGlvbihvd25lciwgY2hhaW4pIHsKICAgICAgICBjb25zdCBwb3MgPSBjaGFpbi5pbmRleE9mKCcuJyk7CiAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgewogICAgICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgY2hhaW4pOwogICAgICAgICAgICBpZiAoICFkZXNjIHx8IGRlc2MuZ2V0ICE9PSBhYm9ydCApIHsKICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvd25lciwgY2hhaW4sIHsKICAgICAgICAgICAgICAgICAgICBnZXQ6IGFib3J0LAogICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oKXt9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IHByb3AgPSBjaGFpbi5zbGljZSgwLCBwb3MpOwogICAgICAgIGxldCB2ID0gb3duZXJbcHJvcF07CiAgICAgICAgY2hhaW4gPSBjaGFpbi5zbGljZShwb3MgKyAxKTsKICAgICAgICBpZiAoIHYgKSB7CiAgICAgICAgICAgIG1ha2VQcm94eSh2LCBjaGFpbik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApOwogICAgICAgIGlmICggZGVzYyAmJiBkZXNjLnNldCAhPT0gdW5kZWZpbmVkICkgeyByZXR1cm47IH0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3duZXIsIHByb3AsIHsKICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHY7IH0sCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgdiA9IGE7CiAgICAgICAgICAgICAgICBpZiAoIGEgaW5zdGFuY2VvZiBPYmplY3QgKSB7CiAgICAgICAgICAgICAgICAgICAgbWFrZVByb3h5KGEsIGNoYWluKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IG93bmVyID0gd2luZG93OwogICAgbWFrZVByb3h5KG93bmVyLCBjaGFpbik7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"abort-on-property-write.js","aliases":["aopw.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBnZXRFeGNlcHRpb25Ub2tlbigpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgdG9rZW4gPQogICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoRGF0ZS5ub3coKSAlIDI2ICsgOTcpICsKICAgICAgICBzYWZlLk1hdGhfZmxvb3Ioc2FmZS5NYXRoX3JhbmRvbSgpICogOTgyNDUxNjUzICsgOTgyNDUxNjUzKS50b1N0cmluZygzNik7CiAgICBjb25zdCBvZSA9IHNlbGYub25lcnJvcjsKICAgIHNlbGYub25lcnJvciA9IGZ1bmN0aW9uKG1zZywgLi4uYXJncykgewogICAgICAgIGlmICggdHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgJiYgbXNnLmluY2x1ZGVzKHRva2VuKSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIG9lIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7CiAgICAgICAgICAgIHJldHVybiBvZS5jYWxsKHRoaXMsIG1zZywgLi4uYXJncyk7CiAgICAgICAgfQogICAgfS5iaW5kKCk7CiAgICByZXR1cm4gdG9rZW47Cn0KCiAgKGZ1bmN0aW9uIGFib3J0T25Qcm9wZXJ0eVdyaXRlKAogICAgcHJvcCA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgcHJvcCAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgaWYgKCBwcm9wID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBleGNlcHRpb25Ub2tlbiA9IGdldEV4Y2VwdGlvblRva2VuKCk7CiAgICBsZXQgb3duZXIgPSB3aW5kb3c7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgY29uc3QgcG9zID0gcHJvcC5pbmRleE9mKCcuJyk7CiAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyBicmVhazsgfQogICAgICAgIG93bmVyID0gb3duZXJbcHJvcC5zbGljZSgwLCBwb3MpXTsKICAgICAgICBpZiAoIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgcHJvcCA9IHByb3Auc2xpY2UocG9zICsgMSk7CiAgICB9CiAgICBkZWxldGUgb3duZXJbcHJvcF07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3duZXIsIHByb3AsIHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgICAgIH0KICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"abort-on-stack-trace.js","aliases":["aost.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBtYXRjaGVzU3RhY2tUcmFjZSgKICAgIG5lZWRsZURldGFpbHMsCiAgICBsb2dMZXZlbCA9IDAKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGVycm9yID0gbmV3IHNhZmUuRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgY29uc3QgZG9jVVJMID0gbmV3IFVSTChzZWxmLmxvY2F0aW9uLmhyZWYpOwogICAgZG9jVVJMLmhhc2ggPSAnJzsKICAgIC8vIE5vcm1hbGl6ZSBzdGFjayB0cmFjZQogICAgY29uc3QgcmVMaW5lID0gLyguKj9AKT8oXFMrKSg6XGQrKTpcZCtcKT8kLzsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBmb3IgKCBsZXQgbGluZSBvZiBlcnJvci5zdGFjay5zcGxpdCgvW1xuXHJdKy8pICkgewogICAgICAgIGlmICggbGluZS5pbmNsdWRlcyhleGNlcHRpb25Ub2tlbikgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpOwogICAgICAgIGNvbnN0IG1hdGNoID0gc2FmZS5SZWdFeHBfZXhlYy5jYWxsKHJlTGluZSwgbGluZSk7CiAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsgY29udGludWU7IH0KICAgICAgICBsZXQgdXJsID0gbWF0Y2hbMl07CiAgICAgICAgaWYgKCB1cmwuc3RhcnRzV2l0aCgnKCcpICkgeyB1cmwgPSB1cmwuc2xpY2UoMSk7IH0KICAgICAgICBpZiAoIHVybCA9PT0gZG9jVVJMLmhyZWYgKSB7CiAgICAgICAgICAgIHVybCA9ICdpbmxpbmVTY3JpcHQnOwogICAgICAgIH0gZWxzZSBpZiAoIHVybC5zdGFydHNXaXRoKCc8YW5vbnltb3VzPicpICkgewogICAgICAgICAgICB1cmwgPSAnaW5qZWN0ZWRTY3JpcHQnOwogICAgICAgIH0KICAgICAgICBsZXQgZm4gPSBtYXRjaFsxXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gbWF0Y2hbMV0uc2xpY2UoMCwgLTEpCiAgICAgICAgICAgIDogbGluZS5zbGljZSgwLCBtYXRjaC5pbmRleCkudHJpbSgpOwogICAgICAgIGlmICggZm4uc3RhcnRzV2l0aCgnYXQnKSApIHsgZm4gPSBmbi5zbGljZSgyKS50cmltKCk7IH0KICAgICAgICBsZXQgcm93Y29sID0gbWF0Y2hbM107CiAgICAgICAgbGluZXMucHVzaCgnICcgKyBgJHtmbn0gJHt1cmx9JHtyb3djb2x9OjFgLnRyaW0oKSk7CiAgICB9CiAgICBsaW5lc1swXSA9IGBzdGFja0RlcHRoOiR7bGluZXMubGVuZ3RoLTF9YDsKICAgIGNvbnN0IHN0YWNrID0gbGluZXMuam9pbignXHQnKTsKICAgIGNvbnN0IHIgPSBzYWZlLnRlc3RQYXR0ZXJuKG5lZWRsZURldGFpbHMsIHN0YWNrKTsKICAgIGlmICgKICAgICAgICBsb2dMZXZlbCA9PT0gMSB8fAogICAgICAgIGxvZ0xldmVsID09PSAyICYmIHIgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMyAmJiAhcgogICAgKSB7CiAgICAgICAgc2FmZS51Ym9Mb2coc3RhY2sucmVwbGFjZSgvXHQvZywgJ1xuJykpOwogICAgfQogICAgcmV0dXJuIHI7Cn0KZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CgogIChmdW5jdGlvbiBhYm9ydE9uU3RhY2tUcmFjZSgKICAgIGNoYWluID0gJycsCiAgICBuZWVkbGUgPSAnJwopIHsKICAgIGlmICggdHlwZW9mIGNoYWluICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IG5lZWRsZURldGFpbHMgPSBzYWZlLmluaXRQYXR0ZXJuKG5lZWRsZSwgeyBjYW5OZWdhdGU6IHRydWUgfSk7CiAgICBjb25zdCBleHRyYUFyZ3MgPSBzYWZlLmdldEV4dHJhQXJncyhBcnJheS5mcm9tKGFyZ3VtZW50cyksIDIpOwogICAgY29uc3QgbWFrZVByb3h5ID0gZnVuY3Rpb24ob3duZXIsIGNoYWluKSB7CiAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsKICAgICAgICAgICAgbGV0IHYgPSBvd25lcltjaGFpbl07CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvd25lciwgY2hhaW4sIHsKICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaGVzU3RhY2tUcmFjZShuZWVkbGVEZXRhaWxzLCBleHRyYUFyZ3MubG9nKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGdldEV4Y2VwdGlvblRva2VuKCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZXNTdGFja1RyYWNlKG5lZWRsZURldGFpbHMsIGV4dHJhQXJncy5sb2cpICkgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoZ2V0RXhjZXB0aW9uVG9rZW4oKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHYgPSBhOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgcHJvcCA9IGNoYWluLnNsaWNlKDAsIHBvcyk7CiAgICAgICAgbGV0IHYgPSBvd25lcltwcm9wXTsKICAgICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKHBvcyArIDEpOwogICAgICAgIGlmICggdiApIHsKICAgICAgICAgICAgbWFrZVByb3h5KHYsIGNoYWluKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgcHJvcCk7CiAgICAgICAgaWYgKCBkZXNjICYmIGRlc2Muc2V0ICE9PSB1bmRlZmluZWQgKSB7IHJldHVybjsgfQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvd25lciwgcHJvcCwgewogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdjsgfSwKICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICB2ID0gYTsKICAgICAgICAgICAgICAgIGlmICggYSBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgICAgICBtYWtlUHJveHkoYSwgY2hhaW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwogICAgY29uc3Qgb3duZXIgPSB3aW5kb3c7CiAgICBtYWtlUHJveHkob3duZXIsIGNoYWluKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"addEventListener-defuser.js","aliases":["aeld.js","prevent-addEventListener.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNob3VsZERlYnVnKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMuZGVidWc7Cn0KZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lckRlZnVzZXIoCiAgICB0eXBlID0gJycsCiAgICBwYXR0ZXJuID0gJycKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMik7CiAgICBjb25zdCByZVR5cGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KHR5cGUsIHVuZGVmaW5lZCwgdHJ1ZSk7CiAgICBjb25zdCByZVBhdHRlcm4gPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4pOwogICAgY29uc3QgbG9nID0gc2hvdWxkTG9nKGV4dHJhQXJncyk7CiAgICBjb25zdCBkZWJ1ZyA9IHNob3VsZERlYnVnKGV4dHJhQXJncyk7CiAgICBjb25zdCB0cmFwRWRkRXZlbnRMaXN0ZW5lcnMgPSAoICkgPT4gewogICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJIYW5kbGVyID0gewogICAgICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgICAgICBsZXQgdHlwZSwgaGFuZGxlcjsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFN0cmluZyhhcmdzWzBdKTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gU3RyaW5nKGFyZ3NbMV0pOwogICAgICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlc1R5cGUgPSBzYWZlLlJlZ0V4cF90ZXN0LmNhbGwocmVUeXBlLCB0eXBlKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNIYW5kbGVyID0gc2FmZS5SZWdFeHBfdGVzdC5jYWxsKHJlUGF0dGVybiwgaGFuZGxlcik7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzRWl0aGVyID0gbWF0Y2hlc1R5cGUgfHwgbWF0Y2hlc0hhbmRsZXI7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzQm90aCA9IG1hdGNoZXNUeXBlICYmIG1hdGNoZXNIYW5kbGVyOwogICAgICAgICAgICAgICAgaWYgKCBsb2cgPT09IDEgJiYgbWF0Y2hlc0JvdGggfHwgbG9nID09PSAyICYmIG1hdGNoZXNFaXRoZXIgfHwgbG9nID09PSAzICkgewogICAgICAgICAgICAgICAgICAgIHNhZmUudWJvTG9nKGBhZGRFdmVudExpc3RlbmVyKCcke3R5cGV9JywgJHtoYW5kbGVyfSlgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICggZGVidWcgPT09IDEgJiYgbWF0Y2hlc0JvdGggfHwgZGVidWcgPT09IDIgJiYgbWF0Y2hlc0VpdGhlciApIHsKICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlcjsgLy8ganNoaW50IGlnbm9yZTpsaW5lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZXNCb3RoICkgeyByZXR1cm47IH0KICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7CiAgICAgICAgICAgICAgICBpZiAoIHByb3AgPT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC50b1N0cmluZy5iaW5kKHRhcmdldCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7CiAgICAgICAgICAgIH0sCiAgICAgICAgfTsKICAgICAgICBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gbmV3IFByb3h5KAogICAgICAgICAgICBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyLAogICAgICAgICAgICBldmVudExpc3RlbmVySGFuZGxlcgogICAgICAgICk7CiAgICB9OwogICAgcnVuQXQoKCApID0+IHsKICAgICAgICB0cmFwRWRkRXZlbnRMaXN0ZW5lcnMoKTsKICAgIH0sIGV4dHJhQXJncy5ydW5BdCk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"json-prune.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIHNob3VsZExvZyhkZXRhaWxzKSB7CiAgICBpZiAoIGRldGFpbHMgaW5zdGFuY2VvZiBPYmplY3QgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSAmJiBkZXRhaWxzLmxvZzsKfQpmdW5jdGlvbiBvYmplY3RGaW5kT3duZXJGbigKICAgIHJvb3QsCiAgICBwYXRoLAogICAgcHJ1bmUgPSBmYWxzZQopIHsKICAgIGxldCBvd25lciA9IHJvb3Q7CiAgICBsZXQgY2hhaW4gPSBwYXRoOwogICAgZm9yICg7OykgewogICAgICAgIGlmICggdHlwZW9mIG93bmVyICE9PSAnb2JqZWN0JyB8fCBvd25lciA9PT0gbnVsbCAgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgIGNvbnN0IHBvcyA9IGNoYWluLmluZGV4T2YoJy4nKTsKICAgICAgICBpZiAoIHBvcyA9PT0gLTEgKSB7CiAgICAgICAgICAgIGlmICggcHJ1bmUgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgcmV0dXJuIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbW9kaWZpZWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKCBjaGFpbiA9PT0gJyonICkgewogICAgICAgICAgICAgICAgZm9yICggY29uc3Qga2V5IGluIG93bmVyICkgewogICAgICAgICAgICAgICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkoa2V5KSA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG93bmVyW2tleV07CiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShjaGFpbikgKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJbY2hhaW5dOwogICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBtb2RpZmllZDsKICAgICAgICB9CiAgICAgICAgY29uc3QgcHJvcCA9IGNoYWluLnNsaWNlKDAsIHBvcyk7CiAgICAgICAgaWYgKAogICAgICAgICAgICBwcm9wID09PSAnW10nICYmIEFycmF5LmlzQXJyYXkob3duZXIpIHx8CiAgICAgICAgICAgIHByb3AgPT09ICcqJyAmJiBvd25lciBpbnN0YW5jZW9mIE9iamVjdAogICAgICAgICkgewogICAgICAgICAgICBjb25zdCBuZXh0ID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3duZXIpICkgewogICAgICAgICAgICAgICAgZm91bmQgPSBvYmplY3RGaW5kT3duZXJGbihvd25lcltrZXldLCBuZXh0LCBwcnVuZSkgfHwgZm91bmQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgIH0KICAgICAgICBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgb3duZXIgPSBvd25lcltwcm9wXTsKICAgICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKHBvcyArIDEpOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KZnVuY3Rpb24gbWF0Y2hlc1N0YWNrVHJhY2UoCiAgICBuZWVkbGVEZXRhaWxzLAogICAgbG9nTGV2ZWwgPSAwCikgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBleGNlcHRpb25Ub2tlbiA9IGdldEV4Y2VwdGlvblRva2VuKCk7CiAgICBjb25zdCBlcnJvciA9IG5ldyBzYWZlLkVycm9yKGV4Y2VwdGlvblRva2VuKTsKICAgIGNvbnN0IGRvY1VSTCA9IG5ldyBVUkwoc2VsZi5sb2NhdGlvbi5ocmVmKTsKICAgIGRvY1VSTC5oYXNoID0gJyc7CiAgICAvLyBOb3JtYWxpemUgc3RhY2sgdHJhY2UKICAgIGNvbnN0IHJlTGluZSA9IC8oLio/QCk/KFxTKykoOlxkKyk6XGQrXCk/JC87CiAgICBjb25zdCBsaW5lcyA9IFtdOwogICAgZm9yICggbGV0IGxpbmUgb2YgZXJyb3Iuc3RhY2suc3BsaXQoL1tcblxyXSsvKSApIHsKICAgICAgICBpZiAoIGxpbmUuaW5jbHVkZXMoZXhjZXB0aW9uVG9rZW4pICkgeyBjb250aW51ZTsgfQogICAgICAgIGxpbmUgPSBsaW5lLnRyaW0oKTsKICAgICAgICBjb25zdCBtYXRjaCA9IHNhZmUuUmVnRXhwX2V4ZWMuY2FsbChyZUxpbmUsIGxpbmUpOwogICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGV0IHVybCA9IG1hdGNoWzJdOwogICAgICAgIGlmICggdXJsLnN0YXJ0c1dpdGgoJygnKSApIHsgdXJsID0gdXJsLnNsaWNlKDEpOyB9CiAgICAgICAgaWYgKCB1cmwgPT09IGRvY1VSTC5ocmVmICkgewogICAgICAgICAgICB1cmwgPSAnaW5saW5lU2NyaXB0JzsKICAgICAgICB9IGVsc2UgaWYgKCB1cmwuc3RhcnRzV2l0aCgnPGFub255bW91cz4nKSApIHsKICAgICAgICAgICAgdXJsID0gJ2luamVjdGVkU2NyaXB0JzsKICAgICAgICB9CiAgICAgICAgbGV0IGZuID0gbWF0Y2hbMV0gIT09IHVuZGVmaW5lZAogICAgICAgICAgICA/IG1hdGNoWzFdLnNsaWNlKDAsIC0xKQogICAgICAgICAgICA6IGxpbmUuc2xpY2UoMCwgbWF0Y2guaW5kZXgpLnRyaW0oKTsKICAgICAgICBpZiAoIGZuLnN0YXJ0c1dpdGgoJ2F0JykgKSB7IGZuID0gZm4uc2xpY2UoMikudHJpbSgpOyB9CiAgICAgICAgbGV0IHJvd2NvbCA9IG1hdGNoWzNdOwogICAgICAgIGxpbmVzLnB1c2goJyAnICsgYCR7Zm59ICR7dXJsfSR7cm93Y29sfToxYC50cmltKCkpOwogICAgfQogICAgbGluZXNbMF0gPSBgc3RhY2tEZXB0aDoke2xpbmVzLmxlbmd0aC0xfWA7CiAgICBjb25zdCBzdGFjayA9IGxpbmVzLmpvaW4oJ1x0Jyk7CiAgICBjb25zdCByID0gc2FmZS50ZXN0UGF0dGVybihuZWVkbGVEZXRhaWxzLCBzdGFjayk7CiAgICBpZiAoCiAgICAgICAgbG9nTGV2ZWwgPT09IDEgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMiAmJiByIHx8CiAgICAgICAgbG9nTGV2ZWwgPT09IDMgJiYgIXIKICAgICkgewogICAgICAgIHNhZmUudWJvTG9nKHN0YWNrLnJlcGxhY2UoL1x0L2csICdcbicpKTsKICAgIH0KICAgIHJldHVybiByOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gb2JqZWN0UHJ1bmVGbigKICAgIG9iaiwKICAgIHJhd1BydW5lUGF0aHMsCiAgICByYXdOZWVkbGVQYXRocywKICAgIHN0YWNrTmVlZGxlRGV0YWlscyA9IHsgbWF0Y2hBbGw6IHRydWUgfSwKICAgIGV4dHJhQXJncyA9IHt9CikgewogICAgaWYgKCB0eXBlb2YgcmF3UHJ1bmVQYXRocyAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBwcnVuZVBhdGhzID0gcmF3UHJ1bmVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd1BydW5lUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbmVlZGxlUGF0aHMgPSBwcnVuZVBhdGhzLmxlbmd0aCAhPT0gMCAmJiByYXdOZWVkbGVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd05lZWRsZVBhdGhzLnNwbGl0KC8gKy8pCiAgICAgICAgOiBbXTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKHsgbG9nOiByYXdQcnVuZVBhdGhzID09PSAnJyB8fCBleHRyYUFyZ3MubG9nIH0pOwogICAgY29uc3QgcmVMb2dOZWVkbGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KGxvZ0xldmVsID09PSB0cnVlID8gcmF3TmVlZGxlUGF0aHMgOiAnJyk7CiAgICBpZiAoIHN0YWNrTmVlZGxlRGV0YWlscy5tYXRjaEFsbCAhPT0gdHJ1ZSApIHsKICAgICAgICBpZiAoIG1hdGNoZXNTdGFja1RyYWNlKHN0YWNrTmVlZGxlRGV0YWlscywgZXh0cmFBcmdzLmxvZ3N0YWNrKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLm11c3RQcm9jZXNzID0gKHJvb3QsIG5lZWRsZVBhdGhzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IG5lZWRsZVBhdGggb2YgbmVlZGxlUGF0aHMgKSB7CiAgICAgICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKHJvb3QsIG5lZWRsZVBhdGgpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24gPSAoanNvbiwgbXNnLCByZU5lZWRsZSkgPT4gewogICAgICAgICAgICBpZiAoIHJlTmVlZGxlLnRlc3QoanNvbikgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgc2FmZVNlbGYoKS51Ym9Mb2coYG9iamVjdFBydW5lKClgLCBtc2csIGxvY2F0aW9uLmhvc3RuYW1lLCBqc29uKTsKICAgICAgICB9OwogICAgfQogICAgY29uc3QganNvbkJlZm9yZSA9IGxvZ0xldmVsID8gc2FmZS5KU09OX3N0cmluZ2lmeShvYmosIG51bGwsIDIpIDogJyc7CiAgICBpZiAoIGxvZ0xldmVsID09PSB0cnVlIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggcHJ1bmVQYXRocy5sZW5ndGggPT09IDAgKSB7IHJldHVybjsgfQogICAgbGV0IG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3Mob2JqLCBuZWVkbGVQYXRocykgKSB7CiAgICAgICAgZm9yICggY29uc3QgcGF0aCBvZiBwcnVuZVBhdGhzICkgewogICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKG9iaiwgcGF0aCwgdHJ1ZSkgKSB7CiAgICAgICAgICAgICAgICBvdXRjb21lID0gJ21hdGNoJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmICggbG9nTGV2ZWwgPT09IG91dGNvbWUgKSB7CiAgICAgICAgb2JqZWN0UHJ1bmVGbi5sb2dKc29uKGpzb25CZWZvcmUsIGBwcnVuZToiJHtyYXdQcnVuZVBhdGhzfSIgbG9nOiIke2xvZ0xldmVsfSJgLCByZUxvZ05lZWRsZSk7CiAgICB9CiAgICBpZiAoIG91dGNvbWUgPT09ICdtYXRjaCcgKSB7IHJldHVybiBvYmo7IH0KfQoKICAoZnVuY3Rpb24ganNvblBydW5lKAogICAgcmF3UHJ1bmVQYXRocyA9ICcnLAogICAgcmF3TmVlZGxlUGF0aHMgPSAnJywKICAgIHN0YWNrTmVlZGxlID0gJycKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHN0YWNrTmVlZGxlRGV0YWlscyA9IHNhZmUuaW5pdFBhdHRlcm4oc3RhY2tOZWVkbGUsIHsgY2FuTmVnYXRlOiB0cnVlIH0pOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKTsKICAgIEpTT04ucGFyc2UgPSBuZXcgUHJveHkoSlNPTi5wYXJzZSwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgY29uc3Qgb2JqQmVmb3JlID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgICAgICBjb25zdCBvYmpBZnRlciA9IG9iamVjdFBydW5lRm4oCiAgICAgICAgICAgICAgICBvYmpCZWZvcmUsCiAgICAgICAgICAgICAgICByYXdQcnVuZVBhdGhzLAogICAgICAgICAgICAgICAgcmF3TmVlZGxlUGF0aHMsCiAgICAgICAgICAgICAgICBzdGFja05lZWRsZURldGFpbHMsCiAgICAgICAgICAgICAgICBleHRyYUFyZ3MKICAgICAgICAgICApOwogICAgICAgICAgIHJldHVybiBvYmpBZnRlciB8fCBvYmpCZWZvcmU7CiAgICAgICAgfSwKICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"json-prune-fetch-response.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIG9iamVjdEZpbmRPd25lckZuKAogICAgcm9vdCwKICAgIHBhdGgsCiAgICBwcnVuZSA9IGZhbHNlCikgewogICAgbGV0IG93bmVyID0gcm9vdDsKICAgIGxldCBjaGFpbiA9IHBhdGg7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgaWYgKCB0eXBlb2Ygb3duZXIgIT09ICdvYmplY3QnIHx8IG93bmVyID09PSBudWxsICApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsKICAgICAgICAgICAgaWYgKCBwcnVuZSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3duZXIuaGFzT3duUHJvcGVydHkoY2hhaW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoIGNoYWluID09PSAnKicgKSB7CiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgaW4gb3duZXIgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShrZXkpID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJba2V5XTsKICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKSApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvd25lcltjaGFpbl07CiAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1vZGlmaWVkOwogICAgICAgIH0KICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICBpZiAoCiAgICAgICAgICAgIHByb3AgPT09ICdbXScgJiYgQXJyYXkuaXNBcnJheShvd25lcikgfHwKICAgICAgICAgICAgcHJvcCA9PT0gJyonICYmIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0CiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjaGFpbi5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvd25lcikgKSB7CiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdEZpbmRPd25lckZuKG93bmVyW2tleV0sIG5leHQsIHBydW5lKSB8fCBmb3VuZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkocHJvcCkgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBvd25lciA9IG93bmVyW3Byb3BdOwogICAgICAgIGNoYWluID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQpmdW5jdGlvbiBtYXRjaGVzU3RhY2tUcmFjZSgKICAgIG5lZWRsZURldGFpbHMsCiAgICBsb2dMZXZlbCA9IDAKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGVycm9yID0gbmV3IHNhZmUuRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgY29uc3QgZG9jVVJMID0gbmV3IFVSTChzZWxmLmxvY2F0aW9uLmhyZWYpOwogICAgZG9jVVJMLmhhc2ggPSAnJzsKICAgIC8vIE5vcm1hbGl6ZSBzdGFjayB0cmFjZQogICAgY29uc3QgcmVMaW5lID0gLyguKj9AKT8oXFMrKSg6XGQrKTpcZCtcKT8kLzsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBmb3IgKCBsZXQgbGluZSBvZiBlcnJvci5zdGFjay5zcGxpdCgvW1xuXHJdKy8pICkgewogICAgICAgIGlmICggbGluZS5pbmNsdWRlcyhleGNlcHRpb25Ub2tlbikgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpOwogICAgICAgIGNvbnN0IG1hdGNoID0gc2FmZS5SZWdFeHBfZXhlYy5jYWxsKHJlTGluZSwgbGluZSk7CiAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsgY29udGludWU7IH0KICAgICAgICBsZXQgdXJsID0gbWF0Y2hbMl07CiAgICAgICAgaWYgKCB1cmwuc3RhcnRzV2l0aCgnKCcpICkgeyB1cmwgPSB1cmwuc2xpY2UoMSk7IH0KICAgICAgICBpZiAoIHVybCA9PT0gZG9jVVJMLmhyZWYgKSB7CiAgICAgICAgICAgIHVybCA9ICdpbmxpbmVTY3JpcHQnOwogICAgICAgIH0gZWxzZSBpZiAoIHVybC5zdGFydHNXaXRoKCc8YW5vbnltb3VzPicpICkgewogICAgICAgICAgICB1cmwgPSAnaW5qZWN0ZWRTY3JpcHQnOwogICAgICAgIH0KICAgICAgICBsZXQgZm4gPSBtYXRjaFsxXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gbWF0Y2hbMV0uc2xpY2UoMCwgLTEpCiAgICAgICAgICAgIDogbGluZS5zbGljZSgwLCBtYXRjaC5pbmRleCkudHJpbSgpOwogICAgICAgIGlmICggZm4uc3RhcnRzV2l0aCgnYXQnKSApIHsgZm4gPSBmbi5zbGljZSgyKS50cmltKCk7IH0KICAgICAgICBsZXQgcm93Y29sID0gbWF0Y2hbM107CiAgICAgICAgbGluZXMucHVzaCgnICcgKyBgJHtmbn0gJHt1cmx9JHtyb3djb2x9OjFgLnRyaW0oKSk7CiAgICB9CiAgICBsaW5lc1swXSA9IGBzdGFja0RlcHRoOiR7bGluZXMubGVuZ3RoLTF9YDsKICAgIGNvbnN0IHN0YWNrID0gbGluZXMuam9pbignXHQnKTsKICAgIGNvbnN0IHIgPSBzYWZlLnRlc3RQYXR0ZXJuKG5lZWRsZURldGFpbHMsIHN0YWNrKTsKICAgIGlmICgKICAgICAgICBsb2dMZXZlbCA9PT0gMSB8fAogICAgICAgIGxvZ0xldmVsID09PSAyICYmIHIgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMyAmJiAhcgogICAgKSB7CiAgICAgICAgc2FmZS51Ym9Mb2coc3RhY2sucmVwbGFjZSgvXHQvZywgJ1xuJykpOwogICAgfQogICAgcmV0dXJuIHI7Cn0KZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gcGFyc2VQcm9wZXJ0aWVzVG9NYXRjaChwcm9wc1RvTWF0Y2gsIGltcGxpY2l0ID0gJycpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlcyA9IG5ldyBNYXAoKTsKICAgIGlmICggcHJvcHNUb01hdGNoID09PSB1bmRlZmluZWQgfHwgcHJvcHNUb01hdGNoID09PSAnJyApIHsgcmV0dXJuIG5lZWRsZXM7IH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IGNhbk5lZ2F0ZTogdHJ1ZSB9OwogICAgZm9yICggY29uc3QgbmVlZGxlIG9mIHByb3BzVG9NYXRjaC5zcGxpdCgvXHMrLykgKSB7CiAgICAgICAgY29uc3QgWyBwcm9wLCBwYXR0ZXJuIF0gPSBuZWVkbGUuc3BsaXQoJzonKTsKICAgICAgICBpZiAoIHByb3AgPT09ICcnICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggcGF0dGVybiAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICBuZWVkbGVzLnNldChwcm9wLCBzYWZlLmluaXRQYXR0ZXJuKHBhdHRlcm4sIG9wdGlvbnMpKTsKICAgICAgICB9IGVsc2UgaWYgKCBpbXBsaWNpdCAhPT0gJycgKSB7CiAgICAgICAgICAgIG5lZWRsZXMuc2V0KGltcGxpY2l0LCBzYWZlLmluaXRQYXR0ZXJuKHByb3AsIG9wdGlvbnMpKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmVlZGxlczsKfQpmdW5jdGlvbiBvYmplY3RQcnVuZUZuKAogICAgb2JqLAogICAgcmF3UHJ1bmVQYXRocywKICAgIHJhd05lZWRsZVBhdGhzLAogICAgc3RhY2tOZWVkbGVEZXRhaWxzID0geyBtYXRjaEFsbDogdHJ1ZSB9LAogICAgZXh0cmFBcmdzID0ge30KKSB7CiAgICBpZiAoIHR5cGVvZiByYXdQcnVuZVBhdGhzICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHBydW5lUGF0aHMgPSByYXdQcnVuZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3UHJ1bmVQYXRocy5zcGxpdCgvICsvKQogICAgICAgIDogW107CiAgICBjb25zdCBuZWVkbGVQYXRocyA9IHBydW5lUGF0aHMubGVuZ3RoICE9PSAwICYmIHJhd05lZWRsZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3TmVlZGxlUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbG9nTGV2ZWwgPSBzaG91bGRMb2coeyBsb2c6IHJhd1BydW5lUGF0aHMgPT09ICcnIHx8IGV4dHJhQXJncy5sb2cgfSk7CiAgICBjb25zdCByZUxvZ05lZWRsZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobG9nTGV2ZWwgPT09IHRydWUgPyByYXdOZWVkbGVQYXRocyA6ICcnKTsKICAgIGlmICggc3RhY2tOZWVkbGVEZXRhaWxzLm1hdGNoQWxsICE9PSB0cnVlICkgewogICAgICAgIGlmICggbWF0Y2hlc1N0YWNrVHJhY2Uoc3RhY2tOZWVkbGVEZXRhaWxzLCBleHRyYUFyZ3MubG9nc3RhY2spID09PSBmYWxzZSApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyA9PT0gdW5kZWZpbmVkICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPSAocm9vdCwgbmVlZGxlUGF0aHMpID0+IHsKICAgICAgICAgICAgZm9yICggY29uc3QgbmVlZGxlUGF0aCBvZiBuZWVkbGVQYXRocyApIHsKICAgICAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ocm9vdCwgbmVlZGxlUGF0aCkgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbiA9IChqc29uLCBtc2csIHJlTmVlZGxlKSA9PiB7CiAgICAgICAgICAgIGlmICggcmVOZWVkbGUudGVzdChqc29uKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBzYWZlU2VsZigpLnVib0xvZyhgb2JqZWN0UHJ1bmUoKWAsIG1zZywgbG9jYXRpb24uaG9zdG5hbWUsIGpzb24pOwogICAgICAgIH07CiAgICB9CiAgICBjb25zdCBqc29uQmVmb3JlID0gbG9nTGV2ZWwgPyBzYWZlLkpTT05fc3RyaW5naWZ5KG9iaiwgbnVsbCwgMikgOiAnJzsKICAgIGlmICggbG9nTGV2ZWwgPT09IHRydWUgfHwgbG9nTGV2ZWwgPT09ICdhbGwnICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbihqc29uQmVmb3JlLCBgcHJ1bmU6IiR7cmF3UHJ1bmVQYXRoc30iIGxvZzoiJHtsb2dMZXZlbH0iYCwgcmVMb2dOZWVkbGUpOwogICAgfQogICAgaWYgKCBwcnVuZVBhdGhzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICBsZXQgb3V0Y29tZSA9ICdub21hdGNoJzsKICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyhvYmosIG5lZWRsZVBhdGhzKSApIHsKICAgICAgICBmb3IgKCBjb25zdCBwYXRoIG9mIHBydW5lUGF0aHMgKSB7CiAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ob2JqLCBwYXRoLCB0cnVlKSApIHsKICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbWF0Y2gnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgaWYgKCBsb2dMZXZlbCA9PT0gb3V0Y29tZSApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggb3V0Y29tZSA9PT0gJ21hdGNoJyApIHsgcmV0dXJuIG9iajsgfQp9CmZ1bmN0aW9uIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgLi4ub2JqcykgewogICAgaWYgKCBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPSAoc3JjLCBkZXMsIHByb3BzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IHAgb2YgcHJvcHMgKSB7CiAgICAgICAgICAgICAgICBjb25zdCB2ID0gc3JjW3BdOwogICAgICAgICAgICAgICAgaWYgKCB2ID09PSB1bmRlZmluZWQgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBkZXNbcF0gPSBzcmNbcF07CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBoYXlzdGFjayA9IHt9OwogICAgY29uc3QgcHJvcHMgPSBzYWZlLkFycmF5X2Zyb20ocHJvcE5lZWRsZXMua2V5cygpKTsKICAgIGZvciAoIGNvbnN0IG9iaiBvZiBvYmpzICkgewogICAgICAgIGlmICggb2JqIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMob2JqLCBoYXlzdGFjaywgcHJvcHMpOwogICAgfQogICAgZm9yICggY29uc3QgWyBwcm9wLCBkZXRhaWxzIF0gb2YgcHJvcE5lZWRsZXMgKSB7CiAgICAgICAgbGV0IHZhbHVlID0gaGF5c3RhY2tbcHJvcF07CiAgICAgICAgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyApIHsKICAgICAgICAgICAgdHJ5IHsgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7IH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsgfQogICAgICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgfQogICAgICAgIGlmICggc2FmZS50ZXN0UGF0dGVybihkZXRhaWxzLCB2YWx1ZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KZnVuY3Rpb24ganNvblBydW5lRmV0Y2hSZXNwb25zZUZuKAogICAgcmF3UHJ1bmVQYXRocyA9ICcnLAogICAgcmF3TmVlZGxlUGF0aHMgPSAnJwopIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAyKTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKHsgbG9nOiByYXdQcnVuZVBhdGhzID09PSAnJyB8fCBleHRyYUFyZ3MubG9nLCB9KTsKICAgIGNvbnN0IGxvZyA9IGxvZ0xldmVsID8gKCguLi5hcmdzKSA9PiB7IHNhZmUudWJvTG9nKC4uLmFyZ3MpOyB9KSA6ICgoICkgPT4geyB9KTsgCiAgICBjb25zdCBwcm9wTmVlZGxlcyA9IHBhcnNlUHJvcGVydGllc1RvTWF0Y2goZXh0cmFBcmdzLnByb3BzVG9NYXRjaCwgJ3VybCcpOwogICAgY29uc3Qgc3RhY2tOZWVkbGUgPSBzYWZlLmluaXRQYXR0ZXJuKGV4dHJhQXJncy5zdGFja1RvTWF0Y2ggfHwgJycsIHsgY2FuTmVnYXRlOiB0cnVlIH0pOwogICAgY29uc3QgYXBwbHlIYW5kbGVyID0gZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgY29uc3QgZmV0Y2hQcm9taXNlID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgIGlmICggbG9nTGV2ZWwgPT09IHRydWUgKSB7CiAgICAgICAgICAgIGxvZygnanNvbi1wcnVuZS1mZXRjaC1yZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGFyZ3MpKS5zbGljZSgxLC0xKSk7CiAgICAgICAgfQogICAgICAgIGlmICggcmF3UHJ1bmVQYXRocyA9PT0gJycgKSB7IHJldHVybiBmZXRjaFByb21pc2U7IH0KICAgICAgICBsZXQgb3V0Y29tZSA9ICdtYXRjaCc7CiAgICAgICAgaWYgKCBwcm9wTmVlZGxlcy5zaXplICE9PSAwICkgewogICAgICAgICAgICBjb25zdCBvYmpzID0gWyBhcmdzWzBdIGluc3RhbmNlb2YgT2JqZWN0ID8gYXJnc1swXSA6IHsgdXJsOiBhcmdzWzBdIH0gXTsKICAgICAgICAgICAgaWYgKCBvYmpzWzBdIGluc3RhbmNlb2YgUmVxdWVzdCApIHsKICAgICAgICAgICAgICAgIHRyeSB7IG9ianNbMF0gPSBzYWZlLlJlcXVlc3RfY2xvbmUuY2FsbChvYmpzWzBdKTsgfQogICAgICAgICAgICAgICAgY2F0Y2goZXgpIHsgbG9nKGV4KTsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggYXJnc1sxXSBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgIG9ianMucHVzaChhcmdzWzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgLi4ub2JqcykgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgb3V0Y29tZSA9ICdub21hdGNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09IGxvZ0xldmVsIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgIGxvZygKICAgICAgICAgICAgICAgICAgICBganNvbi1wcnVuZS1mZXRjaC1yZXNwb25zZSAoJHtvdXRjb21lfSlgLAogICAgICAgICAgICAgICAgICAgIGBcblx0ZmV0Y2hQcm9wc1RvTWF0Y2g6ICR7SlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShwcm9wTmVlZGxlcykpLnNsaWNlKDEsLTEpfWAsCiAgICAgICAgICAgICAgICAgICAgJ1xuXHRwcm9wczonLCAuLi5vYmpzLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIG91dGNvbWUgPT09ICdub21hdGNoJyApIHsgcmV0dXJuIGZldGNoUHJvbWlzZTsgfQogICAgICAgIHJldHVybiBmZXRjaFByb21pc2UudGhlbihyZXNwb25zZUJlZm9yZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzcG9uc2VCZWZvcmUuY2xvbmUoKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKG9iakJlZm9yZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBvYmpCZWZvcmUgIT09ICdvYmplY3QnICkgeyByZXR1cm4gcmVzcG9uc2VCZWZvcmU7IH0KICAgICAgICAgICAgICAgIGNvbnN0IG9iakFmdGVyID0gb2JqZWN0UHJ1bmVGbigKICAgICAgICAgICAgICAgICAgICBvYmpCZWZvcmUsCiAgICAgICAgICAgICAgICAgICAgcmF3UHJ1bmVQYXRocywKICAgICAgICAgICAgICAgICAgICByYXdOZWVkbGVQYXRocywKICAgICAgICAgICAgICAgICAgICBzdGFja05lZWRsZSwKICAgICAgICAgICAgICAgICAgICBleHRyYUFyZ3MKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBvYmpBZnRlciAhPT0gJ29iamVjdCcgKSB7IHJldHVybiByZXNwb25zZUJlZm9yZTsgfQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VBZnRlciA9IFJlc3BvbnNlLmpzb24ob2JqQWZ0ZXIsIHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlQmVmb3JlLnN0YXR1cywKICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZUJlZm9yZS5zdGF0dXNUZXh0LAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlQmVmb3JlLmhlYWRlcnMsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHJlc3BvbnNlQWZ0ZXIsIHsKICAgICAgICAgICAgICAgICAgICBvazogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUub2sgfSwKICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkOiB7IHZhbHVlOiByZXNwb25zZUJlZm9yZS5yZWRpcmVjdGVkIH0sCiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUudHlwZSB9LAogICAgICAgICAgICAgICAgICAgIHVybDogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUudXJsIH0sCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZUFmdGVyOwogICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4gewogICAgICAgICAgICAgICAgbG9nKCdqc29uLXBydW5lLWZldGNoLXJlc3BvbnNlOicsIHJlYXNvbik7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VCZWZvcmU7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7CiAgICAgICAgICAgIGxvZygnanNvbi1wcnVuZS1mZXRjaC1yZXNwb25zZTonLCByZWFzb24pOwogICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm9taXNlOwogICAgICAgIH0pOwogICAgfTsKICAgIHNlbGYuZmV0Y2ggPSBuZXcgUHJveHkoc2VsZi5mZXRjaCwgewogICAgICAgIGFwcGx5OiBhcHBseUhhbmRsZXIKICAgIH0pOwp9CgogIChmdW5jdGlvbiBqc29uUHJ1bmVGZXRjaFJlc3BvbnNlKC4uLmFyZ3MpIHsKICAgIGpzb25QcnVuZUZldGNoUmVzcG9uc2VGbiguLi5hcmdzKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"json-prune-xhr-response.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIG9iamVjdEZpbmRPd25lckZuKAogICAgcm9vdCwKICAgIHBhdGgsCiAgICBwcnVuZSA9IGZhbHNlCikgewogICAgbGV0IG93bmVyID0gcm9vdDsKICAgIGxldCBjaGFpbiA9IHBhdGg7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgaWYgKCB0eXBlb2Ygb3duZXIgIT09ICdvYmplY3QnIHx8IG93bmVyID09PSBudWxsICApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsKICAgICAgICAgICAgaWYgKCBwcnVuZSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3duZXIuaGFzT3duUHJvcGVydHkoY2hhaW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoIGNoYWluID09PSAnKicgKSB7CiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgaW4gb3duZXIgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShrZXkpID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJba2V5XTsKICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKSApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvd25lcltjaGFpbl07CiAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1vZGlmaWVkOwogICAgICAgIH0KICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICBpZiAoCiAgICAgICAgICAgIHByb3AgPT09ICdbXScgJiYgQXJyYXkuaXNBcnJheShvd25lcikgfHwKICAgICAgICAgICAgcHJvcCA9PT0gJyonICYmIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0CiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjaGFpbi5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvd25lcikgKSB7CiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdEZpbmRPd25lckZuKG93bmVyW2tleV0sIG5leHQsIHBydW5lKSB8fCBmb3VuZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkocHJvcCkgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBvd25lciA9IG93bmVyW3Byb3BdOwogICAgICAgIGNoYWluID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQpmdW5jdGlvbiBtYXRjaGVzU3RhY2tUcmFjZSgKICAgIG5lZWRsZURldGFpbHMsCiAgICBsb2dMZXZlbCA9IDAKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGVycm9yID0gbmV3IHNhZmUuRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgY29uc3QgZG9jVVJMID0gbmV3IFVSTChzZWxmLmxvY2F0aW9uLmhyZWYpOwogICAgZG9jVVJMLmhhc2ggPSAnJzsKICAgIC8vIE5vcm1hbGl6ZSBzdGFjayB0cmFjZQogICAgY29uc3QgcmVMaW5lID0gLyguKj9AKT8oXFMrKSg6XGQrKTpcZCtcKT8kLzsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBmb3IgKCBsZXQgbGluZSBvZiBlcnJvci5zdGFjay5zcGxpdCgvW1xuXHJdKy8pICkgewogICAgICAgIGlmICggbGluZS5pbmNsdWRlcyhleGNlcHRpb25Ub2tlbikgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpOwogICAgICAgIGNvbnN0IG1hdGNoID0gc2FmZS5SZWdFeHBfZXhlYy5jYWxsKHJlTGluZSwgbGluZSk7CiAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsgY29udGludWU7IH0KICAgICAgICBsZXQgdXJsID0gbWF0Y2hbMl07CiAgICAgICAgaWYgKCB1cmwuc3RhcnRzV2l0aCgnKCcpICkgeyB1cmwgPSB1cmwuc2xpY2UoMSk7IH0KICAgICAgICBpZiAoIHVybCA9PT0gZG9jVVJMLmhyZWYgKSB7CiAgICAgICAgICAgIHVybCA9ICdpbmxpbmVTY3JpcHQnOwogICAgICAgIH0gZWxzZSBpZiAoIHVybC5zdGFydHNXaXRoKCc8YW5vbnltb3VzPicpICkgewogICAgICAgICAgICB1cmwgPSAnaW5qZWN0ZWRTY3JpcHQnOwogICAgICAgIH0KICAgICAgICBsZXQgZm4gPSBtYXRjaFsxXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gbWF0Y2hbMV0uc2xpY2UoMCwgLTEpCiAgICAgICAgICAgIDogbGluZS5zbGljZSgwLCBtYXRjaC5pbmRleCkudHJpbSgpOwogICAgICAgIGlmICggZm4uc3RhcnRzV2l0aCgnYXQnKSApIHsgZm4gPSBmbi5zbGljZSgyKS50cmltKCk7IH0KICAgICAgICBsZXQgcm93Y29sID0gbWF0Y2hbM107CiAgICAgICAgbGluZXMucHVzaCgnICcgKyBgJHtmbn0gJHt1cmx9JHtyb3djb2x9OjFgLnRyaW0oKSk7CiAgICB9CiAgICBsaW5lc1swXSA9IGBzdGFja0RlcHRoOiR7bGluZXMubGVuZ3RoLTF9YDsKICAgIGNvbnN0IHN0YWNrID0gbGluZXMuam9pbignXHQnKTsKICAgIGNvbnN0IHIgPSBzYWZlLnRlc3RQYXR0ZXJuKG5lZWRsZURldGFpbHMsIHN0YWNrKTsKICAgIGlmICgKICAgICAgICBsb2dMZXZlbCA9PT0gMSB8fAogICAgICAgIGxvZ0xldmVsID09PSAyICYmIHIgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMyAmJiAhcgogICAgKSB7CiAgICAgICAgc2FmZS51Ym9Mb2coc3RhY2sucmVwbGFjZSgvXHQvZywgJ1xuJykpOwogICAgfQogICAgcmV0dXJuIHI7Cn0KZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gcGFyc2VQcm9wZXJ0aWVzVG9NYXRjaChwcm9wc1RvTWF0Y2gsIGltcGxpY2l0ID0gJycpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlcyA9IG5ldyBNYXAoKTsKICAgIGlmICggcHJvcHNUb01hdGNoID09PSB1bmRlZmluZWQgfHwgcHJvcHNUb01hdGNoID09PSAnJyApIHsgcmV0dXJuIG5lZWRsZXM7IH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IGNhbk5lZ2F0ZTogdHJ1ZSB9OwogICAgZm9yICggY29uc3QgbmVlZGxlIG9mIHByb3BzVG9NYXRjaC5zcGxpdCgvXHMrLykgKSB7CiAgICAgICAgY29uc3QgWyBwcm9wLCBwYXR0ZXJuIF0gPSBuZWVkbGUuc3BsaXQoJzonKTsKICAgICAgICBpZiAoIHByb3AgPT09ICcnICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggcGF0dGVybiAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICBuZWVkbGVzLnNldChwcm9wLCBzYWZlLmluaXRQYXR0ZXJuKHBhdHRlcm4sIG9wdGlvbnMpKTsKICAgICAgICB9IGVsc2UgaWYgKCBpbXBsaWNpdCAhPT0gJycgKSB7CiAgICAgICAgICAgIG5lZWRsZXMuc2V0KGltcGxpY2l0LCBzYWZlLmluaXRQYXR0ZXJuKHByb3AsIG9wdGlvbnMpKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmVlZGxlczsKfQpmdW5jdGlvbiBvYmplY3RQcnVuZUZuKAogICAgb2JqLAogICAgcmF3UHJ1bmVQYXRocywKICAgIHJhd05lZWRsZVBhdGhzLAogICAgc3RhY2tOZWVkbGVEZXRhaWxzID0geyBtYXRjaEFsbDogdHJ1ZSB9LAogICAgZXh0cmFBcmdzID0ge30KKSB7CiAgICBpZiAoIHR5cGVvZiByYXdQcnVuZVBhdGhzICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHBydW5lUGF0aHMgPSByYXdQcnVuZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3UHJ1bmVQYXRocy5zcGxpdCgvICsvKQogICAgICAgIDogW107CiAgICBjb25zdCBuZWVkbGVQYXRocyA9IHBydW5lUGF0aHMubGVuZ3RoICE9PSAwICYmIHJhd05lZWRsZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3TmVlZGxlUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbG9nTGV2ZWwgPSBzaG91bGRMb2coeyBsb2c6IHJhd1BydW5lUGF0aHMgPT09ICcnIHx8IGV4dHJhQXJncy5sb2cgfSk7CiAgICBjb25zdCByZUxvZ05lZWRsZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobG9nTGV2ZWwgPT09IHRydWUgPyByYXdOZWVkbGVQYXRocyA6ICcnKTsKICAgIGlmICggc3RhY2tOZWVkbGVEZXRhaWxzLm1hdGNoQWxsICE9PSB0cnVlICkgewogICAgICAgIGlmICggbWF0Y2hlc1N0YWNrVHJhY2Uoc3RhY2tOZWVkbGVEZXRhaWxzLCBleHRyYUFyZ3MubG9nc3RhY2spID09PSBmYWxzZSApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyA9PT0gdW5kZWZpbmVkICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPSAocm9vdCwgbmVlZGxlUGF0aHMpID0+IHsKICAgICAgICAgICAgZm9yICggY29uc3QgbmVlZGxlUGF0aCBvZiBuZWVkbGVQYXRocyApIHsKICAgICAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ocm9vdCwgbmVlZGxlUGF0aCkgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbiA9IChqc29uLCBtc2csIHJlTmVlZGxlKSA9PiB7CiAgICAgICAgICAgIGlmICggcmVOZWVkbGUudGVzdChqc29uKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBzYWZlU2VsZigpLnVib0xvZyhgb2JqZWN0UHJ1bmUoKWAsIG1zZywgbG9jYXRpb24uaG9zdG5hbWUsIGpzb24pOwogICAgICAgIH07CiAgICB9CiAgICBjb25zdCBqc29uQmVmb3JlID0gbG9nTGV2ZWwgPyBzYWZlLkpTT05fc3RyaW5naWZ5KG9iaiwgbnVsbCwgMikgOiAnJzsKICAgIGlmICggbG9nTGV2ZWwgPT09IHRydWUgfHwgbG9nTGV2ZWwgPT09ICdhbGwnICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbihqc29uQmVmb3JlLCBgcHJ1bmU6IiR7cmF3UHJ1bmVQYXRoc30iIGxvZzoiJHtsb2dMZXZlbH0iYCwgcmVMb2dOZWVkbGUpOwogICAgfQogICAgaWYgKCBwcnVuZVBhdGhzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICBsZXQgb3V0Y29tZSA9ICdub21hdGNoJzsKICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyhvYmosIG5lZWRsZVBhdGhzKSApIHsKICAgICAgICBmb3IgKCBjb25zdCBwYXRoIG9mIHBydW5lUGF0aHMgKSB7CiAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ob2JqLCBwYXRoLCB0cnVlKSApIHsKICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbWF0Y2gnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgaWYgKCBsb2dMZXZlbCA9PT0gb3V0Y29tZSApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggb3V0Y29tZSA9PT0gJ21hdGNoJyApIHsgcmV0dXJuIG9iajsgfQp9CmZ1bmN0aW9uIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgLi4ub2JqcykgewogICAgaWYgKCBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPSAoc3JjLCBkZXMsIHByb3BzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IHAgb2YgcHJvcHMgKSB7CiAgICAgICAgICAgICAgICBjb25zdCB2ID0gc3JjW3BdOwogICAgICAgICAgICAgICAgaWYgKCB2ID09PSB1bmRlZmluZWQgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBkZXNbcF0gPSBzcmNbcF07CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBoYXlzdGFjayA9IHt9OwogICAgY29uc3QgcHJvcHMgPSBzYWZlLkFycmF5X2Zyb20ocHJvcE5lZWRsZXMua2V5cygpKTsKICAgIGZvciAoIGNvbnN0IG9iaiBvZiBvYmpzICkgewogICAgICAgIGlmICggb2JqIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMob2JqLCBoYXlzdGFjaywgcHJvcHMpOwogICAgfQogICAgZm9yICggY29uc3QgWyBwcm9wLCBkZXRhaWxzIF0gb2YgcHJvcE5lZWRsZXMgKSB7CiAgICAgICAgbGV0IHZhbHVlID0gaGF5c3RhY2tbcHJvcF07CiAgICAgICAgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyApIHsKICAgICAgICAgICAgdHJ5IHsgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7IH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsgfQogICAgICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgfQogICAgICAgIGlmICggc2FmZS50ZXN0UGF0dGVybihkZXRhaWxzLCB2YWx1ZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCiAgKGZ1bmN0aW9uIGpzb25QcnVuZVhoclJlc3BvbnNlKAogICAgcmF3UHJ1bmVQYXRocyA9ICcnLAogICAgcmF3TmVlZGxlUGF0aHMgPSAnJwopIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgeGhySW5zdGFuY2VzID0gbmV3IFdlYWtNYXAoKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMik7CiAgICBjb25zdCBsb2dMZXZlbCA9IHNob3VsZExvZyh7IGxvZzogcmF3UHJ1bmVQYXRocyA9PT0gJycgfHwgZXh0cmFBcmdzLmxvZywgfSk7CiAgICBjb25zdCBsb2cgPSBsb2dMZXZlbCA/ICgoLi4uYXJncykgPT4geyBzYWZlLnVib0xvZyguLi5hcmdzKTsgfSkgOiAoKCApID0+IHsgfSk7IAogICAgY29uc3QgcHJvcE5lZWRsZXMgPSBwYXJzZVByb3BlcnRpZXNUb01hdGNoKGV4dHJhQXJncy5wcm9wc1RvTWF0Y2gsICd1cmwnKTsKICAgIGNvbnN0IHN0YWNrTmVlZGxlID0gc2FmZS5pbml0UGF0dGVybihleHRyYUFyZ3Muc3RhY2tUb01hdGNoIHx8ICcnLCB7IGNhbk5lZ2F0ZTogdHJ1ZSB9KTsKICAgIHNlbGYuWE1MSHR0cFJlcXVlc3QgPSBjbGFzcyBleHRlbmRzIHNlbGYuWE1MSHR0cFJlcXVlc3QgewogICAgICAgIG9wZW4obWV0aG9kLCB1cmwsIC4uLmFyZ3MpIHsKICAgICAgICAgICAgY29uc3QgeGhyRGV0YWlscyA9IHsgbWV0aG9kLCB1cmwgfTsKICAgICAgICAgICAgbGV0IG91dGNvbWUgPSAnbWF0Y2gnOwogICAgICAgICAgICBpZiAoIHByb3BOZWVkbGVzLnNpemUgIT09IDAgKSB7CiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgeGhyRGV0YWlscykgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCBvdXRjb21lID09PSBsb2dMZXZlbCB8fCBvdXRjb21lID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgIGxvZyhgeGhyLm9wZW4oJHttZXRob2R9LCAke3VybH0sICR7YXJncy5qb2luKCcsICcpfSlgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09ICdtYXRjaCcgKSB7CiAgICAgICAgICAgICAgICB4aHJJbnN0YW5jZXMuc2V0KHRoaXMsIHhockRldGFpbHMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdXBlci5vcGVuKG1ldGhvZCwgdXJsLCAuLi5hcmdzKTsKICAgICAgICB9CiAgICAgICAgZ2V0IHJlc3BvbnNlKCkgewogICAgICAgICAgICBjb25zdCBpbm5lclJlc3BvbnNlID0gc3VwZXIucmVzcG9uc2U7CiAgICAgICAgICAgIGNvbnN0IHhockRldGFpbHMgPSB4aHJJbnN0YW5jZXMuZ2V0KHRoaXMpOwogICAgICAgICAgICBpZiAoIHhockRldGFpbHMgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbm5lclJlc3BvbnNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlTGVuZ3RoID0gdHlwZW9mIGlubmVyUmVzcG9uc2UgPT09ICdzdHJpbmcnCiAgICAgICAgICAgICAgICA/IGlubmVyUmVzcG9uc2UubGVuZ3RoCiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgaWYgKCB4aHJEZXRhaWxzLmxhc3RSZXNwb25zZUxlbmd0aCAhPT0gcmVzcG9uc2VMZW5ndGggKSB7CiAgICAgICAgICAgICAgICB4aHJEZXRhaWxzLnJlc3BvbnNlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgeGhyRGV0YWlscy5sYXN0UmVzcG9uc2VMZW5ndGggPSByZXNwb25zZUxlbmd0aDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIHhockRldGFpbHMucmVzcG9uc2UgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB4aHJEZXRhaWxzLnJlc3BvbnNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBvYmpCZWZvcmU7CiAgICAgICAgICAgIGlmICggdHlwZW9mIGlubmVyUmVzcG9uc2UgPT09ICdvYmplY3QnICkgewogICAgICAgICAgICAgICAgb2JqQmVmb3JlID0gaW5uZXJSZXNwb25zZTsKICAgICAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIGlubmVyUmVzcG9uc2UgPT09ICdzdHJpbmcnICkgewogICAgICAgICAgICAgICAgdHJ5IHsgb2JqQmVmb3JlID0gc2FmZS5KU09OX3BhcnNlKGlubmVyUmVzcG9uc2UpOyB9CiAgICAgICAgICAgICAgICBjYXRjaChleCkgeyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCB0eXBlb2Ygb2JqQmVmb3JlICE9PSAnb2JqZWN0JyApIHsKICAgICAgICAgICAgICAgIHJldHVybiAoeGhyRGV0YWlscy5yZXNwb25zZSA9IGlubmVyUmVzcG9uc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG9iakFmdGVyID0gb2JqZWN0UHJ1bmVGbigKICAgICAgICAgICAgICAgIG9iakJlZm9yZSwKICAgICAgICAgICAgICAgIHJhd1BydW5lUGF0aHMsCiAgICAgICAgICAgICAgICByYXdOZWVkbGVQYXRocywKICAgICAgICAgICAgICAgIHN0YWNrTmVlZGxlLAogICAgICAgICAgICAgICAgZXh0cmFBcmdzCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGxldCBvdXRlclJlc3BvbnNlOwogICAgICAgICAgICBpZiAoIHR5cGVvZiBvYmpBZnRlciA9PT0gJ29iamVjdCcgKSB7CiAgICAgICAgICAgICAgICBvdXRlclJlc3BvbnNlID0gdHlwZW9mIGlubmVyUmVzcG9uc2UgPT09ICdzdHJpbmcnCiAgICAgICAgICAgICAgICAgICAgPyBzYWZlLkpTT05fc3RyaW5naWZ5KG9iakFmdGVyKQogICAgICAgICAgICAgICAgICAgIDogb2JqQWZ0ZXI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvdXRlclJlc3BvbnNlID0gaW5uZXJSZXNwb25zZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKHhockRldGFpbHMucmVzcG9uc2UgPSBvdXRlclJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgICAgZ2V0IHJlc3BvbnNlVGV4dCgpIHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlOwogICAgICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlICE9PSAnc3RyaW5nJwogICAgICAgICAgICAgICAgPyBzdXBlci5yZXNwb25zZVRleHQKICAgICAgICAgICAgICAgIDogcmVzcG9uc2U7CiAgICAgICAgfQogICAgfTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"evaldata-prune.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIHNob3VsZExvZyhkZXRhaWxzKSB7CiAgICBpZiAoIGRldGFpbHMgaW5zdGFuY2VvZiBPYmplY3QgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSAmJiBkZXRhaWxzLmxvZzsKfQpmdW5jdGlvbiBzYWZlU2VsZigpIHsKICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ3NhZmVTZWxmJykgKSB7CiAgICAgICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuZ2V0KCdzYWZlU2VsZicpOwogICAgfQogICAgY29uc3Qgc2VsZiA9IGdsb2JhbFRoaXM7CiAgICBjb25zdCBzYWZlID0gewogICAgICAgICdBcnJheV9mcm9tJzogQXJyYXkuZnJvbSwKICAgICAgICAnRXJyb3InOiBzZWxmLkVycm9yLAogICAgICAgICdNYXRoX2Zsb29yJzogTWF0aC5mbG9vciwKICAgICAgICAnTWF0aF9yYW5kb20nOiBNYXRoLnJhbmRvbSwKICAgICAgICAnT2JqZWN0X2RlZmluZVByb3BlcnR5JzogT2JqZWN0LmRlZmluZVByb3BlcnR5LmJpbmQoT2JqZWN0KSwKICAgICAgICAnUmVnRXhwJzogc2VsZi5SZWdFeHAsCiAgICAgICAgJ1JlZ0V4cF90ZXN0Jzogc2VsZi5SZWdFeHAucHJvdG90eXBlLnRlc3QsCiAgICAgICAgJ1JlZ0V4cF9leGVjJzogc2VsZi5SZWdFeHAucHJvdG90eXBlLmV4ZWMsCiAgICAgICAgJ1JlcXVlc3RfY2xvbmUnOiBzZWxmLlJlcXVlc3QucHJvdG90eXBlLmNsb25lLAogICAgICAgICdYTUxIdHRwUmVxdWVzdCc6IHNlbGYuWE1MSHR0cFJlcXVlc3QsCiAgICAgICAgJ2FkZEV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyLAogICAgICAgICdyZW1vdmVFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciwKICAgICAgICAnZmV0Y2gnOiBzZWxmLmZldGNoLAogICAgICAgICdKU09OJzogc2VsZi5KU09OLAogICAgICAgICdKU09OX3BhcnNlRm4nOiBzZWxmLkpTT04ucGFyc2UsCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5Rm4nOiBzZWxmLkpTT04uc3RyaW5naWZ5LAogICAgICAgICdKU09OX3BhcnNlJzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9wYXJzZUZuLmNhbGwoc2FmZS5KU09OLCAuLi5hcmdzKSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnknOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3N0cmluZ2lmeUZuLmNhbGwoc2FmZS5KU09OLCAuLi5hcmdzKSwKICAgICAgICAnbG9nJzogY29uc29sZS5sb2cuYmluZChjb25zb2xlKSwKICAgICAgICB1Ym9Mb2coLi4uYXJncykgewogICAgICAgICAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYXJncy5sZW5ndGggPT09IDAgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGAke2FyZ3NbMF19YCA9PT0gJycgKSB7IHJldHVybjsgfQogICAgICAgICAgICB0aGlzLmxvZygnW3VCT10nLCAuLi5hcmdzKTsKICAgICAgICB9LAogICAgICAgIGluaXRQYXR0ZXJuKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsgbWF0Y2hBbGw6IHRydWUgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBleHBlY3QgPSAob3B0aW9ucy5jYW5OZWdhdGUgIT09IHRydWUgfHwgcGF0dGVybi5zdGFydHNXaXRoKCchJykgPT09IGZhbHNlKTsKICAgICAgICAgICAgaWYgKCBleHBlY3QgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc2xpY2UoMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggIT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHBhdHRlcm4sCiAgICAgICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cCgKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdIHx8IG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGV4cGVjdCwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4sCiAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKHBhdHRlcm4ucmVwbGFjZSgKICAgICAgICAgICAgICAgICAgICAvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyksCiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGV4cGVjdCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIHRlc3RQYXR0ZXJuKGRldGFpbHMsIGhheXN0YWNrKSB7CiAgICAgICAgICAgIGlmICggZGV0YWlscy5tYXRjaEFsbCApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVnRXhwX3Rlc3QuY2FsbChkZXRhaWxzLnJlLCBoYXlzdGFjaykgPT09IGRldGFpbHMuZXhwZWN0OwogICAgICAgIH0sCiAgICAgICAgcGF0dGVyblRvUmVnZXgocGF0dGVybiwgZmxhZ3MgPSB1bmRlZmluZWQsIHZlcmJhdGltID0gZmFsc2UpIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsgcmV0dXJuIC9eLzsgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlU3RyID0gcGF0dGVybi5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKTsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHZlcmJhdGltID8gYF4ke3JlU3RyfSRgIDogcmVTdHIsIGZsYWdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdIHx8IGZsYWdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAvXi87CiAgICAgICAgfSwKICAgICAgICBnZXRFeHRyYUFyZ3MoYXJncywgb2Zmc2V0ID0gMCkgewogICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gYXJncy5zbGljZShvZmZzZXQpLnJlZHVjZSgob3V0LCB2LCBpLCBhKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIChpICYgMSkgPT09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3VmFsdWUgPSBhW2krMV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAvXlxkKyQvLnRlc3QocmF3VmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VJbnQocmF3VmFsdWUsIDEwKQogICAgICAgICAgICAgICAgICAgICAgICA6IHJhd1ZhbHVlOwogICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFsgYVtpXSwgdmFsdWUgXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gb3V0OwogICAgICAgICAgICB9LCBbXSk7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcyk7CiAgICAgICAgfSwKICAgIH07CiAgICBzY3JpcHRsZXRHbG9iYWxzLnNldCgnc2FmZVNlbGYnLCBzYWZlKTsKICAgIHJldHVybiBzYWZlOwp9CmZ1bmN0aW9uIG9iamVjdEZpbmRPd25lckZuKAogICAgcm9vdCwKICAgIHBhdGgsCiAgICBwcnVuZSA9IGZhbHNlCikgewogICAgbGV0IG93bmVyID0gcm9vdDsKICAgIGxldCBjaGFpbiA9IHBhdGg7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgaWYgKCB0eXBlb2Ygb3duZXIgIT09ICdvYmplY3QnIHx8IG93bmVyID09PSBudWxsICApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsKICAgICAgICAgICAgaWYgKCBwcnVuZSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3duZXIuaGFzT3duUHJvcGVydHkoY2hhaW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoIGNoYWluID09PSAnKicgKSB7CiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgaW4gb3duZXIgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShrZXkpID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJba2V5XTsKICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKSApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvd25lcltjaGFpbl07CiAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1vZGlmaWVkOwogICAgICAgIH0KICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICBpZiAoCiAgICAgICAgICAgIHByb3AgPT09ICdbXScgJiYgQXJyYXkuaXNBcnJheShvd25lcikgfHwKICAgICAgICAgICAgcHJvcCA9PT0gJyonICYmIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0CiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjaGFpbi5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvd25lcikgKSB7CiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdEZpbmRPd25lckZuKG93bmVyW2tleV0sIG5leHQsIHBydW5lKSB8fCBmb3VuZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkocHJvcCkgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBvd25lciA9IG93bmVyW3Byb3BdOwogICAgICAgIGNoYWluID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQpmdW5jdGlvbiBtYXRjaGVzU3RhY2tUcmFjZSgKICAgIG5lZWRsZURldGFpbHMsCiAgICBsb2dMZXZlbCA9IDAKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGVycm9yID0gbmV3IHNhZmUuRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgY29uc3QgZG9jVVJMID0gbmV3IFVSTChzZWxmLmxvY2F0aW9uLmhyZWYpOwogICAgZG9jVVJMLmhhc2ggPSAnJzsKICAgIC8vIE5vcm1hbGl6ZSBzdGFjayB0cmFjZQogICAgY29uc3QgcmVMaW5lID0gLyguKj9AKT8oXFMrKSg6XGQrKTpcZCtcKT8kLzsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBmb3IgKCBsZXQgbGluZSBvZiBlcnJvci5zdGFjay5zcGxpdCgvW1xuXHJdKy8pICkgewogICAgICAgIGlmICggbGluZS5pbmNsdWRlcyhleGNlcHRpb25Ub2tlbikgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpOwogICAgICAgIGNvbnN0IG1hdGNoID0gc2FmZS5SZWdFeHBfZXhlYy5jYWxsKHJlTGluZSwgbGluZSk7CiAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsgY29udGludWU7IH0KICAgICAgICBsZXQgdXJsID0gbWF0Y2hbMl07CiAgICAgICAgaWYgKCB1cmwuc3RhcnRzV2l0aCgnKCcpICkgeyB1cmwgPSB1cmwuc2xpY2UoMSk7IH0KICAgICAgICBpZiAoIHVybCA9PT0gZG9jVVJMLmhyZWYgKSB7CiAgICAgICAgICAgIHVybCA9ICdpbmxpbmVTY3JpcHQnOwogICAgICAgIH0gZWxzZSBpZiAoIHVybC5zdGFydHNXaXRoKCc8YW5vbnltb3VzPicpICkgewogICAgICAgICAgICB1cmwgPSAnaW5qZWN0ZWRTY3JpcHQnOwogICAgICAgIH0KICAgICAgICBsZXQgZm4gPSBtYXRjaFsxXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gbWF0Y2hbMV0uc2xpY2UoMCwgLTEpCiAgICAgICAgICAgIDogbGluZS5zbGljZSgwLCBtYXRjaC5pbmRleCkudHJpbSgpOwogICAgICAgIGlmICggZm4uc3RhcnRzV2l0aCgnYXQnKSApIHsgZm4gPSBmbi5zbGljZSgyKS50cmltKCk7IH0KICAgICAgICBsZXQgcm93Y29sID0gbWF0Y2hbM107CiAgICAgICAgbGluZXMucHVzaCgnICcgKyBgJHtmbn0gJHt1cmx9JHtyb3djb2x9OjFgLnRyaW0oKSk7CiAgICB9CiAgICBsaW5lc1swXSA9IGBzdGFja0RlcHRoOiR7bGluZXMubGVuZ3RoLTF9YDsKICAgIGNvbnN0IHN0YWNrID0gbGluZXMuam9pbignXHQnKTsKICAgIGNvbnN0IHIgPSBzYWZlLnRlc3RQYXR0ZXJuKG5lZWRsZURldGFpbHMsIHN0YWNrKTsKICAgIGlmICgKICAgICAgICBsb2dMZXZlbCA9PT0gMSB8fAogICAgICAgIGxvZ0xldmVsID09PSAyICYmIHIgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMyAmJiAhcgogICAgKSB7CiAgICAgICAgc2FmZS51Ym9Mb2coc3RhY2sucmVwbGFjZSgvXHQvZywgJ1xuJykpOwogICAgfQogICAgcmV0dXJuIHI7Cn0KZnVuY3Rpb24gb2JqZWN0UHJ1bmVGbigKICAgIG9iaiwKICAgIHJhd1BydW5lUGF0aHMsCiAgICByYXdOZWVkbGVQYXRocywKICAgIHN0YWNrTmVlZGxlRGV0YWlscyA9IHsgbWF0Y2hBbGw6IHRydWUgfSwKICAgIGV4dHJhQXJncyA9IHt9CikgewogICAgaWYgKCB0eXBlb2YgcmF3UHJ1bmVQYXRocyAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBwcnVuZVBhdGhzID0gcmF3UHJ1bmVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd1BydW5lUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbmVlZGxlUGF0aHMgPSBwcnVuZVBhdGhzLmxlbmd0aCAhPT0gMCAmJiByYXdOZWVkbGVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd05lZWRsZVBhdGhzLnNwbGl0KC8gKy8pCiAgICAgICAgOiBbXTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKHsgbG9nOiByYXdQcnVuZVBhdGhzID09PSAnJyB8fCBleHRyYUFyZ3MubG9nIH0pOwogICAgY29uc3QgcmVMb2dOZWVkbGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KGxvZ0xldmVsID09PSB0cnVlID8gcmF3TmVlZGxlUGF0aHMgOiAnJyk7CiAgICBpZiAoIHN0YWNrTmVlZGxlRGV0YWlscy5tYXRjaEFsbCAhPT0gdHJ1ZSApIHsKICAgICAgICBpZiAoIG1hdGNoZXNTdGFja1RyYWNlKHN0YWNrTmVlZGxlRGV0YWlscywgZXh0cmFBcmdzLmxvZ3N0YWNrKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLm11c3RQcm9jZXNzID0gKHJvb3QsIG5lZWRsZVBhdGhzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IG5lZWRsZVBhdGggb2YgbmVlZGxlUGF0aHMgKSB7CiAgICAgICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKHJvb3QsIG5lZWRsZVBhdGgpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24gPSAoanNvbiwgbXNnLCByZU5lZWRsZSkgPT4gewogICAgICAgICAgICBpZiAoIHJlTmVlZGxlLnRlc3QoanNvbikgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgc2FmZVNlbGYoKS51Ym9Mb2coYG9iamVjdFBydW5lKClgLCBtc2csIGxvY2F0aW9uLmhvc3RuYW1lLCBqc29uKTsKICAgICAgICB9OwogICAgfQogICAgY29uc3QganNvbkJlZm9yZSA9IGxvZ0xldmVsID8gc2FmZS5KU09OX3N0cmluZ2lmeShvYmosIG51bGwsIDIpIDogJyc7CiAgICBpZiAoIGxvZ0xldmVsID09PSB0cnVlIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggcHJ1bmVQYXRocy5sZW5ndGggPT09IDAgKSB7IHJldHVybjsgfQogICAgbGV0IG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3Mob2JqLCBuZWVkbGVQYXRocykgKSB7CiAgICAgICAgZm9yICggY29uc3QgcGF0aCBvZiBwcnVuZVBhdGhzICkgewogICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKG9iaiwgcGF0aCwgdHJ1ZSkgKSB7CiAgICAgICAgICAgICAgICBvdXRjb21lID0gJ21hdGNoJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmICggbG9nTGV2ZWwgPT09IG91dGNvbWUgKSB7CiAgICAgICAgb2JqZWN0UHJ1bmVGbi5sb2dKc29uKGpzb25CZWZvcmUsIGBwcnVuZToiJHtyYXdQcnVuZVBhdGhzfSIgbG9nOiIke2xvZ0xldmVsfSJgLCByZUxvZ05lZWRsZSk7CiAgICB9CiAgICBpZiAoIG91dGNvbWUgPT09ICdtYXRjaCcgKSB7IHJldHVybiBvYmo7IH0KfQoKICAoZnVuY3Rpb24gZXZhbGRhdGFQcnVuZSgKICAgIHJhd1BydW5lUGF0aHMgPSAnJywKICAgIHJhd05lZWRsZVBhdGhzID0gJycKKSB7CiAgICBzZWxmLmV2YWwgPSBuZXcgUHJveHkoc2VsZi5ldmFsLCB7CiAgICAgICAgYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgaWYgKCB0eXBlb2YgYmVmb3JlID09PSAnb2JqZWN0JyApIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gb2JqZWN0UHJ1bmVGbihiZWZvcmUsIHJhd1BydW5lUGF0aHMsIHJhd05lZWRsZVBhdGhzKTsKICAgICAgICAgICAgICAgIHJldHVybiBhZnRlciB8fCBiZWZvcmU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJlZm9yZTsKICAgICAgICB9CiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"adjust-setInterval.js","aliases":["nano-setInterval-booster.js","nano-sib.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gYWRqdXN0U2V0SW50ZXJ2YWwoCiAgICBuZWVkbGVBcmcgPSAnJywKICAgIGRlbGF5QXJnID0gJycsCiAgICBib29zdEFyZyA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgbmVlZGxlQXJnICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHJlTmVlZGxlID0gc2FmZS5wYXR0ZXJuVG9SZWdleChuZWVkbGVBcmcpOwogICAgbGV0IGRlbGF5ID0gZGVsYXlBcmcgIT09ICcqJyA/IHBhcnNlSW50KGRlbGF5QXJnLCAxMCkgOiAtMTsKICAgIGlmICggaXNOYU4oZGVsYXkpIHx8IGlzRmluaXRlKGRlbGF5KSA9PT0gZmFsc2UgKSB7IGRlbGF5ID0gMTAwMDsgfQogICAgbGV0IGJvb3N0ID0gcGFyc2VGbG9hdChib29zdEFyZyk7CiAgICBib29zdCA9IGlzTmFOKGJvb3N0KSA9PT0gZmFsc2UgJiYgaXNGaW5pdGUoYm9vc3QpCiAgICAgICAgPyBNYXRoLm1pbihNYXRoLm1heChib29zdCwgMC4wMDEpLCA1MCkKICAgICAgICA6IDAuMDU7CiAgICBzZWxmLnNldEludGVydmFsID0gbmV3IFByb3h5KHNlbGYuc2V0SW50ZXJ2YWwsIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IFsgYSwgYiBdID0gYXJnczsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgKGRlbGF5ID09PSAtMSB8fCBiID09PSBkZWxheSkgJiYKICAgICAgICAgICAgICAgIHJlTmVlZGxlLnRlc3QoYS50b1N0cmluZygpKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGFyZ3NbMV0gPSBiICogYm9vc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9CiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"adjust-setTimeout.js","aliases":["nano-setTimeout-booster.js","nano-stb.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gYWRqdXN0U2V0VGltZW91dCgKICAgIG5lZWRsZUFyZyA9ICcnLAogICAgZGVsYXlBcmcgPSAnJywKICAgIGJvb3N0QXJnID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiBuZWVkbGVBcmcgIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgcmVOZWVkbGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KG5lZWRsZUFyZyk7CiAgICBsZXQgZGVsYXkgPSBkZWxheUFyZyAhPT0gJyonID8gcGFyc2VJbnQoZGVsYXlBcmcsIDEwKSA6IC0xOwogICAgaWYgKCBpc05hTihkZWxheSkgfHwgaXNGaW5pdGUoZGVsYXkpID09PSBmYWxzZSApIHsgZGVsYXkgPSAxMDAwOyB9CiAgICBsZXQgYm9vc3QgPSBwYXJzZUZsb2F0KGJvb3N0QXJnKTsKICAgIGJvb3N0ID0gaXNOYU4oYm9vc3QpID09PSBmYWxzZSAmJiBpc0Zpbml0ZShib29zdCkKICAgICAgICA/IE1hdGgubWluKE1hdGgubWF4KGJvb3N0LCAwLjAwMSksIDUwKQogICAgICAgIDogMC4wNTsKICAgIHNlbGYuc2V0VGltZW91dCA9IG5ldyBQcm94eShzZWxmLnNldFRpbWVvdXQsIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IFsgYSwgYiBdID0gYXJnczsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgKGRlbGF5ID09PSAtMSB8fCBiID09PSBkZWxheSkgJiYKICAgICAgICAgICAgICAgIHJlTmVlZGxlLnRlc3QoYS50b1N0cmluZygpKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGFyZ3NbMV0gPSBiICogYm9vc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9CiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"noeval-if.js","aliases":["prevent-eval-if.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gbm9FdmFsSWYoCiAgICBuZWVkbGUgPSAnJwopIHsKICAgIGlmICggdHlwZW9mIG5lZWRsZSAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCByZU5lZWRsZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobmVlZGxlKTsKICAgIHdpbmRvdy5ldmFsID0gbmV3IFByb3h5KHdpbmRvdy5ldmFsLCB7ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBjb25zdCBhID0gYXJnc1swXTsKICAgICAgICAgICAgaWYgKCByZU5lZWRsZS50ZXN0KGEudG9TdHJpbmcoKSkgKSB7IHJldHVybjsgfQogICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KHRoaXNBcmcsIGFyZ3MpOwogICAgICAgIH0KICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-fetch-if.js","aliases":["prevent-fetch.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gbm9GZXRjaElmKAogICAgYXJnMSA9ICcnLAopIHsKICAgIGlmICggdHlwZW9mIGFyZzEgIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlcyA9IFtdOwogICAgZm9yICggY29uc3QgY29uZGl0aW9uIG9mIGFyZzEuc3BsaXQoL1xzKy8pICkgewogICAgICAgIGlmICggY29uZGl0aW9uID09PSAnJyApIHsgY29udGludWU7IH0KICAgICAgICBjb25zdCBwb3MgPSBjb25kaXRpb24uaW5kZXhPZignOicpOwogICAgICAgIGxldCBrZXksIHZhbHVlOwogICAgICAgIGlmICggcG9zICE9PSAtMSApIHsKICAgICAgICAgICAga2V5ID0gY29uZGl0aW9uLnNsaWNlKDAsIHBvcyk7CiAgICAgICAgICAgIHZhbHVlID0gY29uZGl0aW9uLnNsaWNlKHBvcyArIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGtleSA9ICd1cmwnOwogICAgICAgICAgICB2YWx1ZSA9IGNvbmRpdGlvbjsKICAgICAgICB9CiAgICAgICAgbmVlZGxlcy5wdXNoKHsga2V5LCByZTogc2FmZS5wYXR0ZXJuVG9SZWdleCh2YWx1ZSkgfSk7CiAgICB9CiAgICBjb25zdCBsb2cgPSBuZWVkbGVzLmxlbmd0aCA9PT0gMCA/IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkgOiB1bmRlZmluZWQ7CiAgICBzZWxmLmZldGNoID0gbmV3IFByb3h5KHNlbGYuZmV0Y2gsIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGxldCBwcm9jZWVkID0gdHJ1ZTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGxldCBkZXRhaWxzOwogICAgICAgICAgICAgICAgaWYgKCBhcmdzWzBdIGluc3RhbmNlb2Ygc2VsZi5SZXF1ZXN0ICkgewogICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBhcmdzWzBdOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gT2JqZWN0LmFzc2lnbih7IHVybDogYXJnc1swXSB9LCBhcmdzWzFdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzID0gbmV3IE1hcCgpOwogICAgICAgICAgICAgICAgZm9yICggY29uc3QgcHJvcCBpbiBkZXRhaWxzICkgewogICAgICAgICAgICAgICAgICAgIGxldCB2ID0gZGV0YWlsc1twcm9wXTsKICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiB2ICE9PSAnc3RyaW5nJyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgdiA9IEpTT04uc3RyaW5naWZ5KHYpOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoKGV4KSB7IH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgdiAhPT0gJ3N0cmluZycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2V0KHByb3AsIHYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCBsb2cgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXQgPSBBcnJheS5mcm9tKHByb3BzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChhID0+IGAke2FbMF19OiR7YVsxXX1gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTsKICAgICAgICAgICAgICAgICAgICBsb2coYHVCTzogZmV0Y2goJHtvdXR9KWApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJvY2VlZCA9IG5lZWRsZXMubGVuZ3RoID09PSAwOwogICAgICAgICAgICAgICAgZm9yICggY29uc3QgeyBrZXksIHJlIH0gb2YgbmVlZGxlcyApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmhhcyhrZXkpID09PSBmYWxzZSB8fAogICAgICAgICAgICAgICAgICAgICAgICByZS50ZXN0KHByb3BzLmdldChrZXkpKSA9PT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBwcm9jZWVkCiAgICAgICAgICAgICAgICA/IFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKQogICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUobmV3IFJlc3BvbnNlKCkpOwogICAgICAgIH0KICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"prevent-refresh.js","aliases":["refresh-defuser.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gcHJldmVudFJlZnJlc2goCiAgICBhcmcxID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiBhcmcxICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBkZWZ1c2UgPSAoICkgPT4gewogICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW2h0dHAtZXF1aXY9InJlZnJlc2giIGldW2NvbnRlbnRdJyk7CiAgICAgICAgaWYgKCBtZXRhID09PSBudWxsICkgeyByZXR1cm47IH0KICAgICAgICBjb25zdCBzID0gYXJnMSA9PT0gJycKICAgICAgICAgICAgPyBtZXRhLmdldEF0dHJpYnV0ZSgnY29udGVudCcpCiAgICAgICAgICAgIDogYXJnMTsKICAgICAgICBjb25zdCBtcyA9IE1hdGgubWF4KHBhcnNlRmxvYXQocykgfHwgMCwgMCkgKiAxMDAwOwogICAgICAgIHNldFRpbWVvdXQoKCApID0+IHsgd2luZG93LnN0b3AoKTsgfSwgbXMpOwogICAgfTsKICAgIHJ1bkF0KCggKSA9PiB7CiAgICAgICAgZGVmdXNlKCk7CiAgICB9LCAnaW50ZXJhY3RpdmUnKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"remove-attr.js","aliases":["ra.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gcmVtb3ZlQXR0cigKICAgIHRva2VuID0gJycsCiAgICBzZWxlY3RvciA9ICcnLAogICAgYmVoYXZpb3IgPSAnJwopIHsKICAgIGlmICggdHlwZW9mIHRva2VuICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHRva2VuID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCB0b2tlbnMgPSB0b2tlbi5zcGxpdCgvXHMqXHxccyovKTsKICAgIGlmICggc2VsZWN0b3IgPT09ICcnICkgewogICAgICAgIHNlbGVjdG9yID0gYFske3Rva2Vucy5qb2luKCddLFsnKX1dYDsKICAgIH0KICAgIGxldCB0aW1lcjsKICAgIGNvbnN0IHJtYXR0ciA9ICggKSA9PiB7CiAgICAgICAgdGltZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKICAgICAgICAgICAgZm9yICggY29uc3Qgbm9kZSBvZiBub2RlcyApIHsKICAgICAgICAgICAgICAgIGZvciAoIGNvbnN0IGF0dHIgb2YgdG9rZW5zICkgewogICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBtdXRhdGlvbkhhbmRsZXIgPSBtdXRhdGlvbnMgPT4gewogICAgICAgIGlmICggdGltZXIgIT09IHVuZGVmaW5lZCApIHsgcmV0dXJuOyB9CiAgICAgICAgbGV0IHNraXAgPSB0cnVlOwogICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGggJiYgc2tpcDsgaSsrICkgewogICAgICAgICAgICBjb25zdCB7IHR5cGUsIGFkZGVkTm9kZXMsIHJlbW92ZWROb2RlcyB9ID0gbXV0YXRpb25zW2ldOwogICAgICAgICAgICBpZiAoIHR5cGUgPT09ICdhdHRyaWJ1dGVzJyApIHsgc2tpcCA9IGZhbHNlOyB9CiAgICAgICAgICAgIGZvciAoIGxldCBqID0gMDsgaiA8IGFkZGVkTm9kZXMubGVuZ3RoICYmIHNraXA7IGorKyApIHsKICAgICAgICAgICAgICAgIGlmICggYWRkZWROb2Rlc1tqXS5ub2RlVHlwZSA9PT0gMSApIHsgc2tpcCA9IGZhbHNlOyBicmVhazsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoIGxldCBqID0gMDsgaiA8IHJlbW92ZWROb2Rlcy5sZW5ndGggJiYgc2tpcDsgaisrICkgewogICAgICAgICAgICAgICAgaWYgKCByZW1vdmVkTm9kZXNbal0ubm9kZVR5cGUgPT09IDEgKSB7IHNraXAgPSBmYWxzZTsgYnJlYWs7IH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIHNraXAgKSB7IHJldHVybjsgfQogICAgICAgIHRpbWVyID0gc2VsZi5yZXF1ZXN0SWRsZUNhbGxiYWNrKHJtYXR0ciwgeyB0aW1lb3V0OiAxNyB9KTsKICAgIH07CiAgICBjb25zdCBzdGFydCA9ICggKSA9PiB7CiAgICAgICAgcm1hdHRyKCk7CiAgICAgICAgaWYgKCAvXGJzdGF5XGIvLnRlc3QoYmVoYXZpb3IpID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbkhhbmRsZXIpOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsKICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiB0b2tlbnMsCiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSwKICAgICAgICB9KTsKICAgIH07CiAgICBydW5BdCgoICkgPT4gewogICAgICAgIHN0YXJ0KCk7CiAgICB9LCAvXGJjb21wbGV0ZVxiLy50ZXN0KGJlaGF2aW9yKSA/ICdpZGxlJyA6ICdpbnRlcmFjdGl2ZScpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"remove-class.js","aliases":["rc.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoCiAgICB0b2tlbiA9ICcnLAogICAgc2VsZWN0b3IgPSAnJywKICAgIGJlaGF2aW9yID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiB0b2tlbiAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgaWYgKCB0b2tlbiA9PT0gJycgKSB7IHJldHVybjsgfQogICAgY29uc3QgY2xhc3NUb2tlbnMgPSB0b2tlbi5zcGxpdCgvXHMqXHxccyovKTsKICAgIGlmICggc2VsZWN0b3IgPT09ICcnICkgewogICAgICAgIHNlbGVjdG9yID0gJy4nICsgY2xhc3NUb2tlbnMubWFwKGEgPT4gQ1NTLmVzY2FwZShhKSkuam9pbignLC4nKTsKICAgIH0KICAgIGNvbnN0IG11c3RTdGF5ID0gL1xic3RheVxiLy50ZXN0KGJlaGF2aW9yKTsKICAgIGxldCB0aW1lcjsKICAgIGNvbnN0IHJtY2xhc3MgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgICAgICAgICBmb3IgKCBjb25zdCBub2RlIG9mIG5vZGVzICkgewogICAgICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzVG9rZW5zKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICB9CiAgICAgICAgaWYgKCBtdXN0U3RheSApIHsgcmV0dXJuOyB9CiAgICAgICAgaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICkgeyByZXR1cm47IH0KICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICB9OwogICAgY29uc3QgbXV0YXRpb25IYW5kbGVyID0gbXV0YXRpb25zID0+IHsKICAgICAgICBpZiAoIHRpbWVyICE9PSB1bmRlZmluZWQgKSB7IHJldHVybjsgfQogICAgICAgIGxldCBza2lwID0gdHJ1ZTsKICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoICYmIHNraXA7IGkrKyApIHsKICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBhZGRlZE5vZGVzLCByZW1vdmVkTm9kZXMgfSA9IG11dGF0aW9uc1tpXTsKICAgICAgICAgICAgaWYgKCB0eXBlID09PSAnYXR0cmlidXRlcycgKSB7IHNraXAgPSBmYWxzZTsgfQogICAgICAgICAgICBmb3IgKCBsZXQgaiA9IDA7IGogPCBhZGRlZE5vZGVzLmxlbmd0aCAmJiBza2lwOyBqKysgKSB7CiAgICAgICAgICAgICAgICBpZiAoIGFkZGVkTm9kZXNbal0ubm9kZVR5cGUgPT09IDEgKSB7IHNraXAgPSBmYWxzZTsgYnJlYWs7IH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKCBsZXQgaiA9IDA7IGogPCByZW1vdmVkTm9kZXMubGVuZ3RoICYmIHNraXA7IGorKyApIHsKICAgICAgICAgICAgICAgIGlmICggcmVtb3ZlZE5vZGVzW2pdLm5vZGVUeXBlID09PSAxICkgeyBza2lwID0gZmFsc2U7IGJyZWFrOyB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCBza2lwICkgeyByZXR1cm47IH0KICAgICAgICB0aW1lciA9IHNlbGYucmVxdWVzdElkbGVDYWxsYmFjayhybWNsYXNzLCB7IHRpbWVvdXQ6IDY3IH0pOwogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25IYW5kbGVyKTsKICAgIGNvbnN0IHN0YXJ0ID0gKCApID0+IHsKICAgICAgICBybWNsYXNzKCk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgewogICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsgJ2NsYXNzJyBdLAogICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgfSk7CiAgICB9OwogICAgcnVuQXQoKCApID0+IHsKICAgICAgICBzdGFydCgpOwogICAgfSwgL1xiY29tcGxldGVcYi8udGVzdChiZWhhdmlvcikgPyAnaWRsZScgOiAnbG9hZGluZycpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-requestAnimationFrame-if.js","aliases":["norafif.js","prevent-requestAnimationFrame.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gbm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZigKICAgIG5lZWRsZSA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgbmVlZGxlICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IG5lZWRsZU5vdCA9IG5lZWRsZS5jaGFyQXQoMCkgPT09ICchJzsKICAgIGlmICggbmVlZGxlTm90ICkgeyBuZWVkbGUgPSBuZWVkbGUuc2xpY2UoMSk7IH0KICAgIGNvbnN0IGxvZyA9IG5lZWRsZU5vdCA9PT0gZmFsc2UgJiYgbmVlZGxlID09PSAnJyA/IGNvbnNvbGUubG9nIDogdW5kZWZpbmVkOwogICAgY29uc3QgcmVOZWVkbGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KG5lZWRsZSk7CiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gbmV3IFByb3h5KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IGEgPSBTdHJpbmcoYXJnc1swXSk7CiAgICAgICAgICAgIGxldCBkZWZ1c2UgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKCBsb2cgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIGxvZygndUJPOiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIiVzIiknLCBhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRlZnVzZSA9IHJlTmVlZGxlLnRlc3QoYSkgIT09IG5lZWRsZU5vdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIGRlZnVzZSApIHsKICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBmdW5jdGlvbigpe307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9CiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"set-constant.js","aliases":["set.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQpmdW5jdGlvbiBzZXRDb25zdGFudENvcmUoCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBjaGFpbiA9ICcnLAogICAgY1ZhbHVlID0gJycKKSB7CiAgICBpZiAoIGNoYWluID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBmdW5jdGlvbiBzZXRDb25zdGFudChjaGFpbiwgY1ZhbHVlKSB7CiAgICAgICAgY29uc3QgdHJhcHBlZFByb3AgPSAoKCApID0+IHsKICAgICAgICAgICAgY29uc3QgcG9zID0gY2hhaW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyByZXR1cm4gY2hhaW47IH0KICAgICAgICAgICAgcmV0dXJuIGNoYWluLnNsaWNlKHBvcysxKTsKICAgICAgICB9KSgpOwogICAgICAgIGlmICggdHJhcHBlZFByb3AgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICBjb25zdCB0aGlzU2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdDsKICAgICAgICBjb25zdCBjbG9ha0Z1bmMgPSBmbiA9PiB7CiAgICAgICAgICAgIHNhZmUuT2JqZWN0X2RlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHsgdmFsdWU6IHRyYXBwZWRQcm9wIH0pOwogICAgICAgICAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShmbiwgewogICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wICE9PSAndG9TdHJpbmcnICkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSguLi5hcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3AgIT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3AgPT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgZnVuY3Rpb24gJHt0cmFwcGVkUHJvcH0oKSB7IFtuYXRpdmUgY29kZV0gfWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZChudWxsKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHByb3h5OwogICAgICAgIH07CiAgICAgICAgaWYgKCBjVmFsdWUgPT09ICd1bmRlZmluZWQnICkgewogICAgICAgICAgICBjVmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAnZmFsc2UnICkgewogICAgICAgICAgICBjVmFsdWUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICd0cnVlJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICdudWxsJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gbnVsbDsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICInJyIgfHwgY1ZhbHVlID09PSAnJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gJyc7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAnW10nICkgewogICAgICAgICAgICBjVmFsdWUgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICd7fScgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IHt9OwogICAgICAgIH0gZWxzZSBpZiAoIGNWYWx1ZSA9PT0gJ25vb3BGdW5jJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gY2xvYWtGdW5jKGZ1bmN0aW9uKCl7fSk7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAndHJ1ZUZ1bmMnICkgewogICAgICAgICAgICBjVmFsdWUgPSBjbG9ha0Z1bmMoZnVuY3Rpb24oKXsgcmV0dXJuIHRydWU7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoIGNWYWx1ZSA9PT0gJ2ZhbHNlRnVuYycgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IGNsb2FrRnVuYyhmdW5jdGlvbigpeyByZXR1cm4gZmFsc2U7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoIC9eLT9cZCskLy50ZXN0KGNWYWx1ZSkgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IHBhcnNlSW50KGNWYWx1ZSk7CiAgICAgICAgICAgIGlmICggaXNOYU4oY1ZhbHVlKSApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoY1ZhbHVlKSA+IDB4N0ZGRiApIHsgcmV0dXJuOyB9CiAgICAgICAgfSBlbHNlIGlmICggdHJ1c3RlZCApIHsKICAgICAgICAgICAgaWYgKCBjVmFsdWUuc3RhcnRzV2l0aCgneycpICYmIGNWYWx1ZS5lbmRzV2l0aCgnfScpICkgewogICAgICAgICAgICAgICAgdHJ5IHsgY1ZhbHVlID0gc2FmZS5KU09OX3BhcnNlKGNWYWx1ZSkudmFsdWU7IH0gY2F0Y2goZXgpIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICggZXh0cmFBcmdzLmFzICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgIGlmICggZXh0cmFBcmdzLmFzID09PSAnZnVuY3Rpb24nICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gKCApID0+IGNWYWx1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmICggZXh0cmFBcmdzLmFzID09PSAnY2FsbGJhY2snICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gKCApID0+ICgoICkgPT4gY1ZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICggZXh0cmFBcmdzLmFzID09PSAncmVzb2x2ZWQnICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKGNWYWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV4dHJhQXJncy5hcyA9PT0gJ3JlamVjdGVkJyApIHsKICAgICAgICAgICAgICAgIGNWYWx1ZSA9IFByb21pc2UucmVqZWN0KGNWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IGFib3J0ZWQgPSBmYWxzZTsKICAgICAgICBjb25zdCBtdXN0QWJvcnQgPSBmdW5jdGlvbih2KSB7CiAgICAgICAgICAgIGlmICggdHJ1c3RlZCApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgICAgIGlmICggYWJvcnRlZCApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICAgICAgYWJvcnRlZCA9CiAgICAgICAgICAgICAgICAodiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IG51bGwpICYmCiAgICAgICAgICAgICAgICAoY1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgY1ZhbHVlICE9PSBudWxsKSAmJgogICAgICAgICAgICAgICAgKHR5cGVvZiB2ICE9PSB0eXBlb2YgY1ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIGFib3J0ZWQ7CiAgICAgICAgfTsKICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdUJsb2NrT3JpZ2luL3VCbG9jay1pc3N1ZXMvaXNzdWVzLzE1NgogICAgICAgIC8vICAgU3VwcG9ydCBtdWx0aXBsZSB0cmFwcGVycyBmb3IgdGhlIHNhbWUgcHJvcGVydHkuCiAgICAgICAgY29uc3QgdHJhcFByb3AgPSBmdW5jdGlvbihvd25lciwgcHJvcCwgY29uZmlndXJhYmxlLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIGlmICggaGFuZGxlci5pbml0KGNvbmZpZ3VyYWJsZSA/IG93bmVyW3Byb3BdIDogY1ZhbHVlKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBjb25zdCBvZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApOwogICAgICAgICAgICBsZXQgcHJldkdldHRlciwgcHJldlNldHRlcjsKICAgICAgICAgICAgaWYgKCBvZGVzYyBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgIG93bmVyW3Byb3BdID0gY1ZhbHVlOwogICAgICAgICAgICAgICAgaWYgKCBvZGVzYy5nZXQgaW5zdGFuY2VvZiBGdW5jdGlvbiApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2R2V0dGVyID0gb2Rlc2MuZ2V0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCBvZGVzYy5zZXQgaW5zdGFuY2VvZiBGdW5jdGlvbiApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2U2V0dGVyID0gb2Rlc2Muc2V0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBzYWZlLk9iamVjdF9kZWZpbmVQcm9wZXJ0eShvd25lciwgcHJvcCwgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZSwKICAgICAgICAgICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcHJldkdldHRlciAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkdldHRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmdldHRlcigpOyAvLyBjVmFsdWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHNldChhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcHJldlNldHRlciAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlNldHRlcihhKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnNldHRlcihhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCB0cmFwQ2hhaW4gPSBmdW5jdGlvbihvd25lciwgY2hhaW4pIHsKICAgICAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgICAgICBpZiAoIHBvcyA9PT0gLTEgKSB7CiAgICAgICAgICAgICAgICB0cmFwUHJvcChvd25lciwgY2hhaW4sIGZhbHNlLCB7CiAgICAgICAgICAgICAgICAgICAgdjogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtdXN0QWJvcnQodikgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnYgPSB2OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGdldHRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID09PSB0aGlzU2NyaXB0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMudgogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtdXN0QWJvcnQoYSkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgICAgICAgICAgICAgY1ZhbHVlID0gYTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICAgICAgY29uc3QgdiA9IG93bmVyW3Byb3BdOwogICAgICAgICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKHBvcyArIDEpOwogICAgICAgICAgICBpZiAoIHYgaW5zdGFuY2VvZiBPYmplY3QgfHwgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmIHYgIT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICB0cmFwQ2hhaW4odiwgY2hhaW4pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyYXBQcm9wKG93bmVyLCBwcm9wLCB0cnVlLCB7CiAgICAgICAgICAgICAgICB2OiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbih2KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52ID0gdjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBnZXR0ZXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnY7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2V0dGVyOiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52ID0gYTsKICAgICAgICAgICAgICAgICAgICBpZiAoIGEgaW5zdGFuY2VvZiBPYmplY3QgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXBDaGFpbihhLCBjaGFpbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHRyYXBDaGFpbih3aW5kb3csIGNoYWluKTsKICAgIH0KICAgIHJ1bkF0KCggKSA9PiB7CiAgICAgICAgc2V0Q29uc3RhbnQoY2hhaW4sIGNWYWx1ZSk7CiAgICB9LCBleHRyYUFyZ3MucnVuQXQpOwp9CgogIChmdW5jdGlvbiBzZXRDb25zdGFudCgKICAgIC4uLmFyZ3MKKSB7CiAgICBzZXRDb25zdGFudENvcmUoZmFsc2UsIC4uLmFyZ3MpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-setInterval-if.js","aliases":["nosiif.js","prevent-setInterval.js","setInterval-defuser.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gbm9TZXRJbnRlcnZhbElmKAogICAgbmVlZGxlID0gJycsCiAgICBkZWxheSA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgbmVlZGxlICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IG5lZWRsZU5vdCA9IG5lZWRsZS5jaGFyQXQoMCkgPT09ICchJzsKICAgIGlmICggbmVlZGxlTm90ICkgeyBuZWVkbGUgPSBuZWVkbGUuc2xpY2UoMSk7IH0KICAgIGlmICggZGVsYXkgPT09ICcnICkgeyBkZWxheSA9IHVuZGVmaW5lZDsgfQogICAgbGV0IGRlbGF5Tm90ID0gZmFsc2U7CiAgICBpZiAoIGRlbGF5ICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgZGVsYXlOb3QgPSBkZWxheS5jaGFyQXQoMCkgPT09ICchJzsKICAgICAgICBpZiAoIGRlbGF5Tm90ICkgeyBkZWxheSA9IGRlbGF5LnNsaWNlKDEpOyB9CiAgICAgICAgZGVsYXkgPSBwYXJzZUludChkZWxheSwgMTApOwogICAgfQogICAgY29uc3QgbG9nID0gbmVlZGxlTm90ID09PSBmYWxzZSAmJiBuZWVkbGUgPT09ICcnICYmIGRlbGF5ID09PSB1bmRlZmluZWQKICAgICAgICA/IGNvbnNvbGUubG9nCiAgICAgICAgOiB1bmRlZmluZWQ7CiAgICBjb25zdCByZU5lZWRsZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobmVlZGxlKTsKICAgIHNlbGYuc2V0SW50ZXJ2YWwgPSBuZXcgUHJveHkoc2VsZi5zZXRJbnRlcnZhbCwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgY29uc3QgYSA9IFN0cmluZyhhcmdzWzBdKTsKICAgICAgICAgICAgY29uc3QgYiA9IGFyZ3NbMV07CiAgICAgICAgICAgIGlmICggbG9nICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgICAgICBsb2coJ3VCTzogc2V0SW50ZXJ2YWwoIiVzIiwgJXMpJywgYSwgYik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgZGVmdXNlOwogICAgICAgICAgICAgICAgaWYgKCBuZWVkbGUgIT09ICcnICkgewogICAgICAgICAgICAgICAgICAgIGRlZnVzZSA9IHJlTmVlZGxlLnRlc3QoYSkgIT09IG5lZWRsZU5vdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICggZGVmdXNlICE9PSBmYWxzZSAmJiBkZWxheSAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgIGRlZnVzZSA9IChiID09PSBkZWxheSB8fCBpc05hTihiKSAmJiBpc05hTihkZWxheSkgKSAhPT0gZGVsYXlOb3Q7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIGRlZnVzZSApIHsKICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gZnVuY3Rpb24oKXt9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgfSwKICAgICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgewogICAgICAgICAgICBpZiAoIHByb3AgPT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnRvU3RyaW5nLmJpbmQodGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7CiAgICAgICAgfSwKICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-setTimeout-if.js","aliases":["nostif.js","prevent-setTimeout.js","setTimeout-defuser.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gbm9TZXRUaW1lb3V0SWYoCiAgICBuZWVkbGUgPSAnJywKICAgIGRlbGF5ID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiBuZWVkbGUgIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlTm90ID0gbmVlZGxlLmNoYXJBdCgwKSA9PT0gJyEnOwogICAgaWYgKCBuZWVkbGVOb3QgKSB7IG5lZWRsZSA9IG5lZWRsZS5zbGljZSgxKTsgfQogICAgaWYgKCBkZWxheSA9PT0gJycgKSB7IGRlbGF5ID0gdW5kZWZpbmVkOyB9CiAgICBsZXQgZGVsYXlOb3QgPSBmYWxzZTsKICAgIGlmICggZGVsYXkgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICBkZWxheU5vdCA9IGRlbGF5LmNoYXJBdCgwKSA9PT0gJyEnOwogICAgICAgIGlmICggZGVsYXlOb3QgKSB7IGRlbGF5ID0gZGVsYXkuc2xpY2UoMSk7IH0KICAgICAgICBkZWxheSA9IHBhcnNlSW50KGRlbGF5LCAxMCk7CiAgICB9CiAgICBjb25zdCBsb2cgPSBuZWVkbGVOb3QgPT09IGZhbHNlICYmIG5lZWRsZSA9PT0gJycgJiYgZGVsYXkgPT09IHVuZGVmaW5lZAogICAgICAgID8gY29uc29sZS5sb2cKICAgICAgICA6IHVuZGVmaW5lZDsKICAgIGNvbnN0IHJlTmVlZGxlID0gc2FmZS5wYXR0ZXJuVG9SZWdleChuZWVkbGUpOwogICAgc2VsZi5zZXRUaW1lb3V0ID0gbmV3IFByb3h5KHNlbGYuc2V0VGltZW91dCwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgY29uc3QgYSA9IFN0cmluZyhhcmdzWzBdKTsKICAgICAgICAgICAgY29uc3QgYiA9IGFyZ3NbMV07CiAgICAgICAgICAgIGlmICggbG9nICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgICAgICBsb2coJ3VCTzogc2V0VGltZW91dCgiJXMiLCAlcyknLCBhLCBiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBkZWZ1c2U7CiAgICAgICAgICAgICAgICBpZiAoIG5lZWRsZSAhPT0gJycgKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmdXNlID0gcmVOZWVkbGUudGVzdChhKSAhPT0gbmVlZGxlTm90OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCBkZWZ1c2UgIT09IGZhbHNlICYmIGRlbGF5ICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmdXNlID0gKGIgPT09IGRlbGF5IHx8IGlzTmFOKGIpICYmIGlzTmFOKGRlbGF5KSApICE9PSBkZWxheU5vdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICggZGVmdXNlICkgewogICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBmdW5jdGlvbigpe307CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9LAogICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7CiAgICAgICAgICAgIGlmICggcHJvcCA9PT0gJ3RvU3RyaW5nJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQudG9TdHJpbmcuYmluZCh0YXJnZXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTsKICAgICAgICB9LAogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"webrtc-if.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gd2VicnRjSWYoCiAgICBnb29kID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiBnb29kICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHJlR29vZCA9IHNhZmUucGF0dGVyblRvUmVnZXgoZ29vZCk7CiAgICBjb25zdCBydGNOYW1lID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uCiAgICAgICAgPyAnUlRDUGVlckNvbm5lY3Rpb24nCiAgICAgICAgOiAod2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uID8gJ3dlYmtpdFJUQ1BlZXJDb25uZWN0aW9uJyA6ICcnKTsKICAgIGlmICggcnRjTmFtZSA9PT0gJycgKSB7IHJldHVybjsgfQogICAgY29uc3QgbG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlKTsKICAgIGNvbnN0IG5ldXRlcmVkUGVlckNvbm5lY3Rpb25zID0gbmV3IFdlYWtTZXQoKTsKICAgIGNvbnN0IGlzR29vZENvbmZpZyA9IGZ1bmN0aW9uKGluc3RhbmNlLCBjb25maWcpIHsKICAgICAgICBpZiAoIG5ldXRlcmVkUGVlckNvbm5lY3Rpb25zLmhhcyhpbnN0YW5jZSkgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgIGlmICggY29uZmlnIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkoY29uZmlnLmljZVNlcnZlcnMpID09PSBmYWxzZSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBmb3IgKCBjb25zdCBzZXJ2ZXIgb2YgY29uZmlnLmljZVNlcnZlcnMgKSB7CiAgICAgICAgICAgIGNvbnN0IHVybHMgPSB0eXBlb2Ygc2VydmVyLnVybHMgPT09ICdzdHJpbmcnCiAgICAgICAgICAgICAgICA/IFsgc2VydmVyLnVybHMgXQogICAgICAgICAgICAgICAgOiBzZXJ2ZXIudXJsczsKICAgICAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KHVybHMpICkgewogICAgICAgICAgICAgICAgZm9yICggY29uc3QgdXJsIG9mIHVybHMgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCByZUdvb2QudGVzdCh1cmwpICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggdHlwZW9mIHNlcnZlci51c2VybmFtZSA9PT0gJ3N0cmluZycgKSB7CiAgICAgICAgICAgICAgICBpZiAoIHJlR29vZC50ZXN0KHNlcnZlci51c2VybmFtZSkgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCB0eXBlb2Ygc2VydmVyLmNyZWRlbnRpYWwgPT09ICdzdHJpbmcnICkgewogICAgICAgICAgICAgICAgaWYgKCByZUdvb2QudGVzdChzZXJ2ZXIuY3JlZGVudGlhbCkgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbmV1dGVyZWRQZWVyQ29ubmVjdGlvbnMuYWRkKGluc3RhbmNlKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgY29uc3QgcGVlckNvbm5lY3Rpb25DdG9yID0gd2luZG93W3J0Y05hbWVdOwogICAgY29uc3QgcGVlckNvbm5lY3Rpb25Qcm90byA9IHBlZXJDb25uZWN0aW9uQ3Rvci5wcm90b3R5cGU7CiAgICBwZWVyQ29ubmVjdGlvblByb3RvLmNyZWF0ZURhdGFDaGFubmVsID0KICAgICAgICBuZXcgUHJveHkocGVlckNvbm5lY3Rpb25Qcm90by5jcmVhdGVEYXRhQ2hhbm5lbCwgewogICAgICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgICAgICBpZiAoIGlzR29vZENvbmZpZyh0YXJnZXQsIGFyZ3NbMV0pID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgICAgICBsb2coJ3VCTzonLCBhcmdzWzFdKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3Muc2xpY2UoMCwgMSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIHdpbmRvd1tydGNOYW1lXSA9CiAgICAgICAgbmV3IFByb3h5KHBlZXJDb25uZWN0aW9uQ3RvciwgewogICAgICAgICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKHRhcmdldCwgYXJncykgewogICAgICAgICAgICAgICAgaWYgKCBpc0dvb2RDb25maWcodGFyZ2V0LCBhcmdzWzBdKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nKCd1Qk86JywgYXJnc1swXSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmdzKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-xhr-if.js","aliases":["prevent-xhr.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBwYXJzZVByb3BlcnRpZXNUb01hdGNoKHByb3BzVG9NYXRjaCwgaW1wbGljaXQgPSAnJykgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBuZWVkbGVzID0gbmV3IE1hcCgpOwogICAgaWYgKCBwcm9wc1RvTWF0Y2ggPT09IHVuZGVmaW5lZCB8fCBwcm9wc1RvTWF0Y2ggPT09ICcnICkgeyByZXR1cm4gbmVlZGxlczsgfQogICAgY29uc3Qgb3B0aW9ucyA9IHsgY2FuTmVnYXRlOiB0cnVlIH07CiAgICBmb3IgKCBjb25zdCBuZWVkbGUgb2YgcHJvcHNUb01hdGNoLnNwbGl0KC9ccysvKSApIHsKICAgICAgICBjb25zdCBbIHByb3AsIHBhdHRlcm4gXSA9IG5lZWRsZS5zcGxpdCgnOicpOwogICAgICAgIGlmICggcHJvcCA9PT0gJycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgaWYgKCBwYXR0ZXJuICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgIG5lZWRsZXMuc2V0KHByb3AsIHNhZmUuaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucykpOwogICAgICAgIH0gZWxzZSBpZiAoIGltcGxpY2l0ICE9PSAnJyApIHsKICAgICAgICAgICAgbmVlZGxlcy5zZXQoaW1wbGljaXQsIHNhZmUuaW5pdFBhdHRlcm4ocHJvcCwgb3B0aW9ucykpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZWVkbGVzOwp9CmZ1bmN0aW9uIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgLi4ub2JqcykgewogICAgaWYgKCBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMgPSAoc3JjLCBkZXMsIHByb3BzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IHAgb2YgcHJvcHMgKSB7CiAgICAgICAgICAgICAgICBjb25zdCB2ID0gc3JjW3BdOwogICAgICAgICAgICAgICAgaWYgKCB2ID09PSB1bmRlZmluZWQgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBkZXNbcF0gPSBzcmNbcF07CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBoYXlzdGFjayA9IHt9OwogICAgY29uc3QgcHJvcHMgPSBzYWZlLkFycmF5X2Zyb20ocHJvcE5lZWRsZXMua2V5cygpKTsKICAgIGZvciAoIGNvbnN0IG9iaiBvZiBvYmpzICkgewogICAgICAgIGlmICggb2JqIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICBtYXRjaE9iamVjdFByb3BlcnRpZXMuZXh0cmFjdFByb3BlcnRpZXMob2JqLCBoYXlzdGFjaywgcHJvcHMpOwogICAgfQogICAgZm9yICggY29uc3QgWyBwcm9wLCBkZXRhaWxzIF0gb2YgcHJvcE5lZWRsZXMgKSB7CiAgICAgICAgbGV0IHZhbHVlID0gaGF5c3RhY2tbcHJvcF07CiAgICAgICAgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyApIHsKICAgICAgICAgICAgdHJ5IHsgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7IH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsgfQogICAgICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgfQogICAgICAgIGlmICggc2FmZS50ZXN0UGF0dGVybihkZXRhaWxzLCB2YWx1ZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCiAgKGZ1bmN0aW9uIG5vWGhySWYoCiAgICBwcm9wc1RvTWF0Y2ggPSAnJywKICAgIGRpcmVjdGl2ZSA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgcHJvcHNUb01hdGNoICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHhockluc3RhbmNlcyA9IG5ldyBXZWFrTWFwKCk7CiAgICBjb25zdCBwcm9wTmVlZGxlcyA9IHBhcnNlUHJvcGVydGllc1RvTWF0Y2gocHJvcHNUb01hdGNoLCAndXJsJyk7CiAgICBjb25zdCBsb2cgPSBwcm9wTmVlZGxlcy5zaXplID09PSAwID8gY29uc29sZS5sb2cuYmluZChjb25zb2xlKSA6IHVuZGVmaW5lZDsKICAgIGNvbnN0IHdhck9yaWdpbiA9IHNjcmlwdGxldEdsb2JhbHMuZ2V0KCd3YXJPcmlnaW4nKTsKICAgIGNvbnN0IGdlbmVyYXRlUmFuZG9tU3RyaW5nID0gbGVuID0+IHsKICAgICAgICAgICAgbGV0IHMgPSAnJzsKICAgICAgICAgICAgZG8geyBzICs9IHNhZmUuTWF0aF9yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7IH0KICAgICAgICAgICAgd2hpbGUgKCBzLmxlbmd0aCA8IDEwICk7CiAgICAgICAgICAgIHJldHVybiBzLnNsaWNlKDAsIGxlbik7CiAgICB9OwogICAgY29uc3QgZ2VuZXJhdGVDb250ZW50ID0gYXN5bmMgZGlyZWN0aXZlID0+IHsKICAgICAgICBpZiAoIGRpcmVjdGl2ZSA9PT0gJ3RydWUnICkgewogICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVSYW5kb21TdHJpbmcoMTApOwogICAgICAgIH0KICAgICAgICBpZiAoIGRpcmVjdGl2ZS5zdGFydHNXaXRoKCd3YXI6JykgKSB7CiAgICAgICAgICAgIGlmICggd2FyT3JpZ2luID09PSB1bmRlZmluZWQgKSB7IHJldHVybiAnJzsgfQogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB3YXJOYW1lID0gZGlyZWN0aXZlLnNsaWNlKDQpOwogICAgICAgICAgICAgICAgY29uc3QgZnVsbHBhdGggPSBbIHdhck9yaWdpbiwgJy8nLCB3YXJOYW1lIF07CiAgICAgICAgICAgICAgICBjb25zdCB3YXJTZWNyZXQgPSBzY3JpcHRsZXRHbG9iYWxzLmdldCgnd2FyU2VjcmV0Jyk7CiAgICAgICAgICAgICAgICBpZiAoIHdhclNlY3JldCAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgIGZ1bGxwYXRoLnB1c2goJz9zZWNyZXQ9Jywgd2FyU2VjcmV0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHdhclhIUiA9IG5ldyBzYWZlLlhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICB3YXJYSFIucmVzcG9uc2VUeXBlID0gJ3RleHQnOwogICAgICAgICAgICAgICAgd2FyWEhSLm9ubG9hZGVuZCA9IGV2ID0+IHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGV2LnRhcmdldC5yZXNwb25zZVRleHQgfHwgJycpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHdhclhIUi5vcGVuKCdHRVQnLCBmdWxscGF0aC5qb2luKCcnKSk7CiAgICAgICAgICAgICAgICB3YXJYSFIuc2VuZCgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfTsKICAgIHNlbGYuWE1MSHR0cFJlcXVlc3QgPSBjbGFzcyBleHRlbmRzIHNlbGYuWE1MSHR0cFJlcXVlc3QgewogICAgICAgIG9wZW4obWV0aG9kLCB1cmwsIC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBsb2cgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIGxvZyhgdUJPOiB4aHIub3Blbigke21ldGhvZH0sICR7dXJsfSwgJHthcmdzLmpvaW4oJywgJyl9KWApOwogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9wZW4obWV0aG9kLCB1cmwsIC4uLmFyZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggd2FyT3JpZ2luICE9PSB1bmRlZmluZWQgJiYgdXJsLnN0YXJ0c1dpdGgod2FyT3JpZ2luKSApIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5vcGVuKG1ldGhvZCwgdXJsLCAuLi5hcmdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBoYXlzdGFjayA9IHsgbWV0aG9kLCB1cmwgfTsKICAgICAgICAgICAgaWYgKCBtYXRjaE9iamVjdFByb3BlcnRpZXMocHJvcE5lZWRsZXMsIGhheXN0YWNrKSApIHsKICAgICAgICAgICAgICAgIHhockluc3RhbmNlcy5zZXQodGhpcywgaGF5c3RhY2spOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdXBlci5vcGVuKG1ldGhvZCwgdXJsLCAuLi5hcmdzKTsKICAgICAgICB9CiAgICAgICAgc2VuZCguLi5hcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IGhheXN0YWNrID0geGhySW5zdGFuY2VzLmdldCh0aGlzKTsKICAgICAgICAgICAgaWYgKCBoYXlzdGFjayA9PT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnNlbmQoLi4uYXJncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoewogICAgICAgICAgICAgICAgeGhyOiB0aGlzLAogICAgICAgICAgICAgICAgZGlyZWN0aXZlLAogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlOiB7IHZhbHVlOiA0IH0sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHsgdmFsdWU6ICcnIH0sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0OiB7IHZhbHVlOiAnJyB9LAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWE1MOiB7IHZhbHVlOiBudWxsIH0sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VVUkw6IHsgdmFsdWU6IGhheXN0YWNrLnVybCB9LAogICAgICAgICAgICAgICAgICAgIHN0YXR1czogeyB2YWx1ZTogMjAwIH0sCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogeyB2YWx1ZTogJ09LJyB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHN3aXRjaCAoIHRoaXMucmVzcG9uc2VUeXBlICkgewogICAgICAgICAgICAgICAgY2FzZSAnYXJyYXlidWZmZXInOgogICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oZGV0YWlscyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMucHJvcHMucmVzcG9uc2UudmFsdWUgPSBuZXcgQXJyYXlCdWZmZXIoMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXRhaWxzOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnYmxvYic6CiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihkZXRhaWxzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wcm9wcy5yZXNwb25zZS52YWx1ZSA9IG5ldyBCbG9iKFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbHM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdkb2N1bWVudCc6IHsKICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGRldGFpbHMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoJycsICd0ZXh0L2h0bWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wcm9wcy5yZXNwb25zZS52YWx1ZSA9IGRvYzsKICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wcm9wcy5yZXNwb25zZVhNTC52YWx1ZSA9IGRvYzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbHM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXNlICdqc29uJzoKICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGRldGFpbHMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLnByb3BzLnJlc3BvbnNlLnZhbHVlID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMucHJvcHMucmVzcG9uc2VUZXh0LnZhbHVlID0gJ3t9JzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbHM7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aXZlID09PSAnJyApIHsgYnJlYWs7IH0KICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGRldGFpbHMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVDb250ZW50KGRldGFpbHMuZGlyZWN0aXZlKS50aGVuKHRleHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wcm9wcy5yZXNwb25zZS52YWx1ZSA9IHRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLnByb3BzLnJlc3BvbnNlVGV4dC52YWx1ZSA9IHRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWlsczsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJvbWlzZS50aGVuKGRldGFpbHMgPT4gewogICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGV0YWlscy54aHIsIGRldGFpbHMucHJvcHMpOwogICAgICAgICAgICAgICAgZGV0YWlscy54aHIuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3JlYWR5c3RhdGVjaGFuZ2UnKSk7CiAgICAgICAgICAgICAgICBkZXRhaWxzLnhoci5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbG9hZCcpKTsKICAgICAgICAgICAgICAgIGRldGFpbHMueGhyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsb2FkZW5kJykpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Owp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"no-window-open-if.js","aliases":["nowoif.js","prevent-window-open.js","window.open-defuser.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KCiAgKGZ1bmN0aW9uIG5vV2luZG93T3BlbklmKAogICAgcGF0dGVybiA9ICcnLAogICAgZGVsYXkgPSAnJywKICAgIGRlY295ID0gJycKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRhcmdldE1hdGNoUmVzdWx0ID0gcGF0dGVybi5zdGFydHNXaXRoKCchJykgPT09IGZhbHNlOwogICAgaWYgKCB0YXJnZXRNYXRjaFJlc3VsdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc2xpY2UoMSk7CiAgICB9CiAgICBjb25zdCByZVBhdHRlcm4gPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4pOwogICAgbGV0IGF1dG9SZW1vdmVBZnRlciA9IHBhcnNlSW50KGRlbGF5KTsKICAgIGlmICggaXNOYU4oYXV0b1JlbW92ZUFmdGVyKSApIHsKICAgICAgICBhdXRvUmVtb3ZlQWZ0ZXIgPSAtMTsKICAgIH0KICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBjb25zdCBsb2dMZXZlbCA9IHNob3VsZExvZyhleHRyYUFyZ3MpOwogICAgY29uc3QgY3JlYXRlRGVjb3kgPSBmdW5jdGlvbih0YWcsIHVybFByb3AsIHVybCkgewogICAgICAgIGNvbnN0IGRlY295RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsKICAgICAgICBkZWNveUVsZW1bdXJsUHJvcF0gPSB1cmw7CiAgICAgICAgZGVjb3lFbGVtLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCcxcHgnLCAnaW1wb3J0YW50Jyk7CiAgICAgICAgZGVjb3lFbGVtLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsJ2ZpeGVkJywgJ2ltcG9ydGFudCcpOwogICAgICAgIGRlY295RWxlbS5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywnLTFweCcsICdpbXBvcnRhbnQnKTsKICAgICAgICBkZWNveUVsZW0uc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywnMXB4JywgJ2ltcG9ydGFudCcpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGVjb3lFbGVtKTsKICAgICAgICBzZXRUaW1lb3V0KCggKSA9PiB7IGRlY295RWxlbS5yZW1vdmUoKTsgfSwgYXV0b1JlbW92ZUFmdGVyICogMTAwMCk7CiAgICAgICAgcmV0dXJuIGRlY295RWxlbTsKICAgIH07CiAgICB3aW5kb3cub3BlbiA9IG5ldyBQcm94eSh3aW5kb3cub3BlbiwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgY29uc3QgaGF5c3RhY2sgPSBhcmdzLmpvaW4oJyAnKTsKICAgICAgICAgICAgaWYgKCBsb2dMZXZlbCApIHsKICAgICAgICAgICAgICAgIHNhZmUudWJvTG9nKCd3aW5kb3cub3BlbjonLCBoYXlzdGFjayk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCByZVBhdHRlcm4udGVzdChoYXlzdGFjaykgIT09IHRhcmdldE1hdGNoUmVzdWx0ICkgewogICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIGF1dG9SZW1vdmVBZnRlciA8IDAgKSB7IHJldHVybiBudWxsOyB9CiAgICAgICAgICAgIGNvbnN0IGRlY295RWxlbSA9IGRlY295ID09PSAnb2JqJwogICAgICAgICAgICAgICAgPyBjcmVhdGVEZWNveSgnb2JqZWN0JywgJ2RhdGEnLCAuLi5hcmdzKQogICAgICAgICAgICAgICAgOiBjcmVhdGVEZWNveSgnaWZyYW1lJywgJ3NyYycsIC4uLmFyZ3MpOwogICAgICAgICAgICBsZXQgcG9wdXAgPSBkZWNveUVsZW0uY29udGVudFdpbmRvdzsKICAgICAgICAgICAgaWYgKCB0eXBlb2YgcG9wdXAgPT09ICdvYmplY3QnICYmIHBvcHVwICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBvcHVwLCAnY2xvc2VkJywgeyB2YWx1ZTogZmFsc2UgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBub29wRnVuYyA9IChmdW5jdGlvbigpe30pLmJpbmQoc2VsZik7CiAgICAgICAgICAgICAgICBwb3B1cCA9IG5ldyBQcm94eShzZWxmLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbih0YXJnZXQsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wID09PSAnY2xvc2VkJyApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBSZWZsZWN0LmdldCguLi5hcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiByID09PSAnZnVuY3Rpb24nICkgeyByZXR1cm4gbm9vcEZ1bmM7IH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCguLi5hcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIGxvZ0xldmVsICkgewogICAgICAgICAgICAgICAgcG9wdXAgPSBuZXcgUHJveHkocG9wdXAsIHsKICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcCkgewogICAgICAgICAgICAgICAgICAgICAgICBzYWZlLnVib0xvZygnd2luZG93Lm9wZW4gLyBnZXQnLCBwcm9wLCAnPT09JywgdGFyZ2V0W3Byb3BdKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcCwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZS51Ym9Mb2coJ3dpbmRvdy5vcGVuIC8gc2V0JywgcHJvcCwgJz0nLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCguLi5hcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcG9wdXA7CiAgICAgICAgfQogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"close-window.js","aliases":["window-close-if.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gY2xvc2VXaW5kb3coCiAgICBhcmcxID0gJycKKSB7CiAgICBpZiAoIHR5cGVvZiBhcmcxICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGxldCBzdWJqZWN0ID0gJyc7CiAgICBpZiAoIC9eXC8uKlwvJC8udGVzdChhcmcxKSApIHsKICAgICAgICBzdWJqZWN0ID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICB9IGVsc2UgaWYgKCBhcmcxICE9PSAnJyApIHsKICAgICAgICBzdWJqZWN0ID0gYCR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSR7d2luZG93LmxvY2F0aW9uLnNlYXJjaH1gOwogICAgfQogICAgdHJ5IHsKICAgICAgICBjb25zdCByZSA9IHNhZmUucGF0dGVyblRvUmVnZXgoYXJnMSk7CiAgICAgICAgaWYgKCByZS50ZXN0KHN1YmplY3QpICkgewogICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICB9CiAgICB9IGNhdGNoKGV4KSB7CiAgICAgICAgY29uc29sZS5sb2coZXgpOwogICAgfQp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"window.name-defuser.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIHdpbmRvd05hbWVEZWZ1c2VyKCkgewogICAgaWYgKCB3aW5kb3cgPT09IHdpbmRvdy50b3AgKSB7CiAgICAgICAgd2luZG93Lm5hbWUgPSAnJzsKICAgIH0KfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"overlay-buster.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIG92ZXJsYXlCdXN0ZXIoKSB7CiAgICBpZiAoIHdpbmRvdyAhPT0gd2luZG93LnRvcCApIHsgcmV0dXJuOyB9CiAgICB2YXIgdHN0YXJ0OwogICAgdmFyIHR0bCA9IDMwMDAwOwogICAgdmFyIGRlbGF5ID0gMDsKICAgIHZhciBkZWxheVN0ZXAgPSA1MDsKICAgIHZhciBidXN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZG9jRWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgICAgICAgIGJvZHlFbCA9IGRvY3VtZW50LmJvZHksCiAgICAgICAgICAgIHZ3ID0gTWF0aC5taW4oZG9jRWwuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKSwKICAgICAgICAgICAgdmggPSBNYXRoLm1pbihkb2NFbC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCksCiAgICAgICAgICAgIHRvbCA9IE1hdGgubWluKHZ3LCB2aCkgKiAwLjA1LAogICAgICAgICAgICBlbCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodncvMiwgdmgvMiksCiAgICAgICAgICAgIHN0eWxlLCByZWN0OwogICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgaWYgKCBlbCA9PT0gbnVsbCB8fCBlbC5wYXJlbnROb2RlID09PSBudWxsIHx8IGVsID09PSBib2R5RWwgKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgICAgICAgaWYgKCBwYXJzZUludChzdHlsZS56SW5kZXgsIDEwKSA+PSAxMDAwIHx8IHN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnICkgewogICAgICAgICAgICAgICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgaWYgKCByZWN0LmxlZnQgPD0gdG9sICYmIHJlY3QudG9wIDw9IHRvbCAmJiAodncgLSByZWN0LnJpZ2h0KSA8PSB0b2wgJiYgKHZoIC0gcmVjdC5ib3R0b20pIDwgdG9sICkgewogICAgICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICAgICAgICAgICAgICAgIHRzdGFydCA9IERhdGUubm93KCk7CiAgICAgICAgICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHZ3LzIsIHZoLzIpOwogICAgICAgICAgICAgICAgICAgIGJvZHlFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnb3ZlcmZsb3cnLCAnYXV0bycsICdpbXBvcnRhbnQnKTsKICAgICAgICAgICAgICAgICAgICBkb2NFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnb3ZlcmZsb3cnLCAnYXV0bycsICdpbXBvcnRhbnQnKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICAgICAgfQogICAgICAgIGlmICggKERhdGUubm93KCkgLSB0c3RhcnQpIDwgdHRsICkgewogICAgICAgICAgICBkZWxheSA9IE1hdGgubWluKGRlbGF5ICsgZGVsYXlTdGVwLCAxMDAwKTsKICAgICAgICAgICAgc2V0VGltZW91dChidXN0ZXIsIGRlbGF5KTsKICAgICAgICB9CiAgICB9OwogICAgdmFyIGRvbVJlYWR5ID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICBpZiAoIGV2ICkgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2LnR5cGUsIGRvbVJlYWR5KTsKICAgICAgICB9CiAgICAgICAgdHN0YXJ0ID0gRGF0ZS5ub3coKTsKICAgICAgICBzZXRUaW1lb3V0KGJ1c3RlciwgZGVsYXkpOwogICAgfTsKICAgIGlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnICkgewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkb21SZWFkeSk7CiAgICB9IGVsc2UgewogICAgICAgIGRvbVJlYWR5KCk7CiAgICB9Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"alert-buster.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIGFsZXJ0QnVzdGVyKCkgewogICAgd2luZG93LmFsZXJ0ID0gbmV3IFByb3h5KHdpbmRvdy5hbGVydCwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhhKTsKICAgICAgICB9LAogICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7CiAgICAgICAgICAgIGlmICggcHJvcCA9PT0gJ3RvU3RyaW5nJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQudG9TdHJpbmcuYmluZCh0YXJnZXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTsKICAgICAgICB9LAogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"nowebrtc.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIG5vV2VicnRjKCkgewogICAgdmFyIHJ0Y05hbWUgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPyAnUlRDUGVlckNvbm5lY3Rpb24nIDogKAogICAgICAgIHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiA/ICd3ZWJraXRSVENQZWVyQ29ubmVjdGlvbicgOiAnJwogICAgKTsKICAgIGlmICggcnRjTmFtZSA9PT0gJycgKSB7IHJldHVybjsgfQogICAgdmFyIGxvZyA9IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7CiAgICB2YXIgcGMgPSBmdW5jdGlvbihjZmcpIHsKICAgICAgICBsb2coJ0RvY3VtZW50IHRyaWVkIHRvIGNyZWF0ZSBhbiBSVENQZWVyQ29ubmVjdGlvbjogJW8nLCBjZmcpOwogICAgfTsKICAgIGNvbnN0IG5vb3AgPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICBwYy5wcm90b3R5cGUgPSB7CiAgICAgICAgY2xvc2U6IG5vb3AsCiAgICAgICAgY3JlYXRlRGF0YUNoYW5uZWw6IG5vb3AsCiAgICAgICAgY3JlYXRlT2ZmZXI6IG5vb3AsCiAgICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb246IG5vb3AsCiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gJ1tvYmplY3QgUlRDUGVlckNvbm5lY3Rpb25dJzsKICAgICAgICB9CiAgICB9OwogICAgdmFyIHogPSB3aW5kb3dbcnRjTmFtZV07CiAgICB3aW5kb3dbcnRjTmFtZV0gPSBwYy5iaW5kKHdpbmRvdyk7CiAgICBpZiAoIHoucHJvdG90eXBlICkgewogICAgICAgIHoucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7fSwKICAgICAgICAgICAgICAgIHNlbmQ6IGZ1bmN0aW9uKCkge30KICAgICAgICAgICAgfTsKICAgICAgICB9LmJpbmQobnVsbCk7CiAgICB9Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"golem.de.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIGdvbGVtRGUoKSB7CiAgICBjb25zdCByYWVsID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICByYWVsKC4uLmFyZ3VtZW50cyk7CiAgICAgICAgbGV0IGhheXN0YWNrOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGhheXN0YWNrID0gYi50b1N0cmluZygpOwogICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgICB0eXBlb2YgaGF5c3RhY2sgPT09ICdzdHJpbmcnICYmCiAgICAgICAgICAgIC9eXHMqZnVuY3Rpb25ccypcKFwpXHMqXHtccyp3aW5kb3dcLmNsZWFyVGltZW91dFwoclwpXHMqXH1ccyokLy50ZXN0KGhheXN0YWNrKQogICAgICAgICkgewogICAgICAgICAgICBiKCk7CiAgICAgICAgfQogICAgfS5iaW5kKHdpbmRvdyk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"disable-newtab-links.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIGRpc2FibGVOZXd0YWJMaW5rcygpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHsKICAgICAgICB2YXIgdGFyZ2V0ID0gZXYudGFyZ2V0OwogICAgICAgIHdoaWxlICggdGFyZ2V0ICE9PSBudWxsICkgewogICAgICAgICAgICBpZiAoIHRhcmdldC5sb2NhbE5hbWUgPT09ICdhJyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCd0YXJnZXQnKSApIHsKICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgICAgIH0KICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"cookie-remover.js","aliases":["remove-cookie.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gY29va2llUmVtb3ZlcigKICAgIG5lZWRsZSA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgbmVlZGxlICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHJlTmFtZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobmVlZGxlKTsKICAgIGNvbnN0IHJlbW92ZUNvb2tpZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZvckVhY2goY29va2llU3RyID0+IHsKICAgICAgICAgICAgbGV0IHBvcyA9IGNvb2tpZVN0ci5pbmRleE9mKCc9Jyk7CiAgICAgICAgICAgIGlmICggcG9zID09PSAtMSApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGxldCBjb29raWVOYW1lID0gY29va2llU3RyLnNsaWNlKDAsIHBvcykudHJpbSgpOwogICAgICAgICAgICBpZiAoICFyZU5hbWUudGVzdChjb29raWVOYW1lKSApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGxldCBwYXJ0MSA9IGNvb2tpZU5hbWUgKyAnPSc7CiAgICAgICAgICAgIGxldCBwYXJ0MmEgPSAnOyBkb21haW49JyArIGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgICAgICAgICBsZXQgcGFydDJiID0gJzsgZG9tYWluPS4nICsgZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWU7CiAgICAgICAgICAgIGxldCBwYXJ0MmMsIHBhcnQyZDsKICAgICAgICAgICAgbGV0IGRvbWFpbiA9IGRvY3VtZW50LmRvbWFpbjsKICAgICAgICAgICAgaWYgKCBkb21haW4gKSB7CiAgICAgICAgICAgICAgICBpZiAoIGRvbWFpbiAhPT0gZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUgKSB7CiAgICAgICAgICAgICAgICAgICAgcGFydDJjID0gJzsgZG9tYWluPS4nICsgZG9tYWluOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCBkb21haW4uc3RhcnRzV2l0aCgnd3d3LicpICkgewogICAgICAgICAgICAgICAgICAgIHBhcnQyZCA9ICc7IGRvbWFpbj0nICsgZG9tYWluLnJlcGxhY2UoJ3d3dycsICcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcGFydDMgPSAnOyBwYXRoPS8nOwogICAgICAgICAgICBsZXQgcGFydDQgPSAnOyBNYXgtQWdlPS0xMDAwOyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UJzsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcGFydDEgKyBwYXJ0NDsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcGFydDEgKyBwYXJ0MmEgKyBwYXJ0NDsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcGFydDEgKyBwYXJ0MmIgKyBwYXJ0NDsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcGFydDEgKyBwYXJ0MyArIHBhcnQ0OwogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBwYXJ0MSArIHBhcnQyYSArIHBhcnQzICsgcGFydDQ7CiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IHBhcnQxICsgcGFydDJiICsgcGFydDMgKyBwYXJ0NDsKICAgICAgICAgICAgaWYgKCBwYXJ0MmMgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IHBhcnQxICsgcGFydDJjICsgcGFydDMgKyBwYXJ0NDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIHBhcnQyZCAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcGFydDEgKyBwYXJ0MmQgKyBwYXJ0MyArIHBhcnQ0OwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwogICAgcmVtb3ZlQ29va2llKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgcmVtb3ZlQ29va2llKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"xml-prune.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KCiAgKGZ1bmN0aW9uIHhtbFBydW5lKAogICAgc2VsZWN0b3IgPSAnJywKICAgIHNlbGVjdG9yQ2hlY2sgPSAnJywKICAgIHVybFBhdHRlcm4gPSAnJwopIHsKICAgIGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHNlbGVjdG9yID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHJlVXJsID0gc2FmZS5wYXR0ZXJuVG9SZWdleCh1cmxQYXR0ZXJuKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBjb25zdCBsb2cgPSBzaG91bGRMb2coZXh0cmFBcmdzKSA/ICgoLi4uYXJncykgPT4geyBzYWZlLnVib0xvZyguLi5hcmdzKTsgfSkgOiAoKCApID0+IHsgfSk7CiAgICBjb25zdCBxdWVyeUFsbCA9ICh4bWxEb2MsIHNlbGVjdG9yKSA9PiB7CiAgICAgICAgY29uc3QgaXNYcGF0aCA9IC9eeHBhdGhcKC4rXCkkLy50ZXN0KHNlbGVjdG9yKTsKICAgICAgICBpZiAoIGlzWHBhdGggPT09IGZhbHNlICkgewogICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh4bWxEb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpOwogICAgICAgIH0KICAgICAgICBjb25zdCB4cHIgPSB4bWxEb2MuZXZhbHVhdGUoCiAgICAgICAgICAgIHNlbGVjdG9yLnNsaWNlKDYsIC0xKSwKICAgICAgICAgICAgeG1sRG9jLAogICAgICAgICAgICBudWxsLAogICAgICAgICAgICBYUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLAogICAgICAgICAgICBudWxsCiAgICAgICAgKTsKICAgICAgICBjb25zdCBvdXQgPSBbXTsKICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB4cHIuc25hcHNob3RMZW5ndGg7IGkrKyApIHsKICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHhwci5zbmFwc2hvdEl0ZW0oaSk7CiAgICAgICAgICAgIG91dC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgfTsKICAgIGNvbnN0IHBydW5lRnJvbURvYyA9IHhtbERvYyA9PiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCBzZWxlY3RvckNoZWNrICE9PSAnJyAmJiB4bWxEb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvckNoZWNrKSA9PT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB4bWxEb2M7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCBleHRyYUFyZ3MubG9nZG9jICkgewogICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7CiAgICAgICAgICAgICAgICBsb2coYHhtbFBydW5lOiBkb2N1bWVudCBpc1xuXHQke3NlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKX1gKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBpdGVtcyA9IHF1ZXJ5QWxsKHhtbERvYywgc2VsZWN0b3IpOwogICAgICAgICAgICBpZiAoIGl0ZW1zLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuIHhtbERvYzsgfQogICAgICAgICAgICBsb2coYHhtbFBydW5lOiByZW1vdmluZyAke2l0ZW1zLmxlbmd0aH0gaXRlbXNgKTsKICAgICAgICAgICAgZm9yICggY29uc3QgaXRlbSBvZiBpdGVtcyApIHsKICAgICAgICAgICAgICAgIGlmICggaXRlbS5ub2RlVHlwZSA9PT0gMSApIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICggaXRlbS5ub2RlVHlwZSA9PT0gMiApIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLm93bmVyRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoaXRlbS5ub2RlTmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsb2coYHhtbFBydW5lOiAke2l0ZW0uY29uc3RydWN0b3IubmFtZX0uJHtpdGVtLm5vZGVOYW1lfSByZW1vdmVkYCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGV4KSB7CiAgICAgICAgICAgIGxvZyhleCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB4bWxEb2M7CiAgICB9OwogICAgY29uc3QgcHJ1bmVGcm9tVGV4dCA9IHRleHQgPT4gewogICAgICAgIGlmICggKC9eXHMqPC8udGVzdCh0ZXh0KSAmJiAvPlxzKiQvLnRlc3QodGV4dCkpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHhtbFBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgY29uc3QgeG1sRG9jID0geG1sUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTsKICAgICAgICAgICAgcHJ1bmVGcm9tRG9jKHhtbERvYyk7CiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpOwogICAgICAgICAgICB0ZXh0ID0gc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpOwogICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9OwogICAgY29uc3QgdXJsRnJvbUFyZyA9IGFyZyA9PiB7CiAgICAgICAgaWYgKCB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyApIHsgcmV0dXJuIGFyZzsgfQogICAgICAgIGlmICggYXJnIGluc3RhbmNlb2YgUmVxdWVzdCApIHsgcmV0dXJuIGFyZy51cmw7IH0KICAgICAgICByZXR1cm4gU3RyaW5nKGFyZyk7CiAgICB9OwogICAgc2VsZi5mZXRjaCA9IG5ldyBQcm94eShzZWxmLmZldGNoLCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBjb25zdCBmZXRjaFByb21pc2UgPSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgICAgIGlmICggcmVVcmwudGVzdCh1cmxGcm9tQXJnKGFyZ3NbMF0pKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm9taXNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmZXRjaFByb21pc2UudGhlbihyZXNwb25zZUJlZm9yZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlQmVmb3JlLmNsb25lKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VBZnRlciA9IG5ldyBSZXNwb25zZShwcnVuZUZyb21UZXh0KHRleHQpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2VCZWZvcmUuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZUJlZm9yZS5zdGF0dXNUZXh0LAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZUJlZm9yZS5oZWFkZXJzLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHJlc3BvbnNlQWZ0ZXIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2s6IHsgdmFsdWU6IHJlc3BvbnNlQmVmb3JlLm9rIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWQ6IHsgdmFsdWU6IHJlc3BvbnNlQmVmb3JlLnJlZGlyZWN0ZWQgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUudHlwZSB9LAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHsgdmFsdWU6IHJlc3BvbnNlQmVmb3JlLnVybCB9LAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZUFmdGVyOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCApID0+CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VCZWZvcmUKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwogICAgc2VsZi5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IG5ldyBQcm94eShzZWxmLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuLCB7CiAgICAgICAgYXBwbHk6IGFzeW5jICh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpID0+IHsKICAgICAgICAgICAgaWYgKCByZVVybC50ZXN0KHVybEZyb21BcmcoYXJnc1sxXSkpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpc0FyZy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoIHRoaXNBcmcucmVhZHlTdGF0ZSAhPT0gNCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpc0FyZy5yZXNwb25zZVR5cGU7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ2RvY3VtZW50JyB8fAogICAgICAgICAgICAgICAgICAgIHR5cGUgPT09ICcnICYmIHRoaXNBcmcucmVzcG9uc2VYTUwgaW5zdGFuY2VvZiBYTUxEb2N1bWVudAogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgcHJ1bmVGcm9tRG9jKHRoaXNBcmcucmVzcG9uc2VYTUwpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAndGV4dCcgfHwKICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAnJyAmJiB0eXBlb2YgdGhpc0FyZy5yZXNwb25zZVRleHQgPT09ICdzdHJpbmcnCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0aW4gPSB0aGlzQXJnLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b3V0ID0gcHJ1bmVGcm9tVGV4dCh0ZXh0aW4pOwogICAgICAgICAgICAgICAgICAgIGlmICggdGV4dG91dCA9PT0gdGV4dGluICkgeyByZXR1cm47IH0KICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpc0FyZywgJ3Jlc3BvbnNlJywgeyB2YWx1ZTogdGV4dG91dCB9KTsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpc0FyZywgJ3Jlc3BvbnNlVGV4dCcsIHsgdmFsdWU6IHRleHRvdXQgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9CiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"m3u-prune.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KCiAgKGZ1bmN0aW9uIG0zdVBydW5lKAogICAgbTN1UGF0dGVybiA9ICcnLAogICAgdXJsUGF0dGVybiA9ICcnCikgewogICAgaWYgKCB0eXBlb2YgbTN1UGF0dGVybiAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBvcHRpb25zID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAyKTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKG9wdGlvbnMpOwogICAgY29uc3QgdWJvTG9nID0gbG9nTGV2ZWwgPyAoKC4uLmFyZ3MpID0+IHNhZmUudWJvTG9nKC4uLmFyZ3MpKSA6ICgoICkgPT4geyB9KTsKICAgIGNvbnN0IHJlZ2V4RnJvbUFyZyA9IGFyZyA9PiB7CiAgICAgICAgaWYgKCBhcmcgPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnbXNdKikkLy5leGVjKGFyZyk7CiAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgbGV0IGZsYWdzID0gbWF0Y2hbMl0gfHwgJyc7CiAgICAgICAgICAgIGlmICggZmxhZ3MuaW5jbHVkZXMoJ20nKSApIHsgZmxhZ3MgKz0gJ3MnOyB9CiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBmbGFncyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKAogICAgICAgICAgICBhcmcucmVwbGFjZSgvWy4rP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKS5yZXBsYWNlKC9cKisvZywgJy4qPycpCiAgICAgICAgKTsKICAgIH07CiAgICBjb25zdCByZU0zdSA9IHJlZ2V4RnJvbUFyZyhtM3VQYXR0ZXJuKTsKICAgIGNvbnN0IHJlVXJsID0gcmVnZXhGcm9tQXJnKHVybFBhdHRlcm4pOwogICAgY29uc3QgcHJ1bmVTcGxpY2VvdXRCbG9jayA9IChsaW5lcywgaSkgPT4gewogICAgICAgIGlmICggbGluZXNbaV0uc3RhcnRzV2l0aCgnI0VYVC1YLUNVRTpUWVBFPSJTcGxpY2VPdXQiJykgPT09IGZhbHNlICkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHVib0xvZygnbTN1LXBydW5lOiBkaXNjYXJkaW5nJywgYFxuXHQke2xpbmVzW2ldfWApOwogICAgICAgIGxpbmVzW2ldID0gdW5kZWZpbmVkOyBpICs9IDE7CiAgICAgICAgaWYgKCBsaW5lc1tpXS5zdGFydHNXaXRoKCcjRVhULVgtQVNTRVQ6Q0FJRCcpICkgewogICAgICAgICAgICB1Ym9Mb2coYFx0JHtsaW5lc1tpXX1gKTsKICAgICAgICAgICAgbGluZXNbaV0gPSB1bmRlZmluZWQ7IGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgaWYgKCBsaW5lc1tpXS5zdGFydHNXaXRoKCcjRVhULVgtU0NURTM1OicpICkgewogICAgICAgICAgICB1Ym9Mb2coYFx0JHtsaW5lc1tpXX1gKTsKICAgICAgICAgICAgbGluZXNbaV0gPSB1bmRlZmluZWQ7IGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgaWYgKCBsaW5lc1tpXS5zdGFydHNXaXRoKCcjRVhULVgtQ1VFLUlOJykgKSB7CiAgICAgICAgICAgIHVib0xvZyhgXHQke2xpbmVzW2ldfWApOwogICAgICAgICAgICBsaW5lc1tpXSA9IHVuZGVmaW5lZDsgaSArPSAxOwogICAgICAgIH0KICAgICAgICBpZiAoIGxpbmVzW2ldLnN0YXJ0c1dpdGgoJyNFWFQtWC1TQ1RFMzU6JykgKSB7CiAgICAgICAgICAgIHVib0xvZyhgXHQke2xpbmVzW2ldfWApOwogICAgICAgICAgICBsaW5lc1tpXSA9IHVuZGVmaW5lZDsgaSArPSAxOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBjb25zdCBwcnVuZUluZkJsb2NrID0gKGxpbmVzLCBpKSA9PiB7CiAgICAgICAgaWYgKCBsaW5lc1tpXS5zdGFydHNXaXRoKCcjRVhUSU5GJykgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBpZiAoIHJlTTN1LnRlc3QobGluZXNbaSsxXSkgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICB1Ym9Mb2coJ20zdS1wcnVuZTogZGlzY2FyZGluZycsIGBcblx0JHtsaW5lc1tpXX0sIFxuXHQke2xpbmVzW2krMV19YCk7CiAgICAgICAgbGluZXNbaV0gPSBsaW5lc1tpKzFdID0gdW5kZWZpbmVkOyBpICs9IDI7CiAgICAgICAgaWYgKCBsaW5lc1tpXS5zdGFydHNXaXRoKCcjRVhULVgtRElTQ09OVElOVUlUWScpICkgewogICAgICAgICAgICB1Ym9Mb2coYFx0JHtsaW5lc1tpXX1gKTsKICAgICAgICAgICAgbGluZXNbaV0gPSB1bmRlZmluZWQ7IGkgKz0gMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgY29uc3QgcHJ1bmVyID0gdGV4dCA9PiB7CiAgICAgICAgaWYgKCAoL15ccyojRVhUTTNVLy50ZXN0KHRleHQpKSA9PT0gZmFsc2UgKSB7IHJldHVybiB0ZXh0OyB9CiAgICAgICAgaWYgKCByZU0zdS5tdWx0aWxpbmUgKSB7CiAgICAgICAgICAgIHJlTTN1Lmxhc3RJbmRleCA9IDA7CiAgICAgICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcmVNM3UuZXhlYyh0ZXh0KTsKICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7IGJyZWFrOyB9CiAgICAgICAgICAgICAgICBsZXQgZGlzY2FyZCA9IG1hdGNoWzBdOwogICAgICAgICAgICAgICAgbGV0IGJlZm9yZSA9IHRleHQuc2xpY2UoMCwgbWF0Y2guaW5kZXgpOwogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIC9eW1xuXHJdKy8udGVzdChkaXNjYXJkKSA9PT0gZmFsc2UgJiYKICAgICAgICAgICAgICAgICAgICAvW1xuXHJdKyQvLnRlc3QoYmVmb3JlKSA9PT0gZmFsc2UKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZMaW5lID0gL1teXG5ccl0rJC8uZXhlYyhiZWZvcmUpOwogICAgICAgICAgICAgICAgICAgIGlmICggc3RhcnRPZkxpbmUgIT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGJlZm9yZS5zbGljZSgwLCBzdGFydE9mTGluZS5pbmRleCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NhcmQgPSBzdGFydE9mTGluZVswXSArIGRpc2NhcmQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IGFmdGVyID0gdGV4dC5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgL1tcblxyXSskLy50ZXN0KGRpc2NhcmQpID09PSBmYWxzZSAmJgogICAgICAgICAgICAgICAgICAgIC9eW1xuXHJdKy8udGVzdChhZnRlcikgPT09IGZhbHNlCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRPZkxpbmUgPSAvXlteXG5ccl0rLy5leGVjKGFmdGVyKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIGVuZE9mTGluZSAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBhZnRlci5zbGljZShlbmRPZkxpbmUuaW5kZXgpOwogICAgICAgICAgICAgICAgICAgICAgICBkaXNjYXJkICs9IGRpc2NhcmQgKyBlbmRPZkxpbmVbMF07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGV4dCA9IGJlZm9yZS50cmltKCkgKyAnXG4nICsgYWZ0ZXIudHJpbSgpOwogICAgICAgICAgICAgICAgcmVNM3UubGFzdEluZGV4ID0gYmVmb3JlLmxlbmd0aCArIDE7CiAgICAgICAgICAgICAgICB1Ym9Mb2coJ20zdS1wcnVuZTogZGlzY2FyZGluZ1xuJywKICAgICAgICAgICAgICAgICAgICBkaXNjYXJkLnNwbGl0KC9cbisvKS5tYXAocyA9PiBgXHQke3N9YCkuam9pbignXG4nKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGlmICggcmVNM3UuZ2xvYmFsID09PSBmYWxzZSApIHsgYnJlYWs7IH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICB9CiAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KC9cblxyfFxufFxyLyk7CiAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKysgKSB7CiAgICAgICAgICAgIGlmICggbGluZXNbaV0gPT09IHVuZGVmaW5lZCApIHsgY29udGludWU7IH0KICAgICAgICAgICAgaWYgKCBwcnVuZVNwbGljZW91dEJsb2NrKGxpbmVzLCBpKSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgaWYgKCBwcnVuZUluZkJsb2NrKGxpbmVzLCBpKSApIHsgY29udGludWU7IH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzLmZpbHRlcihsID0+IGwgIT09IHVuZGVmaW5lZCkuam9pbignXG4nKTsKICAgIH07CiAgICBjb25zdCB1cmxGcm9tQXJnID0gYXJnID0+IHsKICAgICAgICBpZiAoIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnICkgeyByZXR1cm4gYXJnOyB9CiAgICAgICAgaWYgKCBhcmcgaW5zdGFuY2VvZiBSZXF1ZXN0ICkgeyByZXR1cm4gYXJnLnVybDsgfQogICAgICAgIHJldHVybiBTdHJpbmcoYXJnKTsKICAgIH07CiAgICBjb25zdCByZWFsRmV0Y2ggPSBzZWxmLmZldGNoOwogICAgc2VsZi5mZXRjaCA9IG5ldyBQcm94eShzZWxmLmZldGNoLCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBpZiAoIHJlVXJsLnRlc3QodXJsRnJvbUFyZyhhcmdzWzBdKSkgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVhbEZldGNoKC4uLmFyZ3MpLnRoZW4ocmVhbFJlc3BvbnNlID0+CiAgICAgICAgICAgICAgICByZWFsUmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PgogICAgICAgICAgICAgICAgICAgIG5ldyBSZXNwb25zZShwcnVuZXIodGV4dCksIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZWFsUmVzcG9uc2Uuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZWFsUmVzcG9uc2Uuc3RhdHVzVGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVhbFJlc3BvbnNlLmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9KTsKICAgIHNlbGYuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBuZXcgUHJveHkoc2VsZi5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiwgewogICAgICAgIGFwcGx5OiBhc3luYyAodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSA9PiB7CiAgICAgICAgICAgIGlmICggcmVVcmwudGVzdCh1cmxGcm9tQXJnKGFyZ3NbMV0pKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXNBcmcuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKCB0aGlzQXJnLnJlYWR5U3RhdGUgIT09IDQgKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXNBcmcucmVzcG9uc2VUeXBlOwogICAgICAgICAgICAgICAgaWYgKCB0eXBlICE9PSAnJyAmJiB0eXBlICE9PSAndGV4dCcgKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgY29uc3QgdGV4dGluID0gdGhpc0FyZy5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0b3V0ID0gcHJ1bmVyKHRleHRpbik7CiAgICAgICAgICAgICAgICBpZiAoIHRleHRvdXQgPT09IHRleHRpbiApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpc0FyZywgJ3Jlc3BvbnNlJywgeyB2YWx1ZTogdGV4dG91dCB9KTsKICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzQXJnLCAncmVzcG9uc2VUZXh0JywgeyB2YWx1ZTogdGV4dG91dCB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgfQogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"href-sanitizer.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gaHJlZlNhbml0aXplcigKICAgIHNlbGVjdG9yID0gJycsCiAgICBzb3VyY2UgPSAnJwopIHsKICAgIGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHNlbGVjdG9yID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHNvdXJjZSA9PT0gJycgKSB7IHNvdXJjZSA9ICd0ZXh0JzsgfQogICAgY29uc3Qgc2FuaXRpemVDb3B5Y2F0cyA9IChocmVmLCB0ZXh0KSA9PiB7CiAgICAgICAgbGV0IGVsZW1zID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBhW2hyZWY9IiR7aHJlZn0iYCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgfQogICAgICAgIGZvciAoIGNvbnN0IGVsZW0gb2YgZWxlbXMgKSB7CiAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgdGV4dCk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlVVJMID0gdGV4dCA9PiB7CiAgICAgICAgaWYgKCB0ZXh0ID09PSAnJyApIHsgcmV0dXJuICcnOyB9CiAgICAgICAgaWYgKCAvW15ceDIxLVx4N2VdLy50ZXN0KHRleHQpICkgeyByZXR1cm4gJyc7IH0KICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRleHQsIGRvY3VtZW50LmxvY2F0aW9uKTsKICAgICAgICAgICAgcmV0dXJuIHVybC5ocmVmOwogICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfTsKICAgIGNvbnN0IGV4dHJhY3RUZXh0ID0gKGVsZW0sIHNvdXJjZSkgPT4gewogICAgICAgIGlmICggL15cWy4qXF0kLy50ZXN0KHNvdXJjZSkgKSB7CiAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShzb3VyY2Uuc2xpY2UoMSwtMSkudHJpbSgpKSB8fCAnJzsKICAgICAgICB9CiAgICAgICAgaWYgKCBzb3VyY2Uuc3RhcnRzV2l0aCgnPycpICkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbGVtLmhyZWYsIGRvY3VtZW50LmxvY2F0aW9uKTsKICAgICAgICAgICAgICAgIHJldHVybiB1cmwuc2VhcmNoUGFyYW1zLmdldChzb3VyY2Uuc2xpY2UoMSkpIHx8ICcnOwogICAgICAgICAgICB9IGNhdGNoKHgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQogICAgICAgIGlmICggc291cmNlID09PSAndGV4dCcgKSB7CiAgICAgICAgICAgIHJldHVybiBlbGVtLnRleHRDb250ZW50CiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXlteXHgyMS1ceDdlXSsvLCAnJykgLy8gcmVtb3ZlIGxlYWRpbmcgaW52YWxpZCBjaGFyYWN0ZXJzCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvW15ceDIxLVx4N2VdKyQvLCAnJykgLy8gcmVtb3ZlIHRyYWlsaW5nIGludmFsaWQgY2hhcmFjdGVycwogICAgICAgICAgICAgICAgOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9OwogICAgY29uc3Qgc2FuaXRpemUgPSAoICkgPT4gewogICAgICAgIGxldCBlbGVtcyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICAgICAgfQogICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZm9yICggY29uc3QgZWxlbSBvZiBlbGVtcyApIHsKICAgICAgICAgICAgaWYgKCBlbGVtLmxvY2FsTmFtZSAhPT0gJ2EnICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBpZiAoIGVsZW0uaGFzQXR0cmlidXRlKCdocmVmJykgPT09IGZhbHNlICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBjb25zdCBocmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgY29uc3QgdGV4dCA9IGV4dHJhY3RUZXh0KGVsZW0sIHNvdXJjZSk7CiAgICAgICAgICAgIGNvbnN0IGhyZWZBZnRlciA9IHZhbGlkYXRlVVJMKHRleHQpOwogICAgICAgICAgICBpZiAoIGhyZWZBZnRlciA9PT0gJycgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIGlmICggaHJlZkFmdGVyID09PSBocmVmICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWZBZnRlcik7CiAgICAgICAgICAgIHNhbml0aXplQ29weWNhdHMoaHJlZiwgaHJlZkFmdGVyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgbGV0IG9ic2VydmVyLCB0aW1lcjsKICAgIGNvbnN0IG9uRG9tQ2hhbmdlZCA9IG11dGF0aW9ucyA9PiB7CiAgICAgICAgaWYgKCB0aW1lciAhPT0gdW5kZWZpbmVkICkgeyByZXR1cm47IH0KICAgICAgICBsZXQgc2hvdWxkU2FuaXRpemUgPSBmYWxzZTsKICAgICAgICBmb3IgKCBjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMgKSB7CiAgICAgICAgICAgIGlmICggbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPT09IDAgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIGZvciAoIGNvbnN0IG5vZGUgb2YgbXV0YXRpb24uYWRkZWROb2RlcyApIHsKICAgICAgICAgICAgICAgIGlmICggbm9kZS5ub2RlVHlwZSAhPT0gMSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgICAgIHNob3VsZFNhbml0aXplID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggc2hvdWxkU2FuaXRpemUgKSB7IGJyZWFrOyB9CiAgICAgICAgfQogICAgICAgIGlmICggc2hvdWxkU2FuaXRpemUgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICB0aW1lciA9IHNlbGYucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCggKSA9PiB7CiAgICAgICAgICAgIHRpbWVyID0gdW5kZWZpbmVkOwogICAgICAgICAgICBzYW5pdGl6ZSgpOwogICAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHN0YXJ0ID0gKCApID0+IHsKICAgICAgICBpZiAoIHNhbml0aXplKCkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG9uRG9tQ2hhbmdlZCk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICB9KTsKICAgIH07CiAgICBydW5BdCgoICkgPT4geyBzdGFydCgpOyB9LCAnaW50ZXJhY3RpdmUnKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"call-nothrow.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIGNhbGxOb3Rocm93KAogICAgY2hhaW4gPSAnJwopIHsKICAgIGlmICggdHlwZW9mIGNoYWluICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIGNoYWluID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBwYXJ0cyA9IGNoYWluLnNwbGl0KCcuJyk7CiAgICBsZXQgb3duZXIgPSB3aW5kb3csIHByb3A7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgcHJvcCA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgaWYgKCBwYXJ0cy5sZW5ndGggPT09IDAgKSB7IGJyZWFrOyB9CiAgICAgICAgb3duZXIgPSBvd25lcltwcm9wXTsKICAgICAgICBpZiAoIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICB9CiAgICBpZiAoIHByb3AgPT09ICcnICkgeyByZXR1cm47IH0KICAgIGNvbnN0IGZuID0gb3duZXJbcHJvcF07CiAgICBpZiAoIHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJyApIHsgcmV0dXJuOyB9CiAgICBvd25lcltwcm9wXSA9IG5ldyBQcm94eShmbiwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbiguLi5hcmdzKSB7CiAgICAgICAgICAgIGxldCByOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgciA9IFJlZmxlY3QuYXBwbHkoLi4uYXJncyk7CiAgICAgICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICB9LAogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"spoof-css.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gc3Bvb2ZDU1MoCiAgICBzZWxlY3RvciwKICAgIC4uLmFyZ3MKKSB7CiAgICBpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgaWYgKCBzZWxlY3RvciA9PT0gJycgKSB7IHJldHVybjsgfQogICAgY29uc3QgdG9DYW1lbENhc2UgPSBzID0+IHMucmVwbGFjZSgvLVthLXpdL2csIHMgPT4gcy5jaGFyQXQoMSkudG9VcHBlckNhc2UoKSk7CiAgICBjb25zdCBwcm9wVG9WYWx1ZU1hcCA9IG5ldyBNYXAoKTsKICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDIgKSB7CiAgICAgICAgaWYgKCB0eXBlb2YgYXJnc1tpKzBdICE9PSAnc3RyaW5nJyApIHsgYnJlYWs7IH0KICAgICAgICBpZiAoIGFyZ3NbaSswXSA9PT0gJycgKSB7IGJyZWFrOyB9CiAgICAgICAgaWYgKCB0eXBlb2YgYXJnc1tpKzFdICE9PSAnc3RyaW5nJyApIHsgYnJlYWs7IH0KICAgICAgICBwcm9wVG9WYWx1ZU1hcC5zZXQodG9DYW1lbENhc2UoYXJnc1tpKzBdKSwgYXJnc1tpKzFdKTsKICAgIH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgY2FuRGVidWcgPSBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKTsKICAgIGNvbnN0IHNob3VsZERlYnVnID0gY2FuRGVidWcgJiYgcHJvcFRvVmFsdWVNYXAuZ2V0KCdkZWJ1ZycpIHx8IDA7CiAgICBjb25zdCBzaG91bGRMb2cgPSBjYW5EZWJ1ZyAmJiBwcm9wVG9WYWx1ZU1hcC5oYXMoJ2xvZycpIHx8IDA7CiAgICBjb25zdCBzcG9vZlN0eWxlID0gKHByb3AsIHJlYWwpID0+IHsKICAgICAgICBjb25zdCBub3JtYWxQcm9wID0gdG9DYW1lbENhc2UocHJvcCk7CiAgICAgICAgY29uc3Qgc2hvdWxkU3Bvb2YgPSBwcm9wVG9WYWx1ZU1hcC5oYXMobm9ybWFsUHJvcCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSBzaG91bGRTcG9vZiA/IHByb3BUb1ZhbHVlTWFwLmdldChub3JtYWxQcm9wKSA6IHJlYWw7CiAgICAgICAgaWYgKCBzaG91bGRMb2cgPT09IDIgfHwgc2hvdWxkU3Bvb2YgJiYgc2hvdWxkTG9nID09PSAxICkgewogICAgICAgICAgICBzYWZlLnVib0xvZyhwcm9wLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH07CiAgICBzZWxmLmdldENvbXB1dGVkU3R5bGUgPSBuZXcgUHJveHkoc2VsZi5nZXRDb21wdXRlZFN0eWxlLCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBpZiAoIHNob3VsZERlYnVnICE9PSAwICkgeyBkZWJ1Z2dlcjsgfSAgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50cyA9IG5ldyBXZWFrU2V0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTsKICAgICAgICAgICAgaWYgKCB0YXJnZXRFbGVtZW50cy5oYXMoYXJnc1swXSkgPT09IGZhbHNlICkgeyByZXR1cm4gc3R5bGU7IH0KICAgICAgICAgICAgY29uc3QgcHJveGllZFN0eWxlID0gbmV3IFByb3h5KHN0eWxlLCB7CiAgICAgICAgICAgICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgewogICAgICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHRhcmdldFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wID09PSAnZ2V0UHJvcGVydHlWYWx1ZScgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKHByb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Bvb2ZTdHlsZShwcm9wLCB0YXJnZXRbcHJvcF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuYmluZCh0YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF0uYmluZCh0YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Bvb2ZTdHlsZShwcm9wLCBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCkgewogICAgICAgICAgICAgICAgICAgIGlmICggcHJvcFRvVmFsdWVNYXAuaGFzKHByb3ApICkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9wVG9WYWx1ZU1hcC5nZXQocHJvcCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHByb3hpZWRTdHlsZTsKICAgICAgICB9LAogICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7CiAgICAgICAgICAgIGlmICggcHJvcCA9PT0gJ3RvU3RyaW5nJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQudG9TdHJpbmcuYmluZCh0YXJnZXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTsKICAgICAgICB9LAogICAgfSk7CiAgICBFbGVtZW50LnByb3RvdHlwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBuZXcgUHJveHkoRWxlbWVudC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykgewogICAgICAgICAgICBpZiAoIHNob3VsZERlYnVnICE9PSAwICkgeyBkZWJ1Z2dlcjsgfSAgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRzID0gbmV3IFdlYWtTZXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpOwogICAgICAgICAgICBpZiAoIHRhcmdldEVsZW1lbnRzLmhhcyh0aGlzQXJnKSA9PT0gZmFsc2UgKSB7IHJldHVybiByZWN0OyB9CiAgICAgICAgICAgIGxldCB7IGhlaWdodCwgd2lkdGggfSA9IHJlY3Q7CiAgICAgICAgICAgIGlmICggcHJvcFRvVmFsdWVNYXAuaGFzKCd3aWR0aCcpICkgewogICAgICAgICAgICAgICAgd2lkdGggPSBwYXJzZUZsb2F0KHByb3BUb1ZhbHVlTWFwLmdldCgnd2lkdGgnKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCBwcm9wVG9WYWx1ZU1hcC5oYXMoJ2hlaWdodCcpICkgewogICAgICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VGbG9hdChwcm9wVG9WYWx1ZU1hcC5nZXQoJ2hlaWdodCcpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV3IHNlbGYuRE9NUmVjdChyZWN0LngsIHJlY3QueSwgd2lkdGgsIGhlaWdodCk7CiAgICAgICAgfSwKICAgICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgewogICAgICAgICAgICBpZiAoIHByb3AgPT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnRvU3RyaW5nLmJpbmQodGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7CiAgICAgICAgfSwKICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"remove-node-text.js","aliases":["rmnt.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQpmdW5jdGlvbiByZXBsYWNlTm9kZVRleHRGbigKICAgIG5vZGVOYW1lID0gJycsCiAgICBwYXR0ZXJuID0gJycsCiAgICByZXBsYWNlbWVudCA9ICcnCikgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCByZU5vZGVOYW1lID0gc2FmZS5wYXR0ZXJuVG9SZWdleChub2RlTmFtZSwgJ2knLCB0cnVlKTsKICAgIGNvbnN0IHJlUGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgocGF0dGVybiwgJ2dtcycpOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKTsKICAgIGNvbnN0IHNob3VsZExvZyA9IHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGV4dHJhQXJncy5sb2cgfHwgMDsKICAgIGNvbnN0IHJlQ29uZGl0aW9uID0gc2FmZS5wYXR0ZXJuVG9SZWdleChleHRyYUFyZ3MuY29uZGl0aW9uIHx8ICcnLCAnZ21zJyk7CiAgICBjb25zdCBzdG9wID0gKHRha2VSZWNvcmQgPSB0cnVlKSA9PiB7CiAgICAgICAgaWYgKCB0YWtlUmVjb3JkICkgewogICAgICAgICAgICBoYW5kbGVNdXRhdGlvbnMob2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7CiAgICAgICAgfQogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBpZiAoIHNob3VsZExvZyAhPT0gMCApIHsKICAgICAgICAgICAgc2FmZS51Ym9Mb2coYHJlcGxhY2Utbm9kZS10ZXh0LWNvcmUuZm46IHF1aXR0aW5nICIke3BhdHRlcm59IiA9PiAiJHtyZXBsYWNlbWVudH0iYCk7CiAgICAgICAgfQogICAgfTsKICAgIGxldCBzZWRDb3VudCA9IGV4dHJhQXJncy5zZWRDb3VudCB8fCAwOwogICAgY29uc3QgaGFuZGxlTm9kZSA9IG5vZGUgPT4gewogICAgICAgIGNvbnN0IGJlZm9yZSA9IG5vZGUudGV4dENvbnRlbnQ7CiAgICAgICAgaWYgKCBzYWZlLlJlZ0V4cF90ZXN0LmNhbGwocmVQYXR0ZXJuLCBiZWZvcmUpID09PSBmYWxzZSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIHNhZmUuUmVnRXhwX3Rlc3QuY2FsbChyZUNvbmRpdGlvbiwgYmVmb3JlKSA9PT0gZmFsc2UgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgY29uc3QgYWZ0ZXIgPSBwYXR0ZXJuICE9PSAnJwogICAgICAgICAgICA/IGJlZm9yZS5yZXBsYWNlKHJlUGF0dGVybiwgcmVwbGFjZW1lbnQpCiAgICAgICAgICAgIDogcmVwbGFjZW1lbnQ7CiAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IGFmdGVyOwogICAgICAgIGlmICggc2hvdWxkTG9nICE9PSAwICkgewogICAgICAgICAgICBzYWZlLnVib0xvZygncmVwbGFjZS1ub2RlLXRleHQuZm4gYmVmb3JlOlxuJywgYmVmb3JlKTsKICAgICAgICAgICAgc2FmZS51Ym9Mb2coJ3JlcGxhY2Utbm9kZS10ZXh0LmZuIGFmdGVyOlxuJywgYWZ0ZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VkQ291bnQgPT09IDAgfHwgKHNlZENvdW50IC09IDEpICE9PSAwOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZU11dGF0aW9ucyA9IG11dGF0aW9ucyA9PiB7CiAgICAgICAgZm9yICggY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zICkgewogICAgICAgICAgICBmb3IgKCBjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMgKSB7CiAgICAgICAgICAgICAgICBpZiAoIHJlTm9kZU5hbWUudGVzdChub2RlLm5vZGVOYW1lKSA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBpZiAoIGhhbmRsZU5vZGUobm9kZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBzdG9wKGZhbHNlKTsgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoaGFuZGxlTXV0YXRpb25zKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgKSB7CiAgICAgICAgY29uc3QgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoCiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwKICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVAogICAgICAgICk7CiAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICBmb3IgKDs7KSB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0cmVlV2Fsa2VyLm5leHROb2RlKCk7CiAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICAgIGlmICggbm9kZSA9PT0gbnVsbCApIHsgYnJlYWs7IH0KICAgICAgICAgICAgaWYgKCByZU5vZGVOYW1lLnRlc3Qobm9kZS5ub2RlTmFtZSkgPT09IGZhbHNlICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBpZiAoIGhhbmRsZU5vZGUobm9kZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIHN0b3AoKTsgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmICggc2hvdWxkTG9nICE9PSAwICkgewogICAgICAgICAgICBzYWZlLnVib0xvZyhgcmVwbGFjZS1ub2RlLXRleHQtY29yZS5mbiAke2NvdW50fSBub2RlcyBwcmVzZW50IGJlZm9yZSBpbnN0YWxsaW5nIG11dGF0aW9uIG9ic2VydmVyYCk7CiAgICAgICAgfQogICAgfQogICAgaWYgKCBleHRyYUFyZ3Muc3RheSApIHsgcmV0dXJuOyB9CiAgICBydW5BdCgoICkgPT4gewogICAgICAgIGNvbnN0IHF1aXRBZnRlciA9IGV4dHJhQXJncy5xdWl0QWZ0ZXIgfHwgMDsKICAgICAgICBpZiAoIHF1aXRBZnRlciAhPT0gMCApIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoICkgPT4geyBzdG9wKCk7IH0sIHF1aXRBZnRlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcCgpOwogICAgICAgIH0KICAgIH0sICdpbnRlcmFjdGl2ZScpOwp9CgogIChmdW5jdGlvbiByZW1vdmVOb2RlVGV4dCgKICAgIG5vZGVOYW1lLAogICAgY29uZGl0aW9uLAogICAgLi4uZXh0cmFBcmdzCikgewogICAgcmVwbGFjZU5vZGVUZXh0Rm4obm9kZU5hbWUsICcnLCAnJywgJ2NvbmRpdGlvbicsIGNvbmRpdGlvbiB8fCAnJywgLi4uZXh0cmFBcmdzKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"set-cookie.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2V0Q29va2llRm4oCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBuYW1lID0gJycsCiAgICB2YWx1ZSA9ICcnLAogICAgZXhwaXJlcyA9ICcnLAogICAgcGF0aCA9ICcnLAogICAgb3B0aW9ucyA9IHt9LAopIHsKICAgIGNvbnN0IGdldENvb2tpZVZhbHVlID0gbmFtZSA9PiB7CiAgICAgICAgZm9yICggY29uc3QgcyBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoL1xzKjtccyovKSApIHsKICAgICAgICAgICAgY29uc3QgcG9zID0gcy5pbmRleE9mKCc9Jyk7CiAgICAgICAgICAgIGlmICggcG9zID09PSAtMSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgaWYgKCBzLnNsaWNlKDAsIHBvcykgIT09IG5hbWUgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIHJldHVybiBzLnNsaWNlKHBvcysxKTsKICAgICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGNvb2tpZUJlZm9yZSA9IGdldENvb2tpZVZhbHVlKG5hbWUpOwogICAgaWYgKCBjb29raWVCZWZvcmUgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmRvbnRPdmVyd3JpdGUgKSB7IHJldHVybjsgfQogICAgaWYgKCBjb29raWVCZWZvcmUgPT09IHZhbHVlICYmIG9wdGlvbnMucmVsb2FkICkgeyByZXR1cm47IH0KCiAgICBjb25zdCBjb29raWVQYXJ0cyA9IFsgbmFtZSwgJz0nLCB2YWx1ZSBdOwogICAgaWYgKCBleHBpcmVzICE9PSAnJyApIHsKICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IGV4cGlyZXM9JywgZXhwaXJlcyk7CiAgICB9CgogICAgaWYgKCBwYXRoID09PSAnJyApIHsgcGF0aCA9ICcvJzsgfQogICAgZWxzZSBpZiAoIHBhdGggPT09ICdub25lJyApIHsgcGF0aCA9ICcnOyB9CiAgICBpZiAoIHBhdGggIT09ICcnICYmIHBhdGggIT09ICcvJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHBhdGggPT09ICcvJyApIHsKICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IHBhdGg9LycpOwogICAgfQoKICAgIGlmICggdHJ1c3RlZCApIHsKICAgICAgICBpZiAoIG9wdGlvbnMuZG9tYWluICkgewogICAgICAgICAgICBjb29raWVQYXJ0cy5wdXNoKGA7IGRvbWFpbj0ke29wdGlvbnMuZG9tYWlufWApOwogICAgICAgIH0KICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IFNlY3VyZScpOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llUGFydHMuam9pbignJyk7CiAgICB9IGNhdGNoKF8pIHsKICAgIH0KCiAgICBpZiAoIG9wdGlvbnMucmVsb2FkICYmIGdldENvb2tpZVZhbHVlKG5hbWUpID09PSB2YWx1ZSApIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9Cn0KZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gc2V0Q29va2llKAogICAgbmFtZSA9ICcnLAogICAgdmFsdWUgPSAnJywKICAgIHBhdGggPSAnJwopIHsKICAgIGlmICggbmFtZSA9PT0gJycgKSB7IHJldHVybjsgfQogICAgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKTsKCiAgICBjb25zdCB2YWxpZFZhbHVlcyA9IFsKICAgICAgICAnYWNjZXB0JywgJ3JlamVjdCcsCiAgICAgICAgJ2FjY2VwdGVkJywgJ3JlamVjdGVkJywgJ25vdGFjY2VwdGVkJywKICAgICAgICAnYWxsb3cnLCAnZGVueScsCiAgICAgICAgJ2FsbG93ZWQnLCAnZGlzYWxsb3cnLAogICAgICAgICdlbmFibGUnLCAnZGlzYWJsZScsCiAgICAgICAgJ2VuYWJsZWQnLCAnZGlzYWJsZWQnLAogICAgICAgICdvaycsCiAgICAgICAgJ29uJywgJ29mZicsCiAgICAgICAgJ3RydWUnLCAnZmFsc2UnLAogICAgICAgICd5JywgJ24nLAogICAgICAgICd5ZXMnLCAnbm8nLAogICAgXTsKICAgIGlmICggdmFsaWRWYWx1ZXMuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlICkgewogICAgICAgIGlmICggL15cZCskLy50ZXN0KHZhbHVlKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgIGNvbnN0IG4gPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgIGlmICggbiA+IDE1ICkgeyByZXR1cm47IH0KICAgIH0KICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsKCiAgICBzZXRDb29raWVGbigKICAgICAgICBmYWxzZSwKICAgICAgICBuYW1lLAogICAgICAgIHZhbHVlLAogICAgICAgICcnLAogICAgICAgIHBhdGgsCiAgICAgICAgc2FmZVNlbGYoKS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKQogICAgKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"set-cookie-reload.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBzZXRDb29raWVGbigKICAgIHRydXN0ZWQgPSBmYWxzZSwKICAgIG5hbWUgPSAnJywKICAgIHZhbHVlID0gJycsCiAgICBleHBpcmVzID0gJycsCiAgICBwYXRoID0gJycsCiAgICBvcHRpb25zID0ge30sCikgewogICAgY29uc3QgZ2V0Q29va2llVmFsdWUgPSBuYW1lID0+IHsKICAgICAgICBmb3IgKCBjb25zdCBzIG9mIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgvXHMqO1xzKi8pICkgewogICAgICAgICAgICBjb25zdCBwb3MgPSBzLmluZGV4T2YoJz0nKTsKICAgICAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBpZiAoIHMuc2xpY2UoMCwgcG9zKSAhPT0gbmFtZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHMuc2xpY2UocG9zKzEpOwogICAgICAgIH0KICAgIH07CgogICAgY29uc3QgY29va2llQmVmb3JlID0gZ2V0Q29va2llVmFsdWUobmFtZSk7CiAgICBpZiAoIGNvb2tpZUJlZm9yZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuZG9udE92ZXJ3cml0ZSApIHsgcmV0dXJuOyB9CiAgICBpZiAoIGNvb2tpZUJlZm9yZSA9PT0gdmFsdWUgJiYgb3B0aW9ucy5yZWxvYWQgKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IGNvb2tpZVBhcnRzID0gWyBuYW1lLCAnPScsIHZhbHVlIF07CiAgICBpZiAoIGV4cGlyZXMgIT09ICcnICkgewogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgZXhwaXJlcz0nLCBleHBpcmVzKTsKICAgIH0KCiAgICBpZiAoIHBhdGggPT09ICcnICkgeyBwYXRoID0gJy8nOyB9CiAgICBlbHNlIGlmICggcGF0aCA9PT0gJ25vbmUnICkgeyBwYXRoID0gJyc7IH0KICAgIGlmICggcGF0aCAhPT0gJycgJiYgcGF0aCAhPT0gJy8nICkgeyByZXR1cm47IH0KICAgIGlmICggcGF0aCA9PT0gJy8nICkgewogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgcGF0aD0vJyk7CiAgICB9CgogICAgaWYgKCB0cnVzdGVkICkgewogICAgICAgIGlmICggb3B0aW9ucy5kb21haW4gKSB7CiAgICAgICAgICAgIGNvb2tpZVBhcnRzLnB1c2goYDsgZG9tYWluPSR7b3B0aW9ucy5kb21haW59YCk7CiAgICAgICAgfQogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgU2VjdXJlJyk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWVQYXJ0cy5qb2luKCcnKTsKICAgIH0gY2F0Y2goXykgewogICAgfQoKICAgIGlmICggb3B0aW9ucy5yZWxvYWQgJiYgZ2V0Q29va2llVmFsdWUobmFtZSkgPT09IHZhbHVlICkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KfQpmdW5jdGlvbiBzZXRDb29raWUoCiAgICBuYW1lID0gJycsCiAgICB2YWx1ZSA9ICcnLAogICAgcGF0aCA9ICcnCikgewogICAgaWYgKCBuYW1lID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpOwoKICAgIGNvbnN0IHZhbGlkVmFsdWVzID0gWwogICAgICAgICdhY2NlcHQnLCAncmVqZWN0JywKICAgICAgICAnYWNjZXB0ZWQnLCAncmVqZWN0ZWQnLCAnbm90YWNjZXB0ZWQnLAogICAgICAgICdhbGxvdycsICdkZW55JywKICAgICAgICAnYWxsb3dlZCcsICdkaXNhbGxvdycsCiAgICAgICAgJ2VuYWJsZScsICdkaXNhYmxlJywKICAgICAgICAnZW5hYmxlZCcsICdkaXNhYmxlZCcsCiAgICAgICAgJ29rJywKICAgICAgICAnb24nLCAnb2ZmJywKICAgICAgICAndHJ1ZScsICdmYWxzZScsCiAgICAgICAgJ3knLCAnbicsCiAgICAgICAgJ3llcycsICdubycsCiAgICBdOwogICAgaWYgKCB2YWxpZFZhbHVlcy5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgaWYgKCAvXlxkKyQvLnRlc3QodmFsdWUpID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAgICAgICAgaWYgKCBuID4gMTUgKSB7IHJldHVybjsgfQogICAgfQogICAgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpOwoKICAgIHNldENvb2tpZUZuKAogICAgICAgIGZhbHNlLAogICAgICAgIG5hbWUsCiAgICAgICAgdmFsdWUsCiAgICAgICAgJycsCiAgICAgICAgcGF0aCwKICAgICAgICBzYWZlU2VsZigpLmdldEV4dHJhQXJncyhBcnJheS5mcm9tKGFyZ3VtZW50cyksIDMpCiAgICApOwp9CgogIChmdW5jdGlvbiBzZXRDb29raWVSZWxvYWQobmFtZSwgdmFsdWUsIHBhdGgsIC4uLmFyZ3MpIHsKICAgIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgcGF0aCwgJ3JlbG9hZCcsICcxJywgLi4uYXJncyk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"set-local-storage-item.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2VJdGVtRm4oCiAgICB3aGljaCA9ICdsb2NhbCcsCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBrZXkgPSAnJywKICAgIHZhbHVlID0gJycsCikgewogICAgaWYgKCBrZXkgPT09ICcnICkgeyByZXR1cm47IH0KCiAgICBjb25zdCB0cnVzdGVkVmFsdWVzID0gWwogICAgICAgICcnLAogICAgICAgICd1bmRlZmluZWQnLCAnbnVsbCcsCiAgICAgICAgJ2ZhbHNlJywgJ3RydWUnLAogICAgICAgICdvbicsICdvZmYnLAogICAgICAgICd5ZXMnLCAnbm8nLAogICAgICAgICd7fScsICdbXScsICciIicsCiAgICAgICAgJyRyZW1vdmUkJywKICAgIF07CgogICAgaWYgKCB0cnVzdGVkICkgewogICAgICAgIGlmICggdmFsdWUgPT09ICckbm93JCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gRGF0ZS5ub3coKTsKICAgICAgICB9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gJyRjdXJyZW50RGF0ZSQnICkgewogICAgICAgICAgICB2YWx1ZSA9IGAke0RhdGUoKX1gOwogICAgICAgIH0gZWxzZSBpZiAoIHZhbHVlID09PSAnJGN1cnJlbnRJU09EYXRlJCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAoIHRydXN0ZWRWYWx1ZXMuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlICkgewogICAgICAgICAgICBpZiAoIC9eXGQrJC8udGVzdCh2YWx1ZSkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgICAgICBpZiAoIHZhbHVlID4gMzI3NjcgKSB7IHJldHVybjsgfQogICAgICAgIH0KICAgIH0KCiAgICB0cnkgewogICAgICAgIGNvbnN0IHN0b3JhZ2UgPSBzZWxmW2Ake3doaWNofVN0b3JhZ2VgXTsKICAgICAgICBpZiAoIHZhbHVlID09PSAnJHJlbW92ZSQnICkgewogICAgICAgICAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgoa2V5LCB1bmRlZmluZWQsIHRydWUgKTsKICAgICAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBbXTsKICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwLCBuID0gc3RvcmFnZS5sZW5ndGg7IGkgPCBuOyBpKysgKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgIGlmICggcGF0dGVybi50ZXN0KGtleSkgKSB7IHRvUmVtb3ZlLnB1c2goa2V5KTsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiB0b1JlbW92ZSApIHsKICAgICAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleSwgYCR7dmFsdWV9YCk7CiAgICAgICAgfQogICAgfSBjYXRjaChleCkgewogICAgfQp9CgogIChmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2VJdGVtKGtleSA9ICcnLCB2YWx1ZSA9ICcnKSB7CiAgICBzZXRMb2NhbFN0b3JhZ2VJdGVtRm4oJ2xvY2FsJywgZmFsc2UsIGtleSwgdmFsdWUpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"set-session-storage-item.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2VJdGVtRm4oCiAgICB3aGljaCA9ICdsb2NhbCcsCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBrZXkgPSAnJywKICAgIHZhbHVlID0gJycsCikgewogICAgaWYgKCBrZXkgPT09ICcnICkgeyByZXR1cm47IH0KCiAgICBjb25zdCB0cnVzdGVkVmFsdWVzID0gWwogICAgICAgICcnLAogICAgICAgICd1bmRlZmluZWQnLCAnbnVsbCcsCiAgICAgICAgJ2ZhbHNlJywgJ3RydWUnLAogICAgICAgICdvbicsICdvZmYnLAogICAgICAgICd5ZXMnLCAnbm8nLAogICAgICAgICd7fScsICdbXScsICciIicsCiAgICAgICAgJyRyZW1vdmUkJywKICAgIF07CgogICAgaWYgKCB0cnVzdGVkICkgewogICAgICAgIGlmICggdmFsdWUgPT09ICckbm93JCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gRGF0ZS5ub3coKTsKICAgICAgICB9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gJyRjdXJyZW50RGF0ZSQnICkgewogICAgICAgICAgICB2YWx1ZSA9IGAke0RhdGUoKX1gOwogICAgICAgIH0gZWxzZSBpZiAoIHZhbHVlID09PSAnJGN1cnJlbnRJU09EYXRlJCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAoIHRydXN0ZWRWYWx1ZXMuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlICkgewogICAgICAgICAgICBpZiAoIC9eXGQrJC8udGVzdCh2YWx1ZSkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgICAgICBpZiAoIHZhbHVlID4gMzI3NjcgKSB7IHJldHVybjsgfQogICAgICAgIH0KICAgIH0KCiAgICB0cnkgewogICAgICAgIGNvbnN0IHN0b3JhZ2UgPSBzZWxmW2Ake3doaWNofVN0b3JhZ2VgXTsKICAgICAgICBpZiAoIHZhbHVlID09PSAnJHJlbW92ZSQnICkgewogICAgICAgICAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgoa2V5LCB1bmRlZmluZWQsIHRydWUgKTsKICAgICAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBbXTsKICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwLCBuID0gc3RvcmFnZS5sZW5ndGg7IGkgPCBuOyBpKysgKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgIGlmICggcGF0dGVybi50ZXN0KGtleSkgKSB7IHRvUmVtb3ZlLnB1c2goa2V5KTsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiB0b1JlbW92ZSApIHsKICAgICAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleSwgYCR7dmFsdWV9YCk7CiAgICAgICAgfQogICAgfSBjYXRjaChleCkgewogICAgfQp9CgogIChmdW5jdGlvbiBzZXRTZXNzaW9uU3RvcmFnZUl0ZW0oa2V5ID0gJycsIHZhbHVlID0gJycpIHsKICAgIHNldExvY2FsU3RvcmFnZUl0ZW1Gbignc2Vzc2lvbicsIGZhbHNlLCBrZXksIHZhbHVlKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"set-attr.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQoKICAoZnVuY3Rpb24gc2V0QXR0cigKICAgIHNlbGVjdG9yID0gJycsCiAgICBhdHRyID0gJycsCiAgICB2YWx1ZSA9ICcnCikgewogICAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICdzdHJpbmcnICkgeyByZXR1cm47IH0KICAgIGlmICggc2VsZWN0b3IgPT09ICcnICkgeyByZXR1cm47IH0KCiAgICBjb25zdCB2YWxpZFZhbHVlcyA9IFsgJycsICdmYWxzZScsICd0cnVlJyBdOwogICAgbGV0IGNvcHlGcm9tID0gJyc7CgogICAgaWYgKCB2YWxpZFZhbHVlcy5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgaWYgKCAvXlxkKyQvLnRlc3QodmFsdWUpICkgewogICAgICAgICAgICBjb25zdCBuID0gcGFyc2VJbnQodmFsdWUsIDEwKTsKICAgICAgICAgICAgaWYgKCBuID49IDMyNzY4ICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdmFsdWUgPSBgJHtufWA7CiAgICAgICAgfSBlbHNlIGlmICggL15cWy4rXF0kLy50ZXN0KHZhbHVlKSApIHsKICAgICAgICAgICAgY29weUZyb20gPSB2YWx1ZS5zbGljZSgxLCAtMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICBjb25zdCBleHRyYWN0VmFsdWUgPSBlbGVtID0+IHsKICAgICAgICBpZiAoIGNvcHlGcm9tICE9PSAnJyApIHsKICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKGNvcHlGcm9tKSB8fCAnJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgfTsKCiAgICBjb25zdCBhcHBseVNldEF0dHIgPSAoICkgPT4gewogICAgICAgIGNvbnN0IGVsZW1zID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZWxlbXMucHVzaCguLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7CiAgICAgICAgfQogICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZm9yICggY29uc3QgZWxlbSBvZiBlbGVtcyApIHsKICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gZWxlbS5nZXRBdHRyaWJ1dGUoYXR0cik7CiAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gZXh0cmFjdFZhbHVlKGVsZW0pOwogICAgICAgICAgICBpZiAoIGFmdGVyID09PSBiZWZvcmUgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGF0dHIsIGFmdGVyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgbGV0IG9ic2VydmVyLCB0aW1lcjsKICAgIGNvbnN0IG9uRG9tQ2hhbmdlZCA9IG11dGF0aW9ucyA9PiB7CiAgICAgICAgaWYgKCB0aW1lciAhPT0gdW5kZWZpbmVkICkgeyByZXR1cm47IH0KICAgICAgICBsZXQgc2hvdWxkV29yayA9IGZhbHNlOwogICAgICAgIGZvciAoIGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucyApIHsKICAgICAgICAgICAgaWYgKCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA9PT0gMCApIHsgY29udGludWU7IH0KICAgICAgICAgICAgZm9yICggY29uc3Qgbm9kZSBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzICkgewogICAgICAgICAgICAgICAgaWYgKCBub2RlLm5vZGVUeXBlICE9PSAxICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICAgICAgc2hvdWxkV29yayA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIHNob3VsZFdvcmsgKSB7IGJyZWFrOyB9CiAgICAgICAgfQogICAgICAgIGlmICggc2hvdWxkV29yayA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgIHRpbWVyID0gc2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCApID0+IHsKICAgICAgICAgICAgdGltZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIGFwcGx5U2V0QXR0cigpOwogICAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHN0YXJ0ID0gKCApID0+IHsKICAgICAgICBpZiAoIGFwcGx5U2V0QXR0cigpID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihvbkRvbUNoYW5nZWQpOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLAogICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgfSk7CiAgICB9OwogICAgcnVuQXQoKCApID0+IHsgc3RhcnQoKTsgfSwgJ2lkbGUnKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"prevent-canvas.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gcHJldmVudENhbnZhcygKICAgIGNvbnRleHRUeXBlID0gJycKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHBhdHRlcm4gPSBzYWZlLmluaXRQYXR0ZXJuKGNvbnRleHRUeXBlLCB7IGNhbk5lZ2F0ZTogdHJ1ZSB9KTsKICAgIGNvbnN0IHByb3RvID0gZ2xvYmFsVGhpcy5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGU7CiAgICBwcm90by5nZXRDb250ZXh0ID0gbmV3IFByb3h5KHByb3RvLmdldENvbnRleHQsIHsKICAgICAgICBhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzYWZlLnRlc3RQYXR0ZXJuKHBhdHRlcm4sIGFyZ3NbMF0pICkgeyByZXR1cm4gbnVsbDsgfQogICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgIH0KICAgIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"multiup.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgCiAgKGZ1bmN0aW9uIG11bHRpdXAoKSB7CiAgICBjb25zdCBoYW5kbGVyID0gZXYgPT4gewogICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldDsKICAgICAgICBpZiAoIHRhcmdldC5tYXRjaGVzKCdidXR0b25bbGlua10nKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgIGNvbnN0IGFuY2VzdG9yID0gdGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKTsKICAgICAgICBpZiAoIGFuY2VzdG9yID09PSBudWxsICkgeyByZXR1cm47IH0KICAgICAgICBpZiAoIGFuY2VzdG9yICE9PSB0YXJnZXQucGFyZW50RWxlbWVudCApIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc3QgbGluayA9ICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdsaW5rJykgfHwgJycpLnRyaW0oKTsKICAgICAgICBpZiAoIGxpbmsgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBsaW5rOwogICAgfTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"replace-node-text.js","aliases":["rpnt.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQpmdW5jdGlvbiByZXBsYWNlTm9kZVRleHRGbigKICAgIG5vZGVOYW1lID0gJycsCiAgICBwYXR0ZXJuID0gJycsCiAgICByZXBsYWNlbWVudCA9ICcnCikgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCByZU5vZGVOYW1lID0gc2FmZS5wYXR0ZXJuVG9SZWdleChub2RlTmFtZSwgJ2knLCB0cnVlKTsKICAgIGNvbnN0IHJlUGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgocGF0dGVybiwgJ2dtcycpOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKTsKICAgIGNvbnN0IHNob3VsZExvZyA9IHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGV4dHJhQXJncy5sb2cgfHwgMDsKICAgIGNvbnN0IHJlQ29uZGl0aW9uID0gc2FmZS5wYXR0ZXJuVG9SZWdleChleHRyYUFyZ3MuY29uZGl0aW9uIHx8ICcnLCAnZ21zJyk7CiAgICBjb25zdCBzdG9wID0gKHRha2VSZWNvcmQgPSB0cnVlKSA9PiB7CiAgICAgICAgaWYgKCB0YWtlUmVjb3JkICkgewogICAgICAgICAgICBoYW5kbGVNdXRhdGlvbnMob2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7CiAgICAgICAgfQogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBpZiAoIHNob3VsZExvZyAhPT0gMCApIHsKICAgICAgICAgICAgc2FmZS51Ym9Mb2coYHJlcGxhY2Utbm9kZS10ZXh0LWNvcmUuZm46IHF1aXR0aW5nICIke3BhdHRlcm59IiA9PiAiJHtyZXBsYWNlbWVudH0iYCk7CiAgICAgICAgfQogICAgfTsKICAgIGxldCBzZWRDb3VudCA9IGV4dHJhQXJncy5zZWRDb3VudCB8fCAwOwogICAgY29uc3QgaGFuZGxlTm9kZSA9IG5vZGUgPT4gewogICAgICAgIGNvbnN0IGJlZm9yZSA9IG5vZGUudGV4dENvbnRlbnQ7CiAgICAgICAgaWYgKCBzYWZlLlJlZ0V4cF90ZXN0LmNhbGwocmVQYXR0ZXJuLCBiZWZvcmUpID09PSBmYWxzZSApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICBpZiAoIHNhZmUuUmVnRXhwX3Rlc3QuY2FsbChyZUNvbmRpdGlvbiwgYmVmb3JlKSA9PT0gZmFsc2UgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgY29uc3QgYWZ0ZXIgPSBwYXR0ZXJuICE9PSAnJwogICAgICAgICAgICA/IGJlZm9yZS5yZXBsYWNlKHJlUGF0dGVybiwgcmVwbGFjZW1lbnQpCiAgICAgICAgICAgIDogcmVwbGFjZW1lbnQ7CiAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IGFmdGVyOwogICAgICAgIGlmICggc2hvdWxkTG9nICE9PSAwICkgewogICAgICAgICAgICBzYWZlLnVib0xvZygncmVwbGFjZS1ub2RlLXRleHQuZm4gYmVmb3JlOlxuJywgYmVmb3JlKTsKICAgICAgICAgICAgc2FmZS51Ym9Mb2coJ3JlcGxhY2Utbm9kZS10ZXh0LmZuIGFmdGVyOlxuJywgYWZ0ZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VkQ291bnQgPT09IDAgfHwgKHNlZENvdW50IC09IDEpICE9PSAwOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZU11dGF0aW9ucyA9IG11dGF0aW9ucyA9PiB7CiAgICAgICAgZm9yICggY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zICkgewogICAgICAgICAgICBmb3IgKCBjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMgKSB7CiAgICAgICAgICAgICAgICBpZiAoIHJlTm9kZU5hbWUudGVzdChub2RlLm5vZGVOYW1lKSA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBpZiAoIGhhbmRsZU5vZGUobm9kZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICBzdG9wKGZhbHNlKTsgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoaGFuZGxlTXV0YXRpb25zKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgKSB7CiAgICAgICAgY29uc3QgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoCiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwKICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVAogICAgICAgICk7CiAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICBmb3IgKDs7KSB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0cmVlV2Fsa2VyLm5leHROb2RlKCk7CiAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICAgIGlmICggbm9kZSA9PT0gbnVsbCApIHsgYnJlYWs7IH0KICAgICAgICAgICAgaWYgKCByZU5vZGVOYW1lLnRlc3Qobm9kZS5ub2RlTmFtZSkgPT09IGZhbHNlICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBpZiAoIGhhbmRsZU5vZGUobm9kZSkgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIHN0b3AoKTsgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmICggc2hvdWxkTG9nICE9PSAwICkgewogICAgICAgICAgICBzYWZlLnVib0xvZyhgcmVwbGFjZS1ub2RlLXRleHQtY29yZS5mbiAke2NvdW50fSBub2RlcyBwcmVzZW50IGJlZm9yZSBpbnN0YWxsaW5nIG11dGF0aW9uIG9ic2VydmVyYCk7CiAgICAgICAgfQogICAgfQogICAgaWYgKCBleHRyYUFyZ3Muc3RheSApIHsgcmV0dXJuOyB9CiAgICBydW5BdCgoICkgPT4gewogICAgICAgIGNvbnN0IHF1aXRBZnRlciA9IGV4dHJhQXJncy5xdWl0QWZ0ZXIgfHwgMDsKICAgICAgICBpZiAoIHF1aXRBZnRlciAhPT0gMCApIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoICkgPT4geyBzdG9wKCk7IH0sIHF1aXRBZnRlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcCgpOwogICAgICAgIH0KICAgIH0sICdpbnRlcmFjdGl2ZScpOwp9CgogIChmdW5jdGlvbiByZXBsYWNlTm9kZVRleHQoCiAgICBub2RlTmFtZSwKICAgIHBhdHRlcm4sCiAgICByZXBsYWNlbWVudCwKICAgIC4uLmV4dHJhQXJncwopIHsKICAgIHJlcGxhY2VOb2RlVGV4dEZuKG5vZGVOYW1lLCBwYXR0ZXJuLCByZXBsYWNlbWVudCwgLi4uZXh0cmFBcmdzKTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="},{"name":"trusted-set-constant.js","aliases":["trusted-set.js"],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdChmbiwgd2hlbikgewogICAgY29uc3QgaW50RnJvbVJlYWR5U3RhdGUgPSBzdGF0ZSA9PiB7CiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHsKICAgICAgICAgICAgJ2xvYWRpbmcnOiAxLAogICAgICAgICAgICAnaW50ZXJhY3RpdmUnOiAyLCAnZW5kJzogMiwgJzInOiAyLAogICAgICAgICAgICAnY29tcGxldGUnOiAzLCAnaWRsZSc6IDMsICczJzogMywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHRva2VucyA9IEFycmF5LmlzQXJyYXkoc3RhdGUpID8gc3RhdGUgOiBbIHN0YXRlIF07CiAgICAgICAgZm9yICggY29uc3QgdG9rZW4gb2YgdG9rZW5zICkgewogICAgICAgICAgICBjb25zdCBwcm9wID0gYCR7dG9rZW59YDsKICAgICAgICAgICAgaWYgKCB0YXJnZXRzLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbcHJvcF07CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIGNvbnN0IHJ1bkF0ID0gaW50RnJvbVJlYWR5U3RhdGUod2hlbik7CiAgICBpZiAoIGludEZyb21SZWFkeVN0YXRlKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IHJ1bkF0ICkgewogICAgICAgIGZuKCk7IHJldHVybjsKICAgIH0KICAgIGNvbnN0IG9uU3RhdGVDaGFuZ2UgPSAoICkgPT4gewogICAgICAgIGlmICggaW50RnJvbVJlYWR5U3RhdGUoZG9jdW1lbnQucmVhZHlTdGF0ZSkgPCBydW5BdCApIHsgcmV0dXJuOyB9CiAgICAgICAgZm4oKTsKICAgICAgICBzYWZlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkoZG9jdW1lbnQsIGFyZ3MpOwogICAgfTsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgYXJncyA9IFsgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvblN0YXRlQ2hhbmdlLCB7IGNhcHR1cmU6IHRydWUgfSBdOwogICAgc2FmZS5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGRvY3VtZW50LCBhcmdzKTsKfQpmdW5jdGlvbiBzZXRDb25zdGFudENvcmUoCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBjaGFpbiA9ICcnLAogICAgY1ZhbHVlID0gJycKKSB7CiAgICBpZiAoIGNoYWluID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBmdW5jdGlvbiBzZXRDb25zdGFudChjaGFpbiwgY1ZhbHVlKSB7CiAgICAgICAgY29uc3QgdHJhcHBlZFByb3AgPSAoKCApID0+IHsKICAgICAgICAgICAgY29uc3QgcG9zID0gY2hhaW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyByZXR1cm4gY2hhaW47IH0KICAgICAgICAgICAgcmV0dXJuIGNoYWluLnNsaWNlKHBvcysxKTsKICAgICAgICB9KSgpOwogICAgICAgIGlmICggdHJhcHBlZFByb3AgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICBjb25zdCB0aGlzU2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdDsKICAgICAgICBjb25zdCBjbG9ha0Z1bmMgPSBmbiA9PiB7CiAgICAgICAgICAgIHNhZmUuT2JqZWN0X2RlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHsgdmFsdWU6IHRyYXBwZWRQcm9wIH0pOwogICAgICAgICAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShmbiwgewogICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wICE9PSAndG9TdHJpbmcnICkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSguLi5hcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3AgIT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3AgPT09ICd0b1N0cmluZycgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgZnVuY3Rpb24gJHt0cmFwcGVkUHJvcH0oKSB7IFtuYXRpdmUgY29kZV0gfWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZChudWxsKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHByb3h5OwogICAgICAgIH07CiAgICAgICAgaWYgKCBjVmFsdWUgPT09ICd1bmRlZmluZWQnICkgewogICAgICAgICAgICBjVmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAnZmFsc2UnICkgewogICAgICAgICAgICBjVmFsdWUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICd0cnVlJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICdudWxsJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gbnVsbDsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICInJyIgfHwgY1ZhbHVlID09PSAnJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gJyc7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAnW10nICkgewogICAgICAgICAgICBjVmFsdWUgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKCBjVmFsdWUgPT09ICd7fScgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IHt9OwogICAgICAgIH0gZWxzZSBpZiAoIGNWYWx1ZSA9PT0gJ25vb3BGdW5jJyApIHsKICAgICAgICAgICAgY1ZhbHVlID0gY2xvYWtGdW5jKGZ1bmN0aW9uKCl7fSk7CiAgICAgICAgfSBlbHNlIGlmICggY1ZhbHVlID09PSAndHJ1ZUZ1bmMnICkgewogICAgICAgICAgICBjVmFsdWUgPSBjbG9ha0Z1bmMoZnVuY3Rpb24oKXsgcmV0dXJuIHRydWU7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoIGNWYWx1ZSA9PT0gJ2ZhbHNlRnVuYycgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IGNsb2FrRnVuYyhmdW5jdGlvbigpeyByZXR1cm4gZmFsc2U7IH0pOwogICAgICAgIH0gZWxzZSBpZiAoIC9eLT9cZCskLy50ZXN0KGNWYWx1ZSkgKSB7CiAgICAgICAgICAgIGNWYWx1ZSA9IHBhcnNlSW50KGNWYWx1ZSk7CiAgICAgICAgICAgIGlmICggaXNOYU4oY1ZhbHVlKSApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggTWF0aC5hYnMoY1ZhbHVlKSA+IDB4N0ZGRiApIHsgcmV0dXJuOyB9CiAgICAgICAgfSBlbHNlIGlmICggdHJ1c3RlZCApIHsKICAgICAgICAgICAgaWYgKCBjVmFsdWUuc3RhcnRzV2l0aCgneycpICYmIGNWYWx1ZS5lbmRzV2l0aCgnfScpICkgewogICAgICAgICAgICAgICAgdHJ5IHsgY1ZhbHVlID0gc2FmZS5KU09OX3BhcnNlKGNWYWx1ZSkudmFsdWU7IH0gY2F0Y2goZXgpIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICggZXh0cmFBcmdzLmFzICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgIGlmICggZXh0cmFBcmdzLmFzID09PSAnZnVuY3Rpb24nICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gKCApID0+IGNWYWx1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmICggZXh0cmFBcmdzLmFzID09PSAnY2FsbGJhY2snICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gKCApID0+ICgoICkgPT4gY1ZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICggZXh0cmFBcmdzLmFzID09PSAncmVzb2x2ZWQnICkgewogICAgICAgICAgICAgICAgY1ZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKGNWYWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV4dHJhQXJncy5hcyA9PT0gJ3JlamVjdGVkJyApIHsKICAgICAgICAgICAgICAgIGNWYWx1ZSA9IFByb21pc2UucmVqZWN0KGNWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IGFib3J0ZWQgPSBmYWxzZTsKICAgICAgICBjb25zdCBtdXN0QWJvcnQgPSBmdW5jdGlvbih2KSB7CiAgICAgICAgICAgIGlmICggdHJ1c3RlZCApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgICAgIGlmICggYWJvcnRlZCApIHsgcmV0dXJuIHRydWU7IH0KICAgICAgICAgICAgYWJvcnRlZCA9CiAgICAgICAgICAgICAgICAodiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IG51bGwpICYmCiAgICAgICAgICAgICAgICAoY1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgY1ZhbHVlICE9PSBudWxsKSAmJgogICAgICAgICAgICAgICAgKHR5cGVvZiB2ICE9PSB0eXBlb2YgY1ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIGFib3J0ZWQ7CiAgICAgICAgfTsKICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdUJsb2NrT3JpZ2luL3VCbG9jay1pc3N1ZXMvaXNzdWVzLzE1NgogICAgICAgIC8vICAgU3VwcG9ydCBtdWx0aXBsZSB0cmFwcGVycyBmb3IgdGhlIHNhbWUgcHJvcGVydHkuCiAgICAgICAgY29uc3QgdHJhcFByb3AgPSBmdW5jdGlvbihvd25lciwgcHJvcCwgY29uZmlndXJhYmxlLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIGlmICggaGFuZGxlci5pbml0KGNvbmZpZ3VyYWJsZSA/IG93bmVyW3Byb3BdIDogY1ZhbHVlKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBjb25zdCBvZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApOwogICAgICAgICAgICBsZXQgcHJldkdldHRlciwgcHJldlNldHRlcjsKICAgICAgICAgICAgaWYgKCBvZGVzYyBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgIG93bmVyW3Byb3BdID0gY1ZhbHVlOwogICAgICAgICAgICAgICAgaWYgKCBvZGVzYy5nZXQgaW5zdGFuY2VvZiBGdW5jdGlvbiApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2R2V0dGVyID0gb2Rlc2MuZ2V0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCBvZGVzYy5zZXQgaW5zdGFuY2VvZiBGdW5jdGlvbiApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2U2V0dGVyID0gb2Rlc2Muc2V0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBzYWZlLk9iamVjdF9kZWZpbmVQcm9wZXJ0eShvd25lciwgcHJvcCwgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZSwKICAgICAgICAgICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcHJldkdldHRlciAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkdldHRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmdldHRlcigpOyAvLyBjVmFsdWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHNldChhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcHJldlNldHRlciAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlNldHRlcihhKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnNldHRlcihhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCB0cmFwQ2hhaW4gPSBmdW5jdGlvbihvd25lciwgY2hhaW4pIHsKICAgICAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgICAgICBpZiAoIHBvcyA9PT0gLTEgKSB7CiAgICAgICAgICAgICAgICB0cmFwUHJvcChvd25lciwgY2hhaW4sIGZhbHNlLCB7CiAgICAgICAgICAgICAgICAgICAgdjogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtdXN0QWJvcnQodikgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnYgPSB2OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGdldHRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID09PSB0aGlzU2NyaXB0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMudgogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXR0ZXI6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtdXN0QWJvcnQoYSkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgICAgICAgICAgICAgY1ZhbHVlID0gYTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICAgICAgY29uc3QgdiA9IG93bmVyW3Byb3BdOwogICAgICAgICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKHBvcyArIDEpOwogICAgICAgICAgICBpZiAoIHYgaW5zdGFuY2VvZiBPYmplY3QgfHwgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmIHYgIT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICB0cmFwQ2hhaW4odiwgY2hhaW4pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyYXBQcm9wKG93bmVyLCBwcm9wLCB0cnVlLCB7CiAgICAgICAgICAgICAgICB2OiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbih2KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52ID0gdjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBnZXR0ZXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnY7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2V0dGVyOiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52ID0gYTsKICAgICAgICAgICAgICAgICAgICBpZiAoIGEgaW5zdGFuY2VvZiBPYmplY3QgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXBDaGFpbihhLCBjaGFpbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHRyYXBDaGFpbih3aW5kb3csIGNoYWluKTsKICAgIH0KICAgIHJ1bkF0KCggKSA9PiB7CiAgICAgICAgc2V0Q29uc3RhbnQoY2hhaW4sIGNWYWx1ZSk7CiAgICB9LCBleHRyYUFyZ3MucnVuQXQpOwp9CgogIChmdW5jdGlvbiB0cnVzdGVkU2V0Q29uc3RhbnQoCiAgICAuLi5hcmdzCikgewogICAgc2V0Q29uc3RhbnRDb3JlKHRydWUsIC4uLmFyZ3MpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"trusted-set-cookie.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2V0Q29va2llRm4oCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBuYW1lID0gJycsCiAgICB2YWx1ZSA9ICcnLAogICAgZXhwaXJlcyA9ICcnLAogICAgcGF0aCA9ICcnLAogICAgb3B0aW9ucyA9IHt9LAopIHsKICAgIGNvbnN0IGdldENvb2tpZVZhbHVlID0gbmFtZSA9PiB7CiAgICAgICAgZm9yICggY29uc3QgcyBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoL1xzKjtccyovKSApIHsKICAgICAgICAgICAgY29uc3QgcG9zID0gcy5pbmRleE9mKCc9Jyk7CiAgICAgICAgICAgIGlmICggcG9zID09PSAtMSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgaWYgKCBzLnNsaWNlKDAsIHBvcykgIT09IG5hbWUgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgIHJldHVybiBzLnNsaWNlKHBvcysxKTsKICAgICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGNvb2tpZUJlZm9yZSA9IGdldENvb2tpZVZhbHVlKG5hbWUpOwogICAgaWYgKCBjb29raWVCZWZvcmUgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmRvbnRPdmVyd3JpdGUgKSB7IHJldHVybjsgfQogICAgaWYgKCBjb29raWVCZWZvcmUgPT09IHZhbHVlICYmIG9wdGlvbnMucmVsb2FkICkgeyByZXR1cm47IH0KCiAgICBjb25zdCBjb29raWVQYXJ0cyA9IFsgbmFtZSwgJz0nLCB2YWx1ZSBdOwogICAgaWYgKCBleHBpcmVzICE9PSAnJyApIHsKICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IGV4cGlyZXM9JywgZXhwaXJlcyk7CiAgICB9CgogICAgaWYgKCBwYXRoID09PSAnJyApIHsgcGF0aCA9ICcvJzsgfQogICAgZWxzZSBpZiAoIHBhdGggPT09ICdub25lJyApIHsgcGF0aCA9ICcnOyB9CiAgICBpZiAoIHBhdGggIT09ICcnICYmIHBhdGggIT09ICcvJyApIHsgcmV0dXJuOyB9CiAgICBpZiAoIHBhdGggPT09ICcvJyApIHsKICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IHBhdGg9LycpOwogICAgfQoKICAgIGlmICggdHJ1c3RlZCApIHsKICAgICAgICBpZiAoIG9wdGlvbnMuZG9tYWluICkgewogICAgICAgICAgICBjb29raWVQYXJ0cy5wdXNoKGA7IGRvbWFpbj0ke29wdGlvbnMuZG9tYWlufWApOwogICAgICAgIH0KICAgICAgICBjb29raWVQYXJ0cy5wdXNoKCc7IFNlY3VyZScpOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llUGFydHMuam9pbignJyk7CiAgICB9IGNhdGNoKF8pIHsKICAgIH0KCiAgICBpZiAoIG9wdGlvbnMucmVsb2FkICYmIGdldENvb2tpZVZhbHVlKG5hbWUpID09PSB2YWx1ZSApIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9Cn0KZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQoKICAoZnVuY3Rpb24gdHJ1c3RlZFNldENvb2tpZSgKICAgIG5hbWUgPSAnJywKICAgIHZhbHVlID0gJycsCiAgICBvZmZzZXRFeHBpcmVzU2VjID0gJycsCiAgICBwYXRoID0gJycKKSB7CiAgICBpZiAoIG5hbWUgPT09ICcnICkgeyByZXR1cm47IH0KCiAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKTsKCiAgICBpZiAoIHZhbHVlID09PSAnJG5vdyQnICkgewogICAgICAgIHZhbHVlID0gRGF0ZS5ub3coKTsKICAgIH0gZWxzZSBpZiAoIHZhbHVlID09PSAnJGN1cnJlbnREYXRlJCcgKSB7CiAgICAgICAgdmFsdWUgPSB0aW1lLnRvVVRDU3RyaW5nKCk7CiAgICB9CgogICAgbGV0IGV4cGlyZXMgPSAnJzsKICAgIGlmICggb2Zmc2V0RXhwaXJlc1NlYyAhPT0gJycgKSB7CiAgICAgICAgaWYgKCBvZmZzZXRFeHBpcmVzU2VjID09PSAnMWRheScgKSB7CiAgICAgICAgICAgIHRpbWUuc2V0RGF0ZSh0aW1lLmdldERhdGUoKSArIDEpOwogICAgICAgIH0gZWxzZSBpZiAoIG9mZnNldEV4cGlyZXNTZWMgPT09ICcxeWVhcicgKSB7CiAgICAgICAgICAgIHRpbWUuc2V0RnVsbFllYXIodGltZS5nZXRGdWxsWWVhcigpICsgMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCAvXlxkKyQvLnRlc3Qob2Zmc2V0RXhwaXJlc1NlYykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGltZS5zZXRTZWNvbmRzKHRpbWUuZ2V0U2Vjb25kcygpICsgcGFyc2VJbnQob2Zmc2V0RXhwaXJlc1NlYywgMTApKTsKICAgICAgICB9CiAgICAgICAgZXhwaXJlcyA9IHRpbWUudG9VVENTdHJpbmcoKTsKICAgIH0KCiAgICBzZXRDb29raWVGbigKICAgICAgICB0cnVlLAogICAgICAgIG5hbWUsCiAgICAgICAgdmFsdWUsCiAgICAgICAgZXhwaXJlcywKICAgICAgICBwYXRoLAogICAgICAgIHNhZmVTZWxmKCkuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgNCkKICAgICk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"trusted-set-cookie-reload.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBzZXRDb29raWVGbigKICAgIHRydXN0ZWQgPSBmYWxzZSwKICAgIG5hbWUgPSAnJywKICAgIHZhbHVlID0gJycsCiAgICBleHBpcmVzID0gJycsCiAgICBwYXRoID0gJycsCiAgICBvcHRpb25zID0ge30sCikgewogICAgY29uc3QgZ2V0Q29va2llVmFsdWUgPSBuYW1lID0+IHsKICAgICAgICBmb3IgKCBjb25zdCBzIG9mIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgvXHMqO1xzKi8pICkgewogICAgICAgICAgICBjb25zdCBwb3MgPSBzLmluZGV4T2YoJz0nKTsKICAgICAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICBpZiAoIHMuc2xpY2UoMCwgcG9zKSAhPT0gbmFtZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgcmV0dXJuIHMuc2xpY2UocG9zKzEpOwogICAgICAgIH0KICAgIH07CgogICAgY29uc3QgY29va2llQmVmb3JlID0gZ2V0Q29va2llVmFsdWUobmFtZSk7CiAgICBpZiAoIGNvb2tpZUJlZm9yZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuZG9udE92ZXJ3cml0ZSApIHsgcmV0dXJuOyB9CiAgICBpZiAoIGNvb2tpZUJlZm9yZSA9PT0gdmFsdWUgJiYgb3B0aW9ucy5yZWxvYWQgKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IGNvb2tpZVBhcnRzID0gWyBuYW1lLCAnPScsIHZhbHVlIF07CiAgICBpZiAoIGV4cGlyZXMgIT09ICcnICkgewogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgZXhwaXJlcz0nLCBleHBpcmVzKTsKICAgIH0KCiAgICBpZiAoIHBhdGggPT09ICcnICkgeyBwYXRoID0gJy8nOyB9CiAgICBlbHNlIGlmICggcGF0aCA9PT0gJ25vbmUnICkgeyBwYXRoID0gJyc7IH0KICAgIGlmICggcGF0aCAhPT0gJycgJiYgcGF0aCAhPT0gJy8nICkgeyByZXR1cm47IH0KICAgIGlmICggcGF0aCA9PT0gJy8nICkgewogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgcGF0aD0vJyk7CiAgICB9CgogICAgaWYgKCB0cnVzdGVkICkgewogICAgICAgIGlmICggb3B0aW9ucy5kb21haW4gKSB7CiAgICAgICAgICAgIGNvb2tpZVBhcnRzLnB1c2goYDsgZG9tYWluPSR7b3B0aW9ucy5kb21haW59YCk7CiAgICAgICAgfQogICAgICAgIGNvb2tpZVBhcnRzLnB1c2goJzsgU2VjdXJlJyk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWVQYXJ0cy5qb2luKCcnKTsKICAgIH0gY2F0Y2goXykgewogICAgfQoKICAgIGlmICggb3B0aW9ucy5yZWxvYWQgJiYgZ2V0Q29va2llVmFsdWUobmFtZSkgPT09IHZhbHVlICkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KfQpmdW5jdGlvbiB0cnVzdGVkU2V0Q29va2llKAogICAgbmFtZSA9ICcnLAogICAgdmFsdWUgPSAnJywKICAgIG9mZnNldEV4cGlyZXNTZWMgPSAnJywKICAgIHBhdGggPSAnJwopIHsKICAgIGlmICggbmFtZSA9PT0gJycgKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZSgpOwoKICAgIGlmICggdmFsdWUgPT09ICckbm93JCcgKSB7CiAgICAgICAgdmFsdWUgPSBEYXRlLm5vdygpOwogICAgfSBlbHNlIGlmICggdmFsdWUgPT09ICckY3VycmVudERhdGUkJyApIHsKICAgICAgICB2YWx1ZSA9IHRpbWUudG9VVENTdHJpbmcoKTsKICAgIH0KCiAgICBsZXQgZXhwaXJlcyA9ICcnOwogICAgaWYgKCBvZmZzZXRFeHBpcmVzU2VjICE9PSAnJyApIHsKICAgICAgICBpZiAoIG9mZnNldEV4cGlyZXNTZWMgPT09ICcxZGF5JyApIHsKICAgICAgICAgICAgdGltZS5zZXREYXRlKHRpbWUuZ2V0RGF0ZSgpICsgMSk7CiAgICAgICAgfSBlbHNlIGlmICggb2Zmc2V0RXhwaXJlc1NlYyA9PT0gJzF5ZWFyJyApIHsKICAgICAgICAgICAgdGltZS5zZXRGdWxsWWVhcih0aW1lLmdldEZ1bGxZZWFyKCkgKyAxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIC9eXGQrJC8udGVzdChvZmZzZXRFeHBpcmVzU2VjKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICB0aW1lLnNldFNlY29uZHModGltZS5nZXRTZWNvbmRzKCkgKyBwYXJzZUludChvZmZzZXRFeHBpcmVzU2VjLCAxMCkpOwogICAgICAgIH0KICAgICAgICBleHBpcmVzID0gdGltZS50b1VUQ1N0cmluZygpOwogICAgfQoKICAgIHNldENvb2tpZUZuKAogICAgICAgIHRydWUsCiAgICAgICAgbmFtZSwKICAgICAgICB2YWx1ZSwKICAgICAgICBleHBpcmVzLAogICAgICAgIHBhdGgsCiAgICAgICAgc2FmZVNlbGYoKS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCA0KQogICAgKTsKfQoKICAoZnVuY3Rpb24gdHJ1c3RlZFNldENvb2tpZVJlbG9hZChuYW1lLCB2YWx1ZSwgb2Zmc2V0RXhwaXJlc1NlYywgcGF0aCwgLi4uYXJncykgewogICAgdHJ1c3RlZFNldENvb2tpZShuYW1lLCB2YWx1ZSwgb2Zmc2V0RXhwaXJlc1NlYywgcGF0aCwgJ3JlbG9hZCcsICcxJywgLi4uYXJncyk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"trusted-set-local-storage-item.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2VJdGVtRm4oCiAgICB3aGljaCA9ICdsb2NhbCcsCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBrZXkgPSAnJywKICAgIHZhbHVlID0gJycsCikgewogICAgaWYgKCBrZXkgPT09ICcnICkgeyByZXR1cm47IH0KCiAgICBjb25zdCB0cnVzdGVkVmFsdWVzID0gWwogICAgICAgICcnLAogICAgICAgICd1bmRlZmluZWQnLCAnbnVsbCcsCiAgICAgICAgJ2ZhbHNlJywgJ3RydWUnLAogICAgICAgICdvbicsICdvZmYnLAogICAgICAgICd5ZXMnLCAnbm8nLAogICAgICAgICd7fScsICdbXScsICciIicsCiAgICAgICAgJyRyZW1vdmUkJywKICAgIF07CgogICAgaWYgKCB0cnVzdGVkICkgewogICAgICAgIGlmICggdmFsdWUgPT09ICckbm93JCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gRGF0ZS5ub3coKTsKICAgICAgICB9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gJyRjdXJyZW50RGF0ZSQnICkgewogICAgICAgICAgICB2YWx1ZSA9IGAke0RhdGUoKX1gOwogICAgICAgIH0gZWxzZSBpZiAoIHZhbHVlID09PSAnJGN1cnJlbnRJU09EYXRlJCcgKSB7CiAgICAgICAgICAgIHZhbHVlID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAoIHRydXN0ZWRWYWx1ZXMuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlICkgewogICAgICAgICAgICBpZiAoIC9eXGQrJC8udGVzdCh2YWx1ZSkgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApOwogICAgICAgICAgICBpZiAoIHZhbHVlID4gMzI3NjcgKSB7IHJldHVybjsgfQogICAgICAgIH0KICAgIH0KCiAgICB0cnkgewogICAgICAgIGNvbnN0IHN0b3JhZ2UgPSBzZWxmW2Ake3doaWNofVN0b3JhZ2VgXTsKICAgICAgICBpZiAoIHZhbHVlID09PSAnJHJlbW92ZSQnICkgewogICAgICAgICAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgoa2V5LCB1bmRlZmluZWQsIHRydWUgKTsKICAgICAgICAgICAgY29uc3QgdG9SZW1vdmUgPSBbXTsKICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwLCBuID0gc3RvcmFnZS5sZW5ndGg7IGkgPCBuOyBpKysgKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgIGlmICggcGF0dGVybi50ZXN0KGtleSkgKSB7IHRvUmVtb3ZlLnB1c2goa2V5KTsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiB0b1JlbW92ZSApIHsKICAgICAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleSwgYCR7dmFsdWV9YCk7CiAgICAgICAgfQogICAgfSBjYXRjaChleCkgewogICAgfQp9CgogIChmdW5jdGlvbiB0cnVzdGVkU2V0TG9jYWxTdG9yYWdlSXRlbShrZXkgPSAnJywgdmFsdWUgPSAnJykgewogICAgc2V0TG9jYWxTdG9yYWdlSXRlbUZuKCdsb2NhbCcsIHRydWUsIGtleSwgdmFsdWUpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"trusted-replace-fetch-response.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gcGFyc2VQcm9wZXJ0aWVzVG9NYXRjaChwcm9wc1RvTWF0Y2gsIGltcGxpY2l0ID0gJycpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlcyA9IG5ldyBNYXAoKTsKICAgIGlmICggcHJvcHNUb01hdGNoID09PSB1bmRlZmluZWQgfHwgcHJvcHNUb01hdGNoID09PSAnJyApIHsgcmV0dXJuIG5lZWRsZXM7IH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IGNhbk5lZ2F0ZTogdHJ1ZSB9OwogICAgZm9yICggY29uc3QgbmVlZGxlIG9mIHByb3BzVG9NYXRjaC5zcGxpdCgvXHMrLykgKSB7CiAgICAgICAgY29uc3QgWyBwcm9wLCBwYXR0ZXJuIF0gPSBuZWVkbGUuc3BsaXQoJzonKTsKICAgICAgICBpZiAoIHByb3AgPT09ICcnICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggcGF0dGVybiAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICBuZWVkbGVzLnNldChwcm9wLCBzYWZlLmluaXRQYXR0ZXJuKHBhdHRlcm4sIG9wdGlvbnMpKTsKICAgICAgICB9IGVsc2UgaWYgKCBpbXBsaWNpdCAhPT0gJycgKSB7CiAgICAgICAgICAgIG5lZWRsZXMuc2V0KGltcGxpY2l0LCBzYWZlLmluaXRQYXR0ZXJuKHByb3AsIG9wdGlvbnMpKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmVlZGxlczsKfQpmdW5jdGlvbiBtYXRjaE9iamVjdFByb3BlcnRpZXMocHJvcE5lZWRsZXMsIC4uLm9ianMpIHsKICAgIGlmICggbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgKSB7CiAgICAgICAgbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzID0gKHNyYywgZGVzLCBwcm9wcykgPT4gewogICAgICAgICAgICBmb3IgKCBjb25zdCBwIG9mIHByb3BzICkgewogICAgICAgICAgICAgICAgY29uc3QgdiA9IHNyY1twXTsKICAgICAgICAgICAgICAgIGlmICggdiA9PT0gdW5kZWZpbmVkICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICAgICAgZGVzW3BdID0gc3JjW3BdOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgaGF5c3RhY2sgPSB7fTsKICAgIGNvbnN0IHByb3BzID0gc2FmZS5BcnJheV9mcm9tKHByb3BOZWVkbGVzLmtleXMoKSk7CiAgICBmb3IgKCBjb25zdCBvYmogb2Ygb2JqcyApIHsKICAgICAgICBpZiAoIG9iaiBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzKG9iaiwgaGF5c3RhY2ssIHByb3BzKTsKICAgIH0KICAgIGZvciAoIGNvbnN0IFsgcHJvcCwgZGV0YWlscyBdIG9mIHByb3BOZWVkbGVzICkgewogICAgICAgIGxldCB2YWx1ZSA9IGhheXN0YWNrW3Byb3BdOwogICAgICAgIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHsgY29udGludWU7IH0KICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgKSB7CiAgICAgICAgICAgIHRyeSB7IHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOyB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7IH0KICAgICAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICkgeyBjb250aW51ZTsgfQogICAgICAgIH0KICAgICAgICBpZiAoIHNhZmUudGVzdFBhdHRlcm4oZGV0YWlscywgdmFsdWUpICkgeyBjb250aW51ZTsgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CmZ1bmN0aW9uIHJlcGxhY2VGZXRjaFJlc3BvbnNlRm4oCiAgICB0cnVzdGVkID0gZmFsc2UsCiAgICBwYXR0ZXJuID0gJycsCiAgICByZXBsYWNlbWVudCA9ICcnLAogICAgcHJvcHNUb01hdGNoID0gJycKKSB7CiAgICBpZiAoIHRydXN0ZWQgIT09IHRydWUgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBleHRyYUFyZ3MgPSBzYWZlLmdldEV4dHJhQXJncyhBcnJheS5mcm9tKGFyZ3VtZW50cyksIDQpOwogICAgY29uc3QgbG9nTGV2ZWwgPSBzaG91bGRMb2coewogICAgICAgIGxvZzogcGF0dGVybiA9PT0gJycgfHwgZXh0cmFBcmdzLmxvZywKICAgIH0pOwogICAgY29uc3QgbG9nID0gbG9nTGV2ZWwgPyAoKC4uLmFyZ3MpID0+IHsgc2FmZS51Ym9Mb2coLi4uYXJncyk7IH0pIDogKCggKSA9PiB7IH0pOyAKICAgIGlmICggcGF0dGVybiA9PT0gJyonICkgeyBwYXR0ZXJuID0gJy4qJzsgfQogICAgY29uc3QgcmVQYXR0ZXJuID0gc2FmZS5wYXR0ZXJuVG9SZWdleChwYXR0ZXJuKTsKICAgIGNvbnN0IHByb3BOZWVkbGVzID0gcGFyc2VQcm9wZXJ0aWVzVG9NYXRjaChwcm9wc1RvTWF0Y2gsICd1cmwnKTsKICAgIHNlbGYuZmV0Y2ggPSBuZXcgUHJveHkoc2VsZi5mZXRjaCwgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBsb2dMZXZlbCA9PT0gdHJ1ZSApIHsKICAgICAgICAgICAgICAgIGxvZygncmVwbGFjZS1mZXRjaC1yZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGFyZ3MpKS5zbGljZSgxLC0xKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZmV0Y2hQcm9taXNlID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpOwogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gZmV0Y2hQcm9taXNlOyB9CiAgICAgICAgICAgIGxldCBvdXRjb21lID0gJ21hdGNoJzsKICAgICAgICAgICAgaWYgKCBwcm9wTmVlZGxlcy5zaXplICE9PSAwICkgewogICAgICAgICAgICAgICAgY29uc3Qgb2JqcyA9IFsgYXJnc1swXSBpbnN0YW5jZW9mIE9iamVjdCA/IGFyZ3NbMF0gOiB7IHVybDogYXJnc1swXSB9IF07CiAgICAgICAgICAgICAgICBpZiAoIG9ianNbMF0gaW5zdGFuY2VvZiBSZXF1ZXN0ICkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7IG9ianNbMF0gPSBzYWZlLlJlcXVlc3RfY2xvbmUuY2FsbChvYmpzWzBdKTsgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoKGV4KSB7IGxvZyhleCk7IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICggYXJnc1sxXSBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgICAgICAgICAgICAgICBvYmpzLnB1c2goYXJnc1sxXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgLi4ub2JqcykgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09IGxvZ0xldmVsIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgICAgICBsb2coCiAgICAgICAgICAgICAgICAgICAgICAgIGByZXBsYWNlLWZldGNoLXJlc3BvbnNlICgke291dGNvbWV9KWAsCiAgICAgICAgICAgICAgICAgICAgICAgIGBcblx0cHJvcHNUb01hdGNoOiAke0pTT04uc3RyaW5naWZ5KEFycmF5LmZyb20ocHJvcE5lZWRsZXMpKS5zbGljZSgxLC0xKX1gLAogICAgICAgICAgICAgICAgICAgICAgICAnXG5cdHByb3BzOicsIC4uLmFyZ3MsCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09ICdub21hdGNoJyApIHsgcmV0dXJuIGZldGNoUHJvbWlzZTsgfQogICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm9taXNlLnRoZW4ocmVzcG9uc2VCZWZvcmUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXNwb25zZUJlZm9yZS5jbG9uZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKHRleHRCZWZvcmUgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRBZnRlciA9IHRleHRCZWZvcmUucmVwbGFjZShyZVBhdHRlcm4sIHJlcGxhY2VtZW50KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRjb21lID0gdGV4dEFmdGVyICE9PSB0ZXh0QmVmb3JlID8gJ21hdGNoJyA6ICdub21hdGNoJzsKICAgICAgICAgICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09IGxvZ0xldmVsIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9nKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYHJlcGxhY2UtZmV0Y2gtcmVzcG9uc2UgKCR7b3V0Y29tZX0pYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcblx0cGF0dGVybjogJHtwYXR0ZXJufWAsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuXHRyZXBsYWNlbWVudDogJHtyZXBsYWNlbWVudH1gLAogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09ICdub21hdGNoJyApIHsgcmV0dXJuIHJlc3BvbnNlQmVmb3JlOyB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VBZnRlciA9IG5ldyBSZXNwb25zZSh0ZXh0QWZ0ZXIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZUJlZm9yZS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlQmVmb3JlLnN0YXR1c1RleHQsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlQmVmb3JlLmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmVzcG9uc2VBZnRlciwgewogICAgICAgICAgICAgICAgICAgICAgICBvazogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUub2sgfSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZDogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUucmVkaXJlY3RlZCB9LAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IHZhbHVlOiByZXNwb25zZUJlZm9yZS50eXBlIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogeyB2YWx1ZTogcmVzcG9uc2VCZWZvcmUudXJsIH0sCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlQWZ0ZXI7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4gewogICAgICAgICAgICAgICAgICAgIGxvZygncmVwbGFjZS1mZXRjaC1yZXNwb25zZTonLCByZWFzb24pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZUJlZm9yZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4gewogICAgICAgICAgICAgICAgbG9nKCdyZXBsYWNlLWZldGNoLXJlc3BvbnNlOicsIHJlYXNvbik7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm9taXNlOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfQoKICAoZnVuY3Rpb24gdHJ1c3RlZFJlcGxhY2VGZXRjaFJlc3BvbnNlKC4uLmFyZ3MpIHsKICAgIHJlcGxhY2VGZXRjaFJlc3BvbnNlRm4odHJ1ZSwgLi4uYXJncyk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"trusted-replace-xhr-response.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2hvdWxkTG9nKGRldGFpbHMpIHsKICAgIGlmICggZGV0YWlscyBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgcmV0dXJuIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdjYW5EZWJ1ZycpICYmIGRldGFpbHMubG9nOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gcGFyc2VQcm9wZXJ0aWVzVG9NYXRjaChwcm9wc1RvTWF0Y2gsIGltcGxpY2l0ID0gJycpIHsKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgbmVlZGxlcyA9IG5ldyBNYXAoKTsKICAgIGlmICggcHJvcHNUb01hdGNoID09PSB1bmRlZmluZWQgfHwgcHJvcHNUb01hdGNoID09PSAnJyApIHsgcmV0dXJuIG5lZWRsZXM7IH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IGNhbk5lZ2F0ZTogdHJ1ZSB9OwogICAgZm9yICggY29uc3QgbmVlZGxlIG9mIHByb3BzVG9NYXRjaC5zcGxpdCgvXHMrLykgKSB7CiAgICAgICAgY29uc3QgWyBwcm9wLCBwYXR0ZXJuIF0gPSBuZWVkbGUuc3BsaXQoJzonKTsKICAgICAgICBpZiAoIHByb3AgPT09ICcnICkgeyBjb250aW51ZTsgfQogICAgICAgIGlmICggcGF0dGVybiAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICBuZWVkbGVzLnNldChwcm9wLCBzYWZlLmluaXRQYXR0ZXJuKHBhdHRlcm4sIG9wdGlvbnMpKTsKICAgICAgICB9IGVsc2UgaWYgKCBpbXBsaWNpdCAhPT0gJycgKSB7CiAgICAgICAgICAgIG5lZWRsZXMuc2V0KGltcGxpY2l0LCBzYWZlLmluaXRQYXR0ZXJuKHByb3AsIG9wdGlvbnMpKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmVlZGxlczsKfQpmdW5jdGlvbiBtYXRjaE9iamVjdFByb3BlcnRpZXMocHJvcE5lZWRsZXMsIC4uLm9ianMpIHsKICAgIGlmICggbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgKSB7CiAgICAgICAgbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzID0gKHNyYywgZGVzLCBwcm9wcykgPT4gewogICAgICAgICAgICBmb3IgKCBjb25zdCBwIG9mIHByb3BzICkgewogICAgICAgICAgICAgICAgY29uc3QgdiA9IHNyY1twXTsKICAgICAgICAgICAgICAgIGlmICggdiA9PT0gdW5kZWZpbmVkICkgeyBjb250aW51ZTsgfQogICAgICAgICAgICAgICAgZGVzW3BdID0gc3JjW3BdOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgaGF5c3RhY2sgPSB7fTsKICAgIGNvbnN0IHByb3BzID0gc2FmZS5BcnJheV9mcm9tKHByb3BOZWVkbGVzLmtleXMoKSk7CiAgICBmb3IgKCBjb25zdCBvYmogb2Ygb2JqcyApIHsKICAgICAgICBpZiAoIG9iaiBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbWF0Y2hPYmplY3RQcm9wZXJ0aWVzLmV4dHJhY3RQcm9wZXJ0aWVzKG9iaiwgaGF5c3RhY2ssIHByb3BzKTsKICAgIH0KICAgIGZvciAoIGNvbnN0IFsgcHJvcCwgZGV0YWlscyBdIG9mIHByb3BOZWVkbGVzICkgewogICAgICAgIGxldCB2YWx1ZSA9IGhheXN0YWNrW3Byb3BdOwogICAgICAgIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHsgY29udGludWU7IH0KICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgKSB7CiAgICAgICAgICAgIHRyeSB7IHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOyB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7IH0KICAgICAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICkgeyBjb250aW51ZTsgfQogICAgICAgIH0KICAgICAgICBpZiAoIHNhZmUudGVzdFBhdHRlcm4oZGV0YWlscywgdmFsdWUpICkgeyBjb250aW51ZTsgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgogIChmdW5jdGlvbiB0cnVzdGVkUmVwbGFjZVhoclJlc3BvbnNlKAogICAgcGF0dGVybiA9ICcnLAogICAgcmVwbGFjZW1lbnQgPSAnJywKICAgIHByb3BzVG9NYXRjaCA9ICcnCikgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCB4aHJJbnN0YW5jZXMgPSBuZXcgV2Vha01hcCgpOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKHsKICAgICAgICBsb2c6IHBhdHRlcm4gPT09ICcnICYmICdhbGwnIHx8IGV4dHJhQXJncy5sb2csCiAgICB9KTsKICAgIGNvbnN0IGxvZyA9IGxvZ0xldmVsID8gKCguLi5hcmdzKSA9PiB7IHNhZmUudWJvTG9nKC4uLmFyZ3MpOyB9KSA6ICgoICkgPT4geyB9KTsgCiAgICBpZiAoIHBhdHRlcm4gPT09ICcqJyApIHsgcGF0dGVybiA9ICcuKic7IH0KICAgIGNvbnN0IHJlUGF0dGVybiA9IHNhZmUucGF0dGVyblRvUmVnZXgocGF0dGVybik7CiAgICBjb25zdCBwcm9wTmVlZGxlcyA9IHBhcnNlUHJvcGVydGllc1RvTWF0Y2gocHJvcHNUb01hdGNoLCAndXJsJyk7CiAgICBzZWxmLlhNTEh0dHBSZXF1ZXN0ID0gY2xhc3MgZXh0ZW5kcyBzZWxmLlhNTEh0dHBSZXF1ZXN0IHsKICAgICAgICBvcGVuKG1ldGhvZCwgdXJsLCAuLi5hcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IG91dGVyWGhyID0gdGhpczsKICAgICAgICAgICAgY29uc3QgeGhyRGV0YWlscyA9IHsgbWV0aG9kLCB1cmwgfTsKICAgICAgICAgICAgbGV0IG91dGNvbWUgPSAnbWF0Y2gnOwogICAgICAgICAgICBpZiAoIHByb3BOZWVkbGVzLnNpemUgIT09IDAgKSB7CiAgICAgICAgICAgICAgICBpZiAoIG1hdGNoT2JqZWN0UHJvcGVydGllcyhwcm9wTmVlZGxlcywgeGhyRGV0YWlscykgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCBvdXRjb21lID09PSBsb2dMZXZlbCB8fCBvdXRjb21lID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgIGxvZyhgeGhyLm9wZW4oJHttZXRob2R9LCAke3VybH0sICR7YXJncy5qb2luKCcsICcpfSlgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09ICdtYXRjaCcgKSB7CiAgICAgICAgICAgICAgICB4aHJJbnN0YW5jZXMuc2V0KG91dGVyWGhyLCB4aHJEZXRhaWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gc3VwZXIub3BlbihtZXRob2QsIHVybCwgLi4uYXJncyk7CiAgICAgICAgfQogICAgICAgIGdldCByZXNwb25zZSgpIHsKICAgICAgICAgICAgY29uc3QgaW5uZXJSZXNwb25zZSA9IHN1cGVyLnJlc3BvbnNlOwogICAgICAgICAgICBjb25zdCB4aHJEZXRhaWxzID0geGhySW5zdGFuY2VzLmdldCh0aGlzKTsKICAgICAgICAgICAgaWYgKCB4aHJEZXRhaWxzID09PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJSZXNwb25zZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCByZXNwb25zZUxlbmd0aCA9IHR5cGVvZiBpbm5lclJlc3BvbnNlID09PSAnc3RyaW5nJwogICAgICAgICAgICAgICAgPyBpbm5lclJlc3BvbnNlLmxlbmd0aAogICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7CiAgICAgICAgICAgIGlmICggeGhyRGV0YWlscy5sYXN0UmVzcG9uc2VMZW5ndGggIT09IHJlc3BvbnNlTGVuZ3RoICkgewogICAgICAgICAgICAgICAgeGhyRGV0YWlscy5yZXNwb25zZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHhockRldGFpbHMubGFzdFJlc3BvbnNlTGVuZ3RoID0gcmVzcG9uc2VMZW5ndGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCB4aHJEZXRhaWxzLnJlc3BvbnNlICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geGhyRGV0YWlscy5yZXNwb25zZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIHR5cGVvZiBpbm5lclJlc3BvbnNlICE9PSAnc3RyaW5nJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiAoeGhyRGV0YWlscy5yZXNwb25zZSA9IGlubmVyUmVzcG9uc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHRleHRCZWZvcmUgPSBpbm5lclJlc3BvbnNlOwogICAgICAgICAgICBjb25zdCB0ZXh0QWZ0ZXIgPSB0ZXh0QmVmb3JlLnJlcGxhY2UocmVQYXR0ZXJuLCByZXBsYWNlbWVudCk7CiAgICAgICAgICAgIGNvbnN0IG91dGNvbWUgPSB0ZXh0QWZ0ZXIgIT09IHRleHRCZWZvcmUgPyAnbWF0Y2gnIDogJ25vbWF0Y2gnOwogICAgICAgICAgICBpZiAoIG91dGNvbWUgPT09IGxvZ0xldmVsIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICAgICAgICAgIGxvZygKICAgICAgICAgICAgICAgICAgICBgdHJ1c3RlZC1yZXBsYWNlLXhoci1yZXNwb25zZSAoJHtvdXRjb21lfSlgLAogICAgICAgICAgICAgICAgICAgIGBcblx0cGF0dGVybjogJHtwYXR0ZXJufWAsIAogICAgICAgICAgICAgICAgICAgIGBcblx0cmVwbGFjZW1lbnQ6ICR7cmVwbGFjZW1lbnR9YCwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICh4aHJEZXRhaWxzLnJlc3BvbnNlID0gdGV4dEFmdGVyKTsKICAgICAgICB9CiAgICAgICAgZ2V0IHJlc3BvbnNlVGV4dCgpIHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlOwogICAgICAgICAgICBpZiAoIHR5cGVvZiByZXNwb25zZSAhPT0gJ3N0cmluZycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICB9CiAgICB9Owp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"trusted-click-element.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBydW5BdEh0bWxFbGVtZW50Rm4oZm4pIHsKICAgIGlmICggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICkgewogICAgICAgIGZuKCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoICkgPT4gewogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBmbigpOwogICAgfSk7CiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTsKfQoKICAoZnVuY3Rpb24gdHJ1c3RlZENsaWNrRWxlbWVudCgKICAgIHNlbGVjdG9ycyA9ICcnLAogICAgZXh0cmFNYXRjaCA9ICcnLCAvLyBub3QgeWV0IHN1cHBvcnRlZAogICAgZGVsYXkgPSAnJwopIHsKICAgIGlmICggZXh0cmFNYXRjaCAhPT0gJycgKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IHNhZmUgPSBzYWZlU2VsZigpOwogICAgY29uc3QgZXh0cmFBcmdzID0gc2FmZS5nZXRFeHRyYUFyZ3MoQXJyYXkuZnJvbShhcmd1bWVudHMpLCAzKTsKICAgIGNvbnN0IHVib0xvZyA9IGV4dHJhQXJncy5sb2cgIT09IHVuZGVmaW5lZAogICAgICAgID8gKCguLi5hcmdzKSA9PiB7IHNhZmUudWJvTG9nKC4uLmFyZ3MpOyB9KQogICAgICAgIDogKCggKSA9PiB7IH0pOwoKICAgIGNvbnN0IHNlbGVjdG9yTGlzdCA9IHNlbGVjdG9ycy5zcGxpdCgvXHMqLFxzKi8pCiAgICAgICAgLmZpbHRlcihzID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZvaWQgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTsKICAgICAgICAgICAgfSBjYXRjaChfKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSk7CiAgICBpZiAoIHNlbGVjdG9yTGlzdC5sZW5ndGggPT09IDAgKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IGNsaWNrRGVsYXkgPSBwYXJzZUludChkZWxheSwgMTApIHx8IDE7CiAgICBjb25zdCB0MCA9IERhdGUubm93KCk7CiAgICBjb25zdCB0YnllID0gdDAgKyAxMDAwMDsKICAgIGxldCB0bmV4dCA9IHNlbGVjdG9yTGlzdC5sZW5ndGggIT09IDEgPyB0MCA6IHQwICsgY2xpY2tEZWxheTsKCiAgICBjb25zdCB0ZXJtaW5hdGUgPSAoICkgPT4gewogICAgICAgIHNlbGVjdG9yTGlzdC5sZW5ndGggPSAwOwogICAgICAgIG5leHQuc3RvcCgpOwogICAgICAgIG9ic2VydmUuc3RvcCgpOwogICAgfTsKCiAgICBjb25zdCBuZXh0ID0gbm90Rm91bmQgPT4gewogICAgICAgIGlmICggc2VsZWN0b3JMaXN0Lmxlbmd0aCA9PT0gMCApIHsKICAgICAgICAgICAgdWJvTG9nKGB0cnVzdGVkLWNsaWNrLWVsZW1lbnQ6IENvbXBsZXRlZGApOwogICAgICAgICAgICByZXR1cm4gdGVybWluYXRlKCk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHRub3cgPSBEYXRlLm5vdygpOwogICAgICAgIGlmICggdG5vdyA+PSB0YnllICkgewogICAgICAgICAgICB1Ym9Mb2coYHRydXN0ZWQtY2xpY2stZWxlbWVudDogVGltZWQgb3V0YCk7CiAgICAgICAgICAgIHJldHVybiB0ZXJtaW5hdGUoKTsKICAgICAgICB9CiAgICAgICAgaWYgKCBub3RGb3VuZCApIHsgb2JzZXJ2ZSgpOyB9CiAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1heChub3RGb3VuZCA/IHRieWUgLSB0bm93IDogdG5leHQgLSB0bm93LCAxKTsKICAgICAgICBuZXh0LnRpbWVyID0gc2V0VGltZW91dCgoICkgPT4gewogICAgICAgICAgICBuZXh0LnRpbWVyID0gdW5kZWZpbmVkOwogICAgICAgICAgICBwcm9jZXNzKCk7CiAgICAgICAgfSwgZGVsYXkpOwogICAgICAgIHVib0xvZyhgdHJ1c3RlZC1jbGljay1lbGVtZW50OiBXYWl0aW5nIGZvciAke3NlbGVjdG9yTGlzdFswXX0uLi5gKTsKICAgIH07CiAgICBuZXh0LnN0b3AgPSAoICkgPT4gewogICAgICAgIGlmICggbmV4dC50aW1lciA9PT0gdW5kZWZpbmVkICkgeyByZXR1cm47IH0KICAgICAgICBjbGVhclRpbWVvdXQobmV4dC50aW1lcik7CiAgICAgICAgbmV4dC50aW1lciA9IHVuZGVmaW5lZDsKICAgIH07CgogICAgY29uc3Qgb2JzZXJ2ZSA9ICggKSA9PiB7CiAgICAgICAgaWYgKCBvYnNlcnZlLm9ic2VydmVyICE9PSB1bmRlZmluZWQgKSB7IHJldHVybjsgfQogICAgICAgIG9ic2VydmUub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoICkgPT4gewogICAgICAgICAgICBpZiAoIG9ic2VydmUudGltZXIgIT09IHVuZGVmaW5lZCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIG9ic2VydmUudGltZXIgPSBzZXRUaW1lb3V0KCggKSA9PiB7CiAgICAgICAgICAgICAgICBvYnNlcnZlLnRpbWVyID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgcHJvY2VzcygpOwogICAgICAgICAgICB9LCAyMCk7CiAgICAgICAgfSk7CiAgICAgICAgb2JzZXJ2ZS5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7CiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSwKICAgICAgICB9KTsKICAgIH07CiAgICBvYnNlcnZlLnN0b3AgPSAoICkgPT4gewogICAgICAgIGlmICggb2JzZXJ2ZS50aW1lciAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQob2JzZXJ2ZS50aW1lcik7CiAgICAgICAgICAgIG9ic2VydmUudGltZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIGlmICggb2JzZXJ2ZS5vYnNlcnZlciApIHsKICAgICAgICAgICAgb2JzZXJ2ZS5vYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIG9ic2VydmUub2JzZXJ2ZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgfTsKCiAgICBjb25zdCBwcm9jZXNzID0gKCApID0+IHsKICAgICAgICBuZXh0LnN0b3AoKTsKICAgICAgICBpZiAoIERhdGUubm93KCkgPCB0bmV4dCApIHsgcmV0dXJuIG5leHQoKTsgfQogICAgICAgIGNvbnN0IHNlbGVjdG9yID0gc2VsZWN0b3JMaXN0LnNoaWZ0KCk7CiAgICAgICAgaWYgKCBzZWxlY3RvciA9PT0gdW5kZWZpbmVkICkgeyByZXR1cm4gdGVybWluYXRlKCk7IH0KICAgICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgaWYgKCBlbGVtID09PSBudWxsICkgewogICAgICAgICAgICBzZWxlY3Rvckxpc3QudW5zaGlmdChzZWxlY3Rvcik7CiAgICAgICAgICAgIHJldHVybiBuZXh0KHRydWUpOwogICAgICAgIH0KICAgICAgICB1Ym9Mb2coYHRydXN0ZWQtY2xpY2stZWxlbWVudDogQ2xpY2tlZCAke3NlbGVjdG9yfWApOwogICAgICAgIGVsZW0uY2xpY2soKTsKICAgICAgICB0bmV4dCArPSBjbGlja0RlbGF5OwogICAgICAgIG5leHQoKTsKICAgIH07CgogICAgcnVuQXRIdG1sRWxlbWVudEZuKHByb2Nlc3MpOwp9KSguLi5hcmdzLnNsaWNlKDAsIGxhc3RfYXJnX2luZGV4KSkKfQ=="},{"name":"trusted-prune-inbound-object.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIHNob3VsZExvZyhkZXRhaWxzKSB7CiAgICBpZiAoIGRldGFpbHMgaW5zdGFuY2VvZiBPYmplY3QgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSAmJiBkZXRhaWxzLmxvZzsKfQpmdW5jdGlvbiBtYXRjaGVzU3RhY2tUcmFjZSgKICAgIG5lZWRsZURldGFpbHMsCiAgICBsb2dMZXZlbCA9IDAKKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4Y2VwdGlvblRva2VuID0gZ2V0RXhjZXB0aW9uVG9rZW4oKTsKICAgIGNvbnN0IGVycm9yID0gbmV3IHNhZmUuRXJyb3IoZXhjZXB0aW9uVG9rZW4pOwogICAgY29uc3QgZG9jVVJMID0gbmV3IFVSTChzZWxmLmxvY2F0aW9uLmhyZWYpOwogICAgZG9jVVJMLmhhc2ggPSAnJzsKICAgIC8vIE5vcm1hbGl6ZSBzdGFjayB0cmFjZQogICAgY29uc3QgcmVMaW5lID0gLyguKj9AKT8oXFMrKSg6XGQrKTpcZCtcKT8kLzsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBmb3IgKCBsZXQgbGluZSBvZiBlcnJvci5zdGFjay5zcGxpdCgvW1xuXHJdKy8pICkgewogICAgICAgIGlmICggbGluZS5pbmNsdWRlcyhleGNlcHRpb25Ub2tlbikgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpOwogICAgICAgIGNvbnN0IG1hdGNoID0gc2FmZS5SZWdFeHBfZXhlYy5jYWxsKHJlTGluZSwgbGluZSk7CiAgICAgICAgaWYgKCBtYXRjaCA9PT0gbnVsbCApIHsgY29udGludWU7IH0KICAgICAgICBsZXQgdXJsID0gbWF0Y2hbMl07CiAgICAgICAgaWYgKCB1cmwuc3RhcnRzV2l0aCgnKCcpICkgeyB1cmwgPSB1cmwuc2xpY2UoMSk7IH0KICAgICAgICBpZiAoIHVybCA9PT0gZG9jVVJMLmhyZWYgKSB7CiAgICAgICAgICAgIHVybCA9ICdpbmxpbmVTY3JpcHQnOwogICAgICAgIH0gZWxzZSBpZiAoIHVybC5zdGFydHNXaXRoKCc8YW5vbnltb3VzPicpICkgewogICAgICAgICAgICB1cmwgPSAnaW5qZWN0ZWRTY3JpcHQnOwogICAgICAgIH0KICAgICAgICBsZXQgZm4gPSBtYXRjaFsxXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gbWF0Y2hbMV0uc2xpY2UoMCwgLTEpCiAgICAgICAgICAgIDogbGluZS5zbGljZSgwLCBtYXRjaC5pbmRleCkudHJpbSgpOwogICAgICAgIGlmICggZm4uc3RhcnRzV2l0aCgnYXQnKSApIHsgZm4gPSBmbi5zbGljZSgyKS50cmltKCk7IH0KICAgICAgICBsZXQgcm93Y29sID0gbWF0Y2hbM107CiAgICAgICAgbGluZXMucHVzaCgnICcgKyBgJHtmbn0gJHt1cmx9JHtyb3djb2x9OjFgLnRyaW0oKSk7CiAgICB9CiAgICBsaW5lc1swXSA9IGBzdGFja0RlcHRoOiR7bGluZXMubGVuZ3RoLTF9YDsKICAgIGNvbnN0IHN0YWNrID0gbGluZXMuam9pbignXHQnKTsKICAgIGNvbnN0IHIgPSBzYWZlLnRlc3RQYXR0ZXJuKG5lZWRsZURldGFpbHMsIHN0YWNrKTsKICAgIGlmICgKICAgICAgICBsb2dMZXZlbCA9PT0gMSB8fAogICAgICAgIGxvZ0xldmVsID09PSAyICYmIHIgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMyAmJiAhcgogICAgKSB7CiAgICAgICAgc2FmZS51Ym9Mb2coc3RhY2sucmVwbGFjZSgvXHQvZywgJ1xuJykpOwogICAgfQogICAgcmV0dXJuIHI7Cn0KZnVuY3Rpb24gc2FmZVNlbGYoKSB7CiAgICBpZiAoIHNjcmlwdGxldEdsb2JhbHMuaGFzKCdzYWZlU2VsZicpICkgewogICAgICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmdldCgnc2FmZVNlbGYnKTsKICAgIH0KICAgIGNvbnN0IHNlbGYgPSBnbG9iYWxUaGlzOwogICAgY29uc3Qgc2FmZSA9IHsKICAgICAgICAnQXJyYXlfZnJvbSc6IEFycmF5LmZyb20sCiAgICAgICAgJ0Vycm9yJzogc2VsZi5FcnJvciwKICAgICAgICAnTWF0aF9mbG9vcic6IE1hdGguZmxvb3IsCiAgICAgICAgJ01hdGhfcmFuZG9tJzogTWF0aC5yYW5kb20sCiAgICAgICAgJ09iamVjdF9kZWZpbmVQcm9wZXJ0eSc6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksCiAgICAgICAgJ1JlZ0V4cCc6IHNlbGYuUmVnRXhwLAogICAgICAgICdSZWdFeHBfdGVzdCc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS50ZXN0LAogICAgICAgICdSZWdFeHBfZXhlYyc6IHNlbGYuUmVnRXhwLnByb3RvdHlwZS5leGVjLAogICAgICAgICdSZXF1ZXN0X2Nsb25lJzogc2VsZi5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSwKICAgICAgICAnWE1MSHR0cFJlcXVlc3QnOiBzZWxmLlhNTEh0dHBSZXF1ZXN0LAogICAgICAgICdhZGRFdmVudExpc3RlbmVyJzogc2VsZi5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciwKICAgICAgICAncmVtb3ZlRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ2ZldGNoJzogc2VsZi5mZXRjaCwKICAgICAgICAnSlNPTic6IHNlbGYuSlNPTiwKICAgICAgICAnSlNPTl9wYXJzZUZuJzogc2VsZi5KU09OLnBhcnNlLAogICAgICAgICdKU09OX3N0cmluZ2lmeUZuJzogc2VsZi5KU09OLnN0cmluZ2lmeSwKICAgICAgICAnSlNPTl9wYXJzZSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fcGFyc2VGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ0pTT05fc3RyaW5naWZ5JzogKC4uLmFyZ3MpID0+IHNhZmUuSlNPTl9zdHJpbmdpZnlGbi5jYWxsKHNhZmUuSlNPTiwgLi4uYXJncyksCiAgICAgICAgJ2xvZyc6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksCiAgICAgICAgdWJvTG9nKC4uLmFyZ3MpIHsKICAgICAgICAgICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBpZiAoIGFyZ3MubGVuZ3RoID09PSAwICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBgJHthcmdzWzBdfWAgPT09ICcnICkgeyByZXR1cm47IH0KICAgICAgICAgICAgdGhpcy5sb2coJ1t1Qk9dJywgLi4uYXJncyk7CiAgICAgICAgfSwKICAgICAgICBpbml0UGF0dGVybihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHsKICAgICAgICAgICAgaWYgKCBwYXR0ZXJuID09PSAnJyApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7IG1hdGNoQWxsOiB0cnVlIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZXhwZWN0ID0gKG9wdGlvbnMuY2FuTmVnYXRlICE9PSB0cnVlIHx8IHBhdHRlcm4uc3RhcnRzV2l0aCgnIScpID09PSBmYWxzZSk7CiAgICAgICAgICAgIGlmICggZXhwZWN0ID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoICE9PSBudWxsICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAoCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSB8fCBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuLAogICAgICAgICAgICAgICAgcmU6IG5ldyB0aGlzLlJlZ0V4cChwYXR0ZXJuLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmxhZ3MKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBleHBlY3QsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB0ZXN0UGF0dGVybihkZXRhaWxzLCBoYXlzdGFjaykgewogICAgICAgICAgICBpZiAoIGRldGFpbHMubWF0Y2hBbGwgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZ0V4cF90ZXN0LmNhbGwoZGV0YWlscy5yZSwgaGF5c3RhY2spID09PSBkZXRhaWxzLmV4cGVjdDsKICAgICAgICB9LAogICAgICAgIHBhdHRlcm5Ub1JlZ2V4KHBhdHRlcm4sIGZsYWdzID0gdW5kZWZpbmVkLCB2ZXJiYXRpbSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7IHJldHVybiAvXi87IH0KICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvXlwvKC4rKVwvKFtnaW1zdV0qKSQvLmV4ZWMocGF0dGVybik7CiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZVN0ciA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2ZXJiYXRpbSA/IGBeJHtyZVN0cn0kYCA6IHJlU3RyLCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSB8fCBmbGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2goZXgpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gL14vOwogICAgICAgIH0sCiAgICAgICAgZ2V0RXh0cmFBcmdzKGFyZ3MsIG9mZnNldCA9IDApIHsKICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGFyZ3Muc2xpY2Uob2Zmc2V0KS5yZWR1Y2UoKG91dCwgdiwgaSwgYSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCAoaSAmIDEpID09PSAwICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gYVtpKzFdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gL15cZCskLy50ZXN0KHJhd1ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhd1ZhbHVlLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgOiByYXdWYWx1ZTsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChbIGFbaV0sIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpOwogICAgICAgIH0sCiAgICB9OwogICAgc2NyaXB0bGV0R2xvYmFscy5zZXQoJ3NhZmVTZWxmJywgc2FmZSk7CiAgICByZXR1cm4gc2FmZTsKfQpmdW5jdGlvbiBvYmplY3RQcnVuZUZuKAogICAgb2JqLAogICAgcmF3UHJ1bmVQYXRocywKICAgIHJhd05lZWRsZVBhdGhzLAogICAgc3RhY2tOZWVkbGVEZXRhaWxzID0geyBtYXRjaEFsbDogdHJ1ZSB9LAogICAgZXh0cmFBcmdzID0ge30KKSB7CiAgICBpZiAoIHR5cGVvZiByYXdQcnVuZVBhdGhzICE9PSAnc3RyaW5nJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHBydW5lUGF0aHMgPSByYXdQcnVuZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3UHJ1bmVQYXRocy5zcGxpdCgvICsvKQogICAgICAgIDogW107CiAgICBjb25zdCBuZWVkbGVQYXRocyA9IHBydW5lUGF0aHMubGVuZ3RoICE9PSAwICYmIHJhd05lZWRsZVBhdGhzICE9PSAnJwogICAgICAgID8gcmF3TmVlZGxlUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbG9nTGV2ZWwgPSBzaG91bGRMb2coeyBsb2c6IHJhd1BydW5lUGF0aHMgPT09ICcnIHx8IGV4dHJhQXJncy5sb2cgfSk7CiAgICBjb25zdCByZUxvZ05lZWRsZSA9IHNhZmUucGF0dGVyblRvUmVnZXgobG9nTGV2ZWwgPT09IHRydWUgPyByYXdOZWVkbGVQYXRocyA6ICcnKTsKICAgIGlmICggc3RhY2tOZWVkbGVEZXRhaWxzLm1hdGNoQWxsICE9PSB0cnVlICkgewogICAgICAgIGlmICggbWF0Y2hlc1N0YWNrVHJhY2Uoc3RhY2tOZWVkbGVEZXRhaWxzLCBleHRyYUFyZ3MubG9nc3RhY2spID09PSBmYWxzZSApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyA9PT0gdW5kZWZpbmVkICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPSAocm9vdCwgbmVlZGxlUGF0aHMpID0+IHsKICAgICAgICAgICAgZm9yICggY29uc3QgbmVlZGxlUGF0aCBvZiBuZWVkbGVQYXRocyApIHsKICAgICAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ocm9vdCwgbmVlZGxlUGF0aCkgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbiA9IChqc29uLCBtc2csIHJlTmVlZGxlKSA9PiB7CiAgICAgICAgICAgIGlmICggcmVOZWVkbGUudGVzdChqc29uKSA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgICAgICBzYWZlU2VsZigpLnVib0xvZyhgb2JqZWN0UHJ1bmUoKWAsIG1zZywgbG9jYXRpb24uaG9zdG5hbWUsIGpzb24pOwogICAgICAgIH07CiAgICB9CiAgICBjb25zdCBqc29uQmVmb3JlID0gbG9nTGV2ZWwgPyBzYWZlLkpTT05fc3RyaW5naWZ5KG9iaiwgbnVsbCwgMikgOiAnJzsKICAgIGlmICggbG9nTGV2ZWwgPT09IHRydWUgfHwgbG9nTGV2ZWwgPT09ICdhbGwnICkgewogICAgICAgIG9iamVjdFBydW5lRm4ubG9nSnNvbihqc29uQmVmb3JlLCBgcHJ1bmU6IiR7cmF3UHJ1bmVQYXRoc30iIGxvZzoiJHtsb2dMZXZlbH0iYCwgcmVMb2dOZWVkbGUpOwogICAgfQogICAgaWYgKCBwcnVuZVBhdGhzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICBsZXQgb3V0Y29tZSA9ICdub21hdGNoJzsKICAgIGlmICggb2JqZWN0UHJ1bmVGbi5tdXN0UHJvY2VzcyhvYmosIG5lZWRsZVBhdGhzKSApIHsKICAgICAgICBmb3IgKCBjb25zdCBwYXRoIG9mIHBydW5lUGF0aHMgKSB7CiAgICAgICAgICAgIGlmICggb2JqZWN0RmluZE93bmVyRm4ob2JqLCBwYXRoLCB0cnVlKSApIHsKICAgICAgICAgICAgICAgIG91dGNvbWUgPSAnbWF0Y2gnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgaWYgKCBsb2dMZXZlbCA9PT0gb3V0Y29tZSApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggb3V0Y29tZSA9PT0gJ21hdGNoJyApIHsgcmV0dXJuIG9iajsgfQp9CmZ1bmN0aW9uIG9iamVjdEZpbmRPd25lckZuKAogICAgcm9vdCwKICAgIHBhdGgsCiAgICBwcnVuZSA9IGZhbHNlCikgewogICAgbGV0IG93bmVyID0gcm9vdDsKICAgIGxldCBjaGFpbiA9IHBhdGg7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgaWYgKCB0eXBlb2Ygb3duZXIgIT09ICdvYmplY3QnIHx8IG93bmVyID09PSBudWxsICApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgY29uc3QgcG9zID0gY2hhaW4uaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsKICAgICAgICAgICAgaWYgKCBwcnVuZSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3duZXIuaGFzT3duUHJvcGVydHkoY2hhaW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoIGNoYWluID09PSAnKicgKSB7CiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgaW4gb3duZXIgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShrZXkpID09PSBmYWxzZSApIHsgY29udGludWU7IH0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJba2V5XTsKICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKSApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvd25lcltjaGFpbl07CiAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1vZGlmaWVkOwogICAgICAgIH0KICAgICAgICBjb25zdCBwcm9wID0gY2hhaW4uc2xpY2UoMCwgcG9zKTsKICAgICAgICBpZiAoCiAgICAgICAgICAgIHByb3AgPT09ICdbXScgJiYgQXJyYXkuaXNBcnJheShvd25lcikgfHwKICAgICAgICAgICAgcHJvcCA9PT0gJyonICYmIG93bmVyIGluc3RhbmNlb2YgT2JqZWN0CiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjaGFpbi5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvd25lcikgKSB7CiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdEZpbmRPd25lckZuKG93bmVyW2tleV0sIG5leHQsIHBydW5lKSB8fCBmb3VuZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkocHJvcCkgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBvd25lciA9IG93bmVyW3Byb3BdOwogICAgICAgIGNoYWluID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKICAoZnVuY3Rpb24gdHJ1c3RlZFBydW5lSW5ib3VuZE9iamVjdCgKICAgIGVudHJ5UG9pbnQgPSAnJywKICAgIGFyZ1BvcyA9ICcnLAogICAgcmF3UHJ1bmVQYXRocyA9ICcnLAogICAgcmF3TmVlZGxlUGF0aHMgPSAnJwopIHsKICAgIGlmICggZW50cnlQb2ludCA9PT0gJycgKSB7IHJldHVybjsgfQogICAgbGV0IGNvbnRleHQgPSBnbG9iYWxUaGlzOwogICAgbGV0IHByb3AgPSBlbnRyeVBvaW50OwogICAgZm9yICg7OykgewogICAgICAgIGNvbnN0IHBvcyA9IHByb3AuaW5kZXhPZignLicpOwogICAgICAgIGlmICggcG9zID09PSAtMSApIHsgYnJlYWs7IH0KICAgICAgICBjb250ZXh0ID0gY29udGV4dFtwcm9wLnNsaWNlKDAsIHBvcyldOwogICAgICAgIGlmICggY29udGV4dCBpbnN0YW5jZW9mIE9iamVjdCA9PT0gZmFsc2UgKSB7IHJldHVybjsgfQogICAgICAgIHByb3AgPSBwcm9wLnNsaWNlKHBvcysxKTsKICAgIH0KICAgIGlmICggdHlwZW9mIGNvbnRleHRbcHJvcF0gIT09ICdmdW5jdGlvbicgKSB7IHJldHVybjsgfQogICAgY29uc3QgYXJnSW5kZXggPSBwYXJzZUludChhcmdQb3MpOwogICAgaWYgKCBpc05hTihhcmdJbmRleCkgKSB7IHJldHVybjsgfQogICAgaWYgKCBhcmdJbmRleCA8IDEgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBleHRyYUFyZ3MgPSBzYWZlLmdldEV4dHJhQXJncyhBcnJheS5mcm9tKGFyZ3VtZW50cyksIDQpOwogICAgY29uc3QgbmVlZGxlUGF0aHMgPSBbXTsKICAgIGlmICggcmF3UHJ1bmVQYXRocyAhPT0gJycgKSB7CiAgICAgICAgbmVlZGxlUGF0aHMucHVzaCguLi5yYXdQcnVuZVBhdGhzLnNwbGl0KC8gKy8pKTsKICAgIH0KICAgIGlmICggcmF3TmVlZGxlUGF0aHMgIT09ICcnICkgewogICAgICAgIG5lZWRsZVBhdGhzLnB1c2goLi4ucmF3TmVlZGxlUGF0aHMuc3BsaXQoLyArLykpOwogICAgfQogICAgY29uc3QgbXVzdFByb2Nlc3MgPSByb290ID0+IHsKICAgICAgICBmb3IgKCBjb25zdCBuZWVkbGVQYXRoIG9mIG5lZWRsZVBhdGhzICkgewogICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKHJvb3QsIG5lZWRsZVBhdGgpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBjb250ZXh0W3Byb3BdID0gbmV3IFByb3h5KGNvbnRleHRbcHJvcF0sIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFyZyA9IGFyZ0luZGV4IDw9IGFyZ3MubGVuZ3RoCiAgICAgICAgICAgICAgICA/IGFyZ3NbYXJnSW5kZXgtMV0KICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkOwogICAgICAgICAgICBpZiAoIHRhcmdldEFyZyBpbnN0YW5jZW9mIE9iamVjdCAmJiBtdXN0UHJvY2Vzcyh0YXJnZXRBcmcpICkgewogICAgICAgICAgICAgICAgbGV0IG9iakJlZm9yZSA9IHRhcmdldEFyZzsKICAgICAgICAgICAgICAgIGlmICggZXh0cmFBcmdzLmRvbnRPdmVyd3JpdGUgKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqQmVmb3JlID0gc2FmZS5KU09OX3BhcnNlKHNhZmUuSlNPTl9zdHJpbmdpZnkodGFyZ2V0QXJnKSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChfKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iakJlZm9yZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIG9iakJlZm9yZSAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iakFmdGVyID0gb2JqZWN0UHJ1bmVGbigKICAgICAgICAgICAgICAgICAgICAgICAgb2JqQmVmb3JlLAogICAgICAgICAgICAgICAgICAgICAgICByYXdQcnVuZVBhdGhzLAogICAgICAgICAgICAgICAgICAgICAgICByYXdOZWVkbGVQYXRocywKICAgICAgICAgICAgICAgICAgICAgICAgeyBtYXRjaEFsbDogdHJ1ZSB9LAogICAgICAgICAgICAgICAgICAgICAgICBleHRyYUFyZ3MKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGFyZ3NbYXJnSW5kZXgtMV0gPSBvYmpBZnRlciB8fCBvYmpCZWZvcmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICB9LAogICAgfSk7Cn0pKC4uLmFyZ3Muc2xpY2UoMCwgbGFzdF9hcmdfaW5kZXgpKQp9"},{"name":"trusted-prune-outbound-object.js","aliases":[],"kind":{"mime":"application/javascript"},"content":"ewogIGNvbnN0IGFyZ3MgPSBbJ3t7MX19JywgJ3t7Mn19JywgJ3t7M319JywgJ3t7NH19JywgJ3t7NX19JywgJ3t7Nn19JywgJ3t7N319JywgJ3t7OH19JywgJ3t7OX19J107CiAgbGV0IGxhc3RfYXJnX2luZGV4ID0gMDsKICBmb3IgKGNvbnN0IGFyZ19pbmRleCBpbiBhcmdzKSB7CiAgICBpZiAoYXJnc1thcmdfaW5kZXhdID09PSAne3snICsgKE51bWJlcihhcmdfaW5kZXgpICsgMSkgKyAnfX0nKSB7CiAgICAgIGJyZWFrOwogICAgfQogICAgbGFzdF9hcmdfaW5kZXggKz0gMTsKICB9CiAgZnVuY3Rpb24gZ2V0RXhjZXB0aW9uVG9rZW4oKSB7CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IHRva2VuID0KICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKERhdGUubm93KCkgJSAyNiArIDk3KSArCiAgICAgICAgc2FmZS5NYXRoX2Zsb29yKHNhZmUuTWF0aF9yYW5kb20oKSAqIDk4MjQ1MTY1MyArIDk4MjQ1MTY1MykudG9TdHJpbmcoMzYpOwogICAgY29uc3Qgb2UgPSBzZWxmLm9uZXJyb3I7CiAgICBzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIC4uLmFyZ3MpIHsKICAgICAgICBpZiAoIHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnICYmIG1zZy5pbmNsdWRlcyh0b2tlbikgKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgaWYgKCBvZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICkgewogICAgICAgICAgICByZXR1cm4gb2UuY2FsbCh0aGlzLCBtc2csIC4uLmFyZ3MpOwogICAgICAgIH0KICAgIH0uYmluZCgpOwogICAgcmV0dXJuIHRva2VuOwp9CmZ1bmN0aW9uIHNob3VsZExvZyhkZXRhaWxzKSB7CiAgICBpZiAoIGRldGFpbHMgaW5zdGFuY2VvZiBPYmplY3QgPT09IGZhbHNlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgIHJldHVybiBzY3JpcHRsZXRHbG9iYWxzLmhhcygnY2FuRGVidWcnKSAmJiBkZXRhaWxzLmxvZzsKfQpmdW5jdGlvbiBvYmplY3RGaW5kT3duZXJGbigKICAgIHJvb3QsCiAgICBwYXRoLAogICAgcHJ1bmUgPSBmYWxzZQopIHsKICAgIGxldCBvd25lciA9IHJvb3Q7CiAgICBsZXQgY2hhaW4gPSBwYXRoOwogICAgZm9yICg7OykgewogICAgICAgIGlmICggdHlwZW9mIG93bmVyICE9PSAnb2JqZWN0JyB8fCBvd25lciA9PT0gbnVsbCAgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgIGNvbnN0IHBvcyA9IGNoYWluLmluZGV4T2YoJy4nKTsKICAgICAgICBpZiAoIHBvcyA9PT0gLTEgKSB7CiAgICAgICAgICAgIGlmICggcHJ1bmUgPT09IGZhbHNlICkgewogICAgICAgICAgICAgICAgcmV0dXJuIG93bmVyLmhhc093blByb3BlcnR5KGNoYWluKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbW9kaWZpZWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKCBjaGFpbiA9PT0gJyonICkgewogICAgICAgICAgICAgICAgZm9yICggY29uc3Qga2V5IGluIG93bmVyICkgewogICAgICAgICAgICAgICAgICAgIGlmICggb3duZXIuaGFzT3duUHJvcGVydHkoa2V5KSA9PT0gZmFsc2UgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG93bmVyW2tleV07CiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKCBvd25lci5oYXNPd25Qcm9wZXJ0eShjaGFpbikgKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJbY2hhaW5dOwogICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBtb2RpZmllZDsKICAgICAgICB9CiAgICAgICAgY29uc3QgcHJvcCA9IGNoYWluLnNsaWNlKDAsIHBvcyk7CiAgICAgICAgaWYgKAogICAgICAgICAgICBwcm9wID09PSAnW10nICYmIEFycmF5LmlzQXJyYXkob3duZXIpIHx8CiAgICAgICAgICAgIHByb3AgPT09ICcqJyAmJiBvd25lciBpbnN0YW5jZW9mIE9iamVjdAogICAgICAgICkgewogICAgICAgICAgICBjb25zdCBuZXh0ID0gY2hhaW4uc2xpY2UocG9zICsgMSk7CiAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKCBjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3duZXIpICkgewogICAgICAgICAgICAgICAgZm91bmQgPSBvYmplY3RGaW5kT3duZXJGbihvd25lcltrZXldLCBuZXh0LCBwcnVuZSkgfHwgZm91bmQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgIH0KICAgICAgICBpZiAoIG93bmVyLmhhc093blByb3BlcnR5KHByb3ApID09PSBmYWxzZSApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgb3duZXIgPSBvd25lcltwcm9wXTsKICAgICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKHBvcyArIDEpOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KZnVuY3Rpb24gbWF0Y2hlc1N0YWNrVHJhY2UoCiAgICBuZWVkbGVEZXRhaWxzLAogICAgbG9nTGV2ZWwgPSAwCikgewogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBleGNlcHRpb25Ub2tlbiA9IGdldEV4Y2VwdGlvblRva2VuKCk7CiAgICBjb25zdCBlcnJvciA9IG5ldyBzYWZlLkVycm9yKGV4Y2VwdGlvblRva2VuKTsKICAgIGNvbnN0IGRvY1VSTCA9IG5ldyBVUkwoc2VsZi5sb2NhdGlvbi5ocmVmKTsKICAgIGRvY1VSTC5oYXNoID0gJyc7CiAgICAvLyBOb3JtYWxpemUgc3RhY2sgdHJhY2UKICAgIGNvbnN0IHJlTGluZSA9IC8oLio/QCk/KFxTKykoOlxkKyk6XGQrXCk/JC87CiAgICBjb25zdCBsaW5lcyA9IFtdOwogICAgZm9yICggbGV0IGxpbmUgb2YgZXJyb3Iuc3RhY2suc3BsaXQoL1tcblxyXSsvKSApIHsKICAgICAgICBpZiAoIGxpbmUuaW5jbHVkZXMoZXhjZXB0aW9uVG9rZW4pICkgeyBjb250aW51ZTsgfQogICAgICAgIGxpbmUgPSBsaW5lLnRyaW0oKTsKICAgICAgICBjb25zdCBtYXRjaCA9IHNhZmUuUmVnRXhwX2V4ZWMuY2FsbChyZUxpbmUsIGxpbmUpOwogICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgbGV0IHVybCA9IG1hdGNoWzJdOwogICAgICAgIGlmICggdXJsLnN0YXJ0c1dpdGgoJygnKSApIHsgdXJsID0gdXJsLnNsaWNlKDEpOyB9CiAgICAgICAgaWYgKCB1cmwgPT09IGRvY1VSTC5ocmVmICkgewogICAgICAgICAgICB1cmwgPSAnaW5saW5lU2NyaXB0JzsKICAgICAgICB9IGVsc2UgaWYgKCB1cmwuc3RhcnRzV2l0aCgnPGFub255bW91cz4nKSApIHsKICAgICAgICAgICAgdXJsID0gJ2luamVjdGVkU2NyaXB0JzsKICAgICAgICB9CiAgICAgICAgbGV0IGZuID0gbWF0Y2hbMV0gIT09IHVuZGVmaW5lZAogICAgICAgICAgICA/IG1hdGNoWzFdLnNsaWNlKDAsIC0xKQogICAgICAgICAgICA6IGxpbmUuc2xpY2UoMCwgbWF0Y2guaW5kZXgpLnRyaW0oKTsKICAgICAgICBpZiAoIGZuLnN0YXJ0c1dpdGgoJ2F0JykgKSB7IGZuID0gZm4uc2xpY2UoMikudHJpbSgpOyB9CiAgICAgICAgbGV0IHJvd2NvbCA9IG1hdGNoWzNdOwogICAgICAgIGxpbmVzLnB1c2goJyAnICsgYCR7Zm59ICR7dXJsfSR7cm93Y29sfToxYC50cmltKCkpOwogICAgfQogICAgbGluZXNbMF0gPSBgc3RhY2tEZXB0aDoke2xpbmVzLmxlbmd0aC0xfWA7CiAgICBjb25zdCBzdGFjayA9IGxpbmVzLmpvaW4oJ1x0Jyk7CiAgICBjb25zdCByID0gc2FmZS50ZXN0UGF0dGVybihuZWVkbGVEZXRhaWxzLCBzdGFjayk7CiAgICBpZiAoCiAgICAgICAgbG9nTGV2ZWwgPT09IDEgfHwKICAgICAgICBsb2dMZXZlbCA9PT0gMiAmJiByIHx8CiAgICAgICAgbG9nTGV2ZWwgPT09IDMgJiYgIXIKICAgICkgewogICAgICAgIHNhZmUudWJvTG9nKHN0YWNrLnJlcGxhY2UoL1x0L2csICdcbicpKTsKICAgIH0KICAgIHJldHVybiByOwp9CmZ1bmN0aW9uIHNhZmVTZWxmKCkgewogICAgaWYgKCBzY3JpcHRsZXRHbG9iYWxzLmhhcygnc2FmZVNlbGYnKSApIHsKICAgICAgICByZXR1cm4gc2NyaXB0bGV0R2xvYmFscy5nZXQoJ3NhZmVTZWxmJyk7CiAgICB9CiAgICBjb25zdCBzZWxmID0gZ2xvYmFsVGhpczsKICAgIGNvbnN0IHNhZmUgPSB7CiAgICAgICAgJ0FycmF5X2Zyb20nOiBBcnJheS5mcm9tLAogICAgICAgICdFcnJvcic6IHNlbGYuRXJyb3IsCiAgICAgICAgJ01hdGhfZmxvb3InOiBNYXRoLmZsb29yLAogICAgICAgICdNYXRoX3JhbmRvbSc6IE1hdGgucmFuZG9tLAogICAgICAgICdPYmplY3RfZGVmaW5lUHJvcGVydHknOiBPYmplY3QuZGVmaW5lUHJvcGVydHkuYmluZChPYmplY3QpLAogICAgICAgICdSZWdFeHAnOiBzZWxmLlJlZ0V4cCwKICAgICAgICAnUmVnRXhwX3Rlc3QnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUudGVzdCwKICAgICAgICAnUmVnRXhwX2V4ZWMnOiBzZWxmLlJlZ0V4cC5wcm90b3R5cGUuZXhlYywKICAgICAgICAnUmVxdWVzdF9jbG9uZSc6IHNlbGYuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUsCiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0Jzogc2VsZi5YTUxIdHRwUmVxdWVzdCwKICAgICAgICAnYWRkRXZlbnRMaXN0ZW5lcic6IHNlbGYuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsCiAgICAgICAgJ3JlbW92ZUV2ZW50TGlzdGVuZXInOiBzZWxmLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLAogICAgICAgICdmZXRjaCc6IHNlbGYuZmV0Y2gsCiAgICAgICAgJ0pTT04nOiBzZWxmLkpTT04sCiAgICAgICAgJ0pTT05fcGFyc2VGbic6IHNlbGYuSlNPTi5wYXJzZSwKICAgICAgICAnSlNPTl9zdHJpbmdpZnlGbic6IHNlbGYuSlNPTi5zdHJpbmdpZnksCiAgICAgICAgJ0pTT05fcGFyc2UnOiAoLi4uYXJncykgPT4gc2FmZS5KU09OX3BhcnNlRm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdKU09OX3N0cmluZ2lmeSc6ICguLi5hcmdzKSA9PiBzYWZlLkpTT05fc3RyaW5naWZ5Rm4uY2FsbChzYWZlLkpTT04sIC4uLmFyZ3MpLAogICAgICAgICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLAogICAgICAgIHVib0xvZyguLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICggc2NyaXB0bGV0R2xvYmFscy5oYXMoJ2NhbkRlYnVnJykgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMCApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmICggYCR7YXJnc1swXX1gID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIHRoaXMubG9nKCdbdUJPXScsIC4uLmFyZ3MpOwogICAgICAgIH0sCiAgICAgICAgaW5pdFBhdHRlcm4ocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICggcGF0dGVybiA9PT0gJycgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geyBtYXRjaEFsbDogdHJ1ZSB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGV4cGVjdCA9IChvcHRpb25zLmNhbk5lZ2F0ZSAhPT0gdHJ1ZSB8fCBwYXR0ZXJuLnN0YXJ0c1dpdGgoJyEnKSA9PT0gZmFsc2UpOwogICAgICAgICAgICBpZiAoIGV4cGVjdCA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZSgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IC9eXC8oLispXC8oW2dpbXN1XSopJC8uZXhlYyhwYXR0ZXJuKTsKICAgICAgICAgICAgaWYgKCBtYXRjaCAhPT0gbnVsbCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgICAgICByZTogbmV3IHRoaXMuUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gfHwgb3B0aW9ucy5mbGFncwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcGF0dGVybiwKICAgICAgICAgICAgICAgIHJlOiBuZXcgdGhpcy5SZWdFeHAocGF0dGVybi5yZXBsYWNlKAogICAgICAgICAgICAgICAgICAgIC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZsYWdzCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZXhwZWN0LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgdGVzdFBhdHRlcm4oZGV0YWlscywgaGF5c3RhY2spIHsKICAgICAgICAgICAgaWYgKCBkZXRhaWxzLm1hdGNoQWxsICkgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5SZWdFeHBfdGVzdC5jYWxsKGRldGFpbHMucmUsIGhheXN0YWNrKSA9PT0gZGV0YWlscy5leHBlY3Q7CiAgICAgICAgfSwKICAgICAgICBwYXR0ZXJuVG9SZWdleChwYXR0ZXJuLCBmbGFncyA9IHVuZGVmaW5lZCwgdmVyYmF0aW0gPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIHBhdHRlcm4gPT09ICcnICkgeyByZXR1cm4gL14vOyB9CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL15cLyguKylcLyhbZ2ltc3VdKikkLy5leGVjKHBhdHRlcm4pOwogICAgICAgICAgICBpZiAoIG1hdGNoID09PSBudWxsICkgewogICAgICAgICAgICAgICAgY29uc3QgcmVTdHIgPSBwYXR0ZXJuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodmVyYmF0aW0gPyBgXiR7cmVTdHJ9JGAgOiByZVN0ciwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0gfHwgZmxhZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoKGV4KSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIC9eLzsKICAgICAgICB9LAogICAgICAgIGdldEV4dHJhQXJncyhhcmdzLCBvZmZzZXQgPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhcmdzLnNsaWNlKG9mZnNldCkucmVkdWNlKChvdXQsIHYsIGksIGEpID0+IHsKICAgICAgICAgICAgICAgIGlmICggKGkgJiAxKSA9PT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGFbaSsxXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IC9eXGQrJC8udGVzdChyYXdWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChyYXdWYWx1ZSwgMTApCiAgICAgICAgICAgICAgICAgICAgICAgIDogcmF3VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goWyBhW2ldLCB2YWx1ZSBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTsKICAgICAgICB9LAogICAgfTsKICAgIHNjcmlwdGxldEdsb2JhbHMuc2V0KCdzYWZlU2VsZicsIHNhZmUpOwogICAgcmV0dXJuIHNhZmU7Cn0KZnVuY3Rpb24gb2JqZWN0UHJ1bmVGbigKICAgIG9iaiwKICAgIHJhd1BydW5lUGF0aHMsCiAgICByYXdOZWVkbGVQYXRocywKICAgIHN0YWNrTmVlZGxlRGV0YWlscyA9IHsgbWF0Y2hBbGw6IHRydWUgfSwKICAgIGV4dHJhQXJncyA9IHt9CikgewogICAgaWYgKCB0eXBlb2YgcmF3UHJ1bmVQYXRocyAhPT0gJ3N0cmluZycgKSB7IHJldHVybjsgfQogICAgY29uc3Qgc2FmZSA9IHNhZmVTZWxmKCk7CiAgICBjb25zdCBwcnVuZVBhdGhzID0gcmF3UHJ1bmVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd1BydW5lUGF0aHMuc3BsaXQoLyArLykKICAgICAgICA6IFtdOwogICAgY29uc3QgbmVlZGxlUGF0aHMgPSBwcnVuZVBhdGhzLmxlbmd0aCAhPT0gMCAmJiByYXdOZWVkbGVQYXRocyAhPT0gJycKICAgICAgICA/IHJhd05lZWRsZVBhdGhzLnNwbGl0KC8gKy8pCiAgICAgICAgOiBbXTsKICAgIGNvbnN0IGxvZ0xldmVsID0gc2hvdWxkTG9nKHsgbG9nOiByYXdQcnVuZVBhdGhzID09PSAnJyB8fCBleHRyYUFyZ3MubG9nIH0pOwogICAgY29uc3QgcmVMb2dOZWVkbGUgPSBzYWZlLnBhdHRlcm5Ub1JlZ2V4KGxvZ0xldmVsID09PSB0cnVlID8gcmF3TmVlZGxlUGF0aHMgOiAnJyk7CiAgICBpZiAoIHN0YWNrTmVlZGxlRGV0YWlscy5tYXRjaEFsbCAhPT0gdHJ1ZSApIHsKICAgICAgICBpZiAoIG1hdGNoZXNTdGFja1RyYWNlKHN0YWNrTmVlZGxlRGV0YWlscywgZXh0cmFBcmdzLmxvZ3N0YWNrKSA9PT0gZmFsc2UgKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3MgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLm11c3RQcm9jZXNzID0gKHJvb3QsIG5lZWRsZVBhdGhzKSA9PiB7CiAgICAgICAgICAgIGZvciAoIGNvbnN0IG5lZWRsZVBhdGggb2YgbmVlZGxlUGF0aHMgKSB7CiAgICAgICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKHJvb3QsIG5lZWRsZVBhdGgpID09PSBmYWxzZSApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24gPSAoanNvbiwgbXNnLCByZU5lZWRsZSkgPT4gewogICAgICAgICAgICBpZiAoIHJlTmVlZGxlLnRlc3QoanNvbikgPT09IGZhbHNlICkgeyByZXR1cm47IH0KICAgICAgICAgICAgc2FmZVNlbGYoKS51Ym9Mb2coYG9iamVjdFBydW5lKClgLCBtc2csIGxvY2F0aW9uLmhvc3RuYW1lLCBqc29uKTsKICAgICAgICB9OwogICAgfQogICAgY29uc3QganNvbkJlZm9yZSA9IGxvZ0xldmVsID8gc2FmZS5KU09OX3N0cmluZ2lmeShvYmosIG51bGwsIDIpIDogJyc7CiAgICBpZiAoIGxvZ0xldmVsID09PSB0cnVlIHx8IGxvZ0xldmVsID09PSAnYWxsJyApIHsKICAgICAgICBvYmplY3RQcnVuZUZuLmxvZ0pzb24oanNvbkJlZm9yZSwgYHBydW5lOiIke3Jhd1BydW5lUGF0aHN9IiBsb2c6IiR7bG9nTGV2ZWx9ImAsIHJlTG9nTmVlZGxlKTsKICAgIH0KICAgIGlmICggcHJ1bmVQYXRocy5sZW5ndGggPT09IDAgKSB7IHJldHVybjsgfQogICAgbGV0IG91dGNvbWUgPSAnbm9tYXRjaCc7CiAgICBpZiAoIG9iamVjdFBydW5lRm4ubXVzdFByb2Nlc3Mob2JqLCBuZWVkbGVQYXRocykgKSB7CiAgICAgICAgZm9yICggY29uc3QgcGF0aCBvZiBwcnVuZVBhdGhzICkgewogICAgICAgICAgICBpZiAoIG9iamVjdEZpbmRPd25lckZuKG9iaiwgcGF0aCwgdHJ1ZSkgKSB7CiAgICAgICAgICAgICAgICBvdXRjb21lID0gJ21hdGNoJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmICggbG9nTGV2ZWwgPT09IG91dGNvbWUgKSB7CiAgICAgICAgb2JqZWN0UHJ1bmVGbi5sb2dKc29uKGpzb25CZWZvcmUsIGBwcnVuZToiJHtyYXdQcnVuZVBhdGhzfSIgbG9nOiIke2xvZ0xldmVsfSJgLCByZUxvZ05lZWRsZSk7CiAgICB9CiAgICBpZiAoIG91dGNvbWUgPT09ICdtYXRjaCcgKSB7IHJldHVybiBvYmo7IH0KfQoKICAoZnVuY3Rpb24gdHJ1c3RlZFBydW5lT3V0Ym91bmRPYmplY3QoCiAgICBlbnRyeVBvaW50ID0gJycsCiAgICByYXdQcnVuZVBhdGhzID0gJycsCiAgICByYXdOZWVkbGVQYXRocyA9ICcnCikgewogICAgaWYgKCBlbnRyeVBvaW50ID09PSAnJyApIHsgcmV0dXJuOyB9CiAgICBsZXQgY29udGV4dCA9IGdsb2JhbFRoaXM7CiAgICBsZXQgcHJvcCA9IGVudHJ5UG9pbnQ7CiAgICBmb3IgKDs7KSB7CiAgICAgICAgY29uc3QgcG9zID0gcHJvcC5pbmRleE9mKCcuJyk7CiAgICAgICAgaWYgKCBwb3MgPT09IC0xICkgeyBicmVhazsgfQogICAgICAgIGNvbnRleHQgPSBjb250ZXh0W3Byb3Auc2xpY2UoMCwgcG9zKV07CiAgICAgICAgaWYgKCBjb250ZXh0IGluc3RhbmNlb2YgT2JqZWN0ID09PSBmYWxzZSApIHsgcmV0dXJuOyB9CiAgICAgICAgcHJvcCA9IHByb3Auc2xpY2UocG9zKzEpOwogICAgfQogICAgaWYgKCB0eXBlb2YgY29udGV4dFtwcm9wXSAhPT0gJ2Z1bmN0aW9uJyApIHsgcmV0dXJuOyB9CiAgICBjb25zdCBzYWZlID0gc2FmZVNlbGYoKTsKICAgIGNvbnN0IGV4dHJhQXJncyA9IHNhZmUuZ2V0RXh0cmFBcmdzKEFycmF5LmZyb20oYXJndW1lbnRzKSwgMyk7CiAgICBjb250ZXh0W3Byb3BdID0gbmV3IFByb3h5KGNvbnRleHRbcHJvcF0sIHsKICAgICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7CiAgICAgICAgICAgIGNvbnN0IG9iakJlZm9yZSA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTsKICAgICAgICAgICAgaWYgKCBvYmpCZWZvcmUgaW5zdGFuY2VvZiBPYmplY3QgPT09IGZhbHNlICkgeyByZXR1cm4gb2JqQmVmb3JlOyB9CiAgICAgICAgICAgIGNvbnN0IG9iakFmdGVyID0gb2JqZWN0UHJ1bmVGbigKICAgICAgICAgICAgICAgIG9iakJlZm9yZSwKICAgICAgICAgICAgICAgIHJhd1BydW5lUGF0aHMsCiAgICAgICAgICAgICAgICByYXdOZWVkbGVQYXRocywKICAgICAgICAgICAgICAgIHsgbWF0Y2hBbGw6IHRydWUgfSwKICAgICAgICAgICAgICAgIGV4dHJhQXJncwogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm4gb2JqQWZ0ZXIgfHwgb2JqQmVmb3JlOwogICAgICAgIH0sCiAgICB9KTsKfSkoLi4uYXJncy5zbGljZSgwLCBsYXN0X2FyZ19pbmRleCkpCn0="}]