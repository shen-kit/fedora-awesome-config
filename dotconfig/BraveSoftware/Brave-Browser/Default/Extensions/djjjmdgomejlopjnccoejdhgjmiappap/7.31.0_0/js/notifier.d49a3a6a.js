"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["notifier","src_shared_utils_activation_js"],{65623:
/*!***************************************************!*\
  !*** ./src/background/events/tabs.js + 5 modules ***!
  \***************************************************/(t,e,n)=>{n.d(e,{ij:()=>at,ul:()=>ot});var r=n(50008),o=n.n(r),i=n(63038),a=n.n(i),c=n(48926),u=n.n(c),s=n(27361),l=n.n(s),f=n(90623),p=n(21934),h=n(83582),d=n(6688),v=n(96965),m=n(26846),g=n(67522),y=n(40062),b=n(7358),w=n(75611);function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var _,x=["images/icon/blink/icon_00.png","images/icon/blink/icon_01.png","images/icon/blink/icon_02.png","images/icon/blink/icon_03.png","images/icon/blink/icon_04.png","images/icon/blink/icon_05.png","images/icon/blink/icon_06.png","images/icon/blink/icon_07.png","images/icon/blink/icon_08.png","images/icon/blink/icon_09.png","images/icon/blink/icon_10.png","images/icon/blink/icon_11.png","images/icon/blink/icon_12.png","images/icon/blink/icon_13.png","images/icon/blink/icon_14.png","images/icon/blink/icon_15.png","images/icon/blink/icon_16.png","images/icon/blink/icon_17.png","images/icon/blink/icon_18.png","images/icon/blink/icon_19.png","images/icon/blink/icon_20.png","images/icon/blink/icon_21.png","images/icon/blink/icon_22.png","images/icon/blink/icon_23.png","images/icon/blink/icon_24.png","images/icon/blink/icon_25.png","images/icon/blink/icon_26.png","images/icon/blink/icon_27.png","images/icon/blink/icon_28.png","images/icon/blink/icon_29.png","images/icon/blink/icon_30.png","images/icon/blink/icon_31.png","images/icon/blink/icon_32.png","images/icon/blink/icon_33.png","images/icon/blink/icon_34.png","images/icon/blink/icon_35.png","images/icon/blink/icon_36.png","images/icon/blink/icon_37.png","images/icon/blink/icon_38.png","images/icon/blink/icon_39.png"],O=["images/icon/compliance/Friendly_00.png","images/icon/compliance/Friendly_01.png","images/icon/compliance/Friendly_02.png","images/icon/compliance/Friendly_03.png","images/icon/compliance/Friendly_04.png","images/icon/compliance/Friendly_05.png","images/icon/compliance/Friendly_06.png","images/icon/compliance/Friendly_07.png","images/icon/compliance/Friendly_08.png","images/icon/compliance/Friendly_09.png","images/icon/compliance/Friendly_10.png","images/icon/compliance/Friendly_11.png","images/icon/compliance/Friendly_12.png","images/icon/compliance/Friendly_13.png","images/icon/compliance/Friendly_14.png","images/icon/compliance/Friendly_15.png","images/icon/compliance/Friendly_16.png","images/icon/compliance/Friendly_17.png","images/icon/compliance/Friendly_18.png","images/icon/compliance/Friendly_19.png","images/icon/compliance/Friendly_20.png","images/icon/compliance/Friendly_21.png","images/icon/compliance/Friendly_22.png","images/icon/compliance/Friendly_23.png","images/icon/compliance/Friendly_24.png","images/icon/compliance/Friendly_25.png","images/icon/compliance/Friendly_26.png","images/icon/compliance/Friendly_27.png","images/icon/compliance/Friendly_28.png","images/icon/compliance/Friendly_29.png","images/icon/compliance/Friendly_30.png","images/icon/compliance/Friendly_31.png","images/icon/compliance/Friendly_32.png","images/icon/compliance/Friendly_33.png","images/icon/compliance/Friendly_34.png","images/icon/compliance/Friendly_35.png","images/icon/compliance/Friendly_36.png","images/icon/compliance/Friendly_37.png","images/icon/compliance/Friendly_38.png","images/icon/compliance/Friendly_39.png"],k=[255,255,255,0],C=function(){var t=u()(E().mark((function t(e){var n,r,o,i;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.text,r=void 0===n?"":n,o=e.color,i=void 0===o?k:o,browser.action.setBadgeText({text:r}),browser.action.setBadgeBackgroundColor({color:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){clearInterval(_),C({text:"",color:k})},P=function(t){clearInterval(_);var e=0,n=0;_=setInterval((function(){browser.action.setIcon({path:t[e++]}),e===t.length&&(e=0,n++),5===n&&clearInterval(_)}),50)},I=function(){C({text:"",color:k}),P(x)},N=function(){browser.action.setIcon({path:"images/icon/Red-32.png"}),C({text:"",color:k})},A=function(){return browser.action.setIcon({path:"images/icon/Permission.png"})},L=function(){T(),browser.action.setIcon({path:"images/icon/Grey-44.png"})},S=function(){T(),A()},j=function(t,e){return function(n,r){p.ZP.info(t,"CHECK_ICON tabId ".concat(e)),T();var o=t.getState(),i=(0,h.GM)(o,{merchant:n}),a=(0,m.cY)(o,{merchant:n,url:r}),c=(0,m.Mp)(o,{id:null==n?void 0:n.merchantId}),u=(0,g.nu)(o),s=(0,w.gN)(r),l=(0,y.Bp)(o),E=(0,b.wi)(o,{hostname:s,url:r}),_=(0,b._S)(o,{merchantName:E}),x=l&&E&&(null==_?void 0:_.apiStatus)!==f.j5,L=(0,d.Zb)(o,{merchantId:null==n?void 0:n.merchantId}),S=(0,d.vb)(o,{merchantId:null==n?void 0:n.merchantId})||(0,v.v6)(o,{merchant:n});return n||x?S&&!i?(browser.action.setIcon({path:"images/icon/disable.png"}),P(O),C({text:"!",color:"#e0311e"}),void browser.action.setBadgeTextColor({color:"#ffffff"})):L&&!i?(N(),void p.ZP.info(t,"it is an off merchant, icon reset")):u?(A(),void p.ZP.info(t,"there is invalid permission")):i&&a?(I(),void p.ZP.info(t,"it was activated and it is confirm page now, start blink")):i&&c?(browser.action.setIcon({path:"images/icon/Green-32.png"}),C({text:"",color:k}),void p.ZP.info(t,"it is activated and product has cashback, icon green")):c||x?(I(),void p.ZP.info(t,"it has cashback, icon start blink")):(N(),void p.ZP.info(t,"it hasn't cashback, icon reset")):(N(),void p.ZP.info(t,"it is not merchant, icon reset"))}},R=n(34363),F=function(t){return function(e){return browser.permissions.contains({origins:["http://*/*","https://*/*"]}).catch((function(){return Promise.resolve(!0)})).then(function(t,e){return function(n){p.ZP.info(t,"CHECK_PERMISSION");var r=t.getState();return n?((0,g.nu)(r)&&(p.ZP.info(t,"clear invalid permission"),t.dispatch((0,R.VL)())),Promise.resolve()):e?((0,g.V7)(r,{merchant:e})?t.dispatch((0,R.Lu)(e)):t.dispatch((0,R.lR)(e)),p.ZP.error(t,"No permission and this tab is merchant page"),Promise.reject(new Error("No permission and this tab is merchant page"))):((0,g.nu)(r)||t.dispatch((0,R.lR)()),p.ZP.error(t,"No permission and this tab is not merchant page"),Promise.reject(new Error("No permission and this tab is not merchant page")))}}(t,e)).catch((function(){return S(),Promise.reject(new Error("no permissions"))}))}},M=n(88213),D=n(45887);function U(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */U=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:_(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function _(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var B=function(t){return function(e){return(0,m._t)(t.getState(),{url:e})}},H=function(){var t=u()(U().mark((function t(e,n,r){var o,i,a,c,u,s,f;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,D.jv)(o,{tabId:n}),a=i,c=B(e)(r),u=l()(c,"merchantId"),s=l()(c,"name"),f=(0,h.lE)(o,{merchant:c}),(0,w._d)(r)&&e.dispatch((0,M.f$)({tabId:n})),t.abrupt("return",e.dispatch((0,M.iM)({tabId:n,url:r,merchantId:u,merchantName:s,shoppingtripId:f,prevUrl:a})));case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Z=n(86329),G=n(23028),V=n(9274),X=n(11713),z=n(62620),K=n(91369),W=n(68093),q=n(89489),Y=n(20045),Q=n(11775),J=n(34575),$=n.n(J),tt=n(93913),et=n.n(tt),nt=function(){function t(e,n){$()(this,t),this.name=e,this.observers=null!=n?n:[]}return et()(t,[{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){this.observers=this.observers.filter((function(e){return e!==t}))}},{key:"notify",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];p.ZP.info(t,"EventManager ".concat(this.name," tabId:").concat((null===(e=r[0])||void 0===e?void 0:e.tabId)||"N/A"," data:"),r),this.observers.forEach((function(e){e.apply(void 0,[t].concat(r))}))}}]),t}();function rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:_(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function _(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var ot=new nt("onTabUrlChange"),it=new nt("onTabUpdateOrTabFocus"),at="URL_CHANGE";ot.addObserver((function(t,e){var n=e.tabId,r=e.url,o=t.getState();browser.tabs.sendMessage(n,{action:at,tabId:n,url:r}).catch((function(t){t.message.includes("Receiving end does not exist")||p.ZP.error(o,t.message)}))}));var ct=function(t){return function(){var e=u()(rt().mark((function e(n){var r,o,i,c,u,s,f,d,v,m,g;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.ZP.info(t,"CHECK_ACTIVATED_STATE"),e.next=3,browser.tabs.query({active:!0,currentWindow:!0});case 3:if(r=e.sent,o=a()(r,1),i=o[0],!n||!(0,W.ko)(t.getState(),{url:i.url})){e.next=13;break}return c=(0,W.hc)(t.getState(),{url:i.url,merchant:n}),u=c.sellerId,s=null==n?void 0:n.eOutletId,f=l()(t.getState().amsNotifier.settings,[s,u],{}).activatedAt,d=z.Dwi,f&&(new Date).getTime()-f>d&&(p.ZP.warn(t,"deactivate seller id: ".concat(u)),t.dispatch((0,G.Mq)({eOutletId:s,sellerId:u}))),e.abrupt("return",Promise.resolve());case 13:return n&&(v=t.getState(),(0,h.GM)(v,{merchant:n})&&(m=n.isTaobao?z._lx:z.BFS,(g=(0,h.B4)(v,{merchant:n}))&&(new Date).getTime()-g>m&&(p.ZP.warn(t,"deactivate merchant id: ".concat(n.merchantId)),t.dispatch((0,V.JA)(n))))),e.abrupt("return",Promise.resolve());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ut=function(t,e,n,r){p.ZP.info(t,"DEACTIVATE_AND_REFRESH_TAOBAO_PRODUCT");var o=e[n].activatedAt;o&&(new Date).getTime()-o>r&&(p.ZP.warn(t,"deactivate taobao product id: ".concat(n)),t.dispatch((0,X.cK)(n)),t.dispatch((0,X.gh)({productId:n,from:K.Uc})))},st=function(t){return function(e,n){p.ZP.info(t,"CHECK_TAOBAO_PRODUCT_ACTIVATE_STATE");var r=t.getState();if(e&&e.isTaobao){var o=(0,Q.Ne)(r),i=(0,Q.Vj)(r),a=i.timeToDeactivateTaoBaoProduct,c=i.standDownTaoBaoNotifierTimerMs;if((0,Q.Dp)(r,{url:n})){var u=(0,Q.n2)(r,{url:n}),s=(0,Q.n6)(r);p.ZP.info(t,"hit taobao product page: ".concat(n)),p.ZP.info(t,"taobao product id: ".concat(u)),o[u]&&ut(t,o,u,a),s&&(new Date).getTime()-s>c&&t.dispatch((0,X.Xq)())}else(0,Q.BJ)(r,{url:n})&&(p.ZP.info(t,"hit taobao shopping cart page: ".concat(n)),Object.keys(o).forEach((function(e){ut(t,o,e,a)})))}return Promise.resolve()}},lt=function(){var t=u()(rt().mark((function t(e){var n;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),!(0,q.wJ)(n)){t.next=5;break}return L(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var t=u()(rt().mark((function t(e){var n;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),(0,Y.g6)(n)){t.next=5;break}return S(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pt=function(t,e){return function(n){p.ZP.info(t,"CHECK_CLOSE_TAB");var r=t.getState(),o=(0,D.k3)(r,{tabId:e}),i=(0,m.Lz)(r,{id:o}),a=(0,h.GM)(r,{merchant:i});i&&a&&(0,D.ed)(r,{tabId:e})&&(j(t,e)(i,n),t.dispatch((0,M.on)({tabId:e})))}},ht=function(){var t=u()(rt().mark((function t(e){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft(e);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lt(e);case 6:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),dt=function(){var t=u()(rt().mark((function t(e,n,r){var o,i,a;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,D.k3)(o,{tabId:r}),a=(0,m.Lz)(o,{id:i}),t.next=5,F(e)(a);case 5:return t.next=7,ct(e)(a);case 7:return t.next=9,st(e)(a,n);case 9:it.notify(e,{tabId:r,url:n,merchant:a}),j(e,r)(a,n);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),vt=function(){var t=u()(rt().mark((function t(e,n){var r,o,i;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState(),(0,D.Lo)(r,{tabId:n})){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return t.next=5,browser.tabs.get(n);case 5:return o=t.sent,i=o.url,t.abrupt("return",H(e,n,i));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),mt={handleActivated:function(t){return function(){var e=u()(rt().mark((function e(n){var r,o,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.tabId,e.prev=1,o=t.getState(),i=(0,D.jv)(o,{tabId:r}),e.next=6,ht(t);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,vt(t,r);case 10:return e.next=12,dt(t,i,r);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),p.ZP.error(t,e.t0.stack);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}};mt.handleCreated=function(t){return function(e){var n=e.id,r=e.openerTabId;!function(t,e){var n=e.tabId,r=e.openerTabId,o=(0,D.jv)(t.getState(),{tabId:r});t.dispatch((0,M.ZW)({tabId:n,url:null,openerUrl:o}))}(t,{tabId:n,openerTabId:r})}},mt.handleUpdated=function(t){return function(){var e=u()(rt().mark((function e(n,r){var o,i,c,u,s,l,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=(o=r||{}).status,!(c=o.url)){e.next=8;break}if(u=t.getState(),(0,D.jv)(u,{tabId:n})===c){e.next=8;break}return e.next=8,H(t,n,c);case 8:if("loading"!==i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,ht(t);case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,browser.tabs.query({currentWindow:!0,active:!0});case 16:if(s=e.sent,l=a()(s,1),f=l[0]){e.next=21;break}return e.abrupt("return");case 21:if(pt(t,n)(f.url),n!==f.id){e.next=25;break}return e.next=25,dt(t,f.url,n);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),p.ZP.error(t,e.t0.stack);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,n){return e.apply(this,arguments)}}()},mt.handleRemove=function(t){return function(e){t.dispatch((0,Z.br)(e)),t.dispatch((0,M.on)({tabId:e}))}}},51949:
/*!**************************************!*\
  !*** ./src/content/contentLoader.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{YU:()=>y,B6:()=>b,Ad:()=>w,Sc:()=>E,v:()=>_});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/defineProperty */59713),a=n.n(i),c=n(/*! @babel/runtime/helpers/objectWithoutProperties */6479),u=n.n(c),s=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),l=n.n(s),f=n(/*! ../shared/utils/runtimeMessageUtils */8439),p=["store","merchant","tabId"];function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=new Set,m=new Map,g=null,y=function(){var t=l()(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v.has(e)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,f.Qb)(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(t,e){m.set(t,e)},w=function(t){return function(e){v.add(t),e(g.store,g)}},E=function(t){if(!m.has(t))throw new Error("'content module failed when connected to store, can not find the key:', ".concat(t,", plz set the connect function first by calling 'setConnectFunc'."));return v.add(t),m.get(t)},_=function(t){var e=t.store,n=t.merchant,r=t.tabId,o=u()(t,p);g=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({store:e,merchant:n,tabId:r},o)}},40919:
/*!**********************************************************************************************!*\
  !*** ./src/content/notifier/components/ConfirmationRecommendationNotifier/ReviewUs/index.js ***!
  \**********************************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(/*! prop-types */45697),o=n.n(r),i=n(/*! react */67294),a=n(/*! shared/styledComponents */20136),c=function(t){var e=t.handleReviewClick;return i.createElement("div",{style:{backgroundColor:"white",borderRadius:"0px 0px 8px 8px",textAlign:"center"}},i.createElement(a.xv,{fontSize:"12px",fontWeight:"normal",lineHeight:"16px",color:"#286FDC",cursor:"pointer",onClick:e,margin:"0 auto 8px"},browser.i18n.getMessage("review_us_for_confirmation_notifier")))};c.propTypes={handleReviewClick:o().func},c.defaultProps={handleReviewClick:function(){}};const u=c},37912:
/*!*****************************************************************************************!*\
  !*** ./src/content/notifier/containers/ConfirmationForAmsNotifier/index.js + 1 modules ***!
  \*****************************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>S});var r=n(59713),o=n.n(r),i=n(63038),a=n.n(i),c=n(45697),u=n.n(c),s=n(67294),l=n(65858),f=n(41438),p=n(22222),h=n(44161),d=n(56102),v=n(23028),m=n(88213),g=n(33646),y=n(93367),b=n(20136),w=n(4536),E=n(55162),_=n(79896),x=n(90809),O=n(289),k=function(t){var e=t.merchant,n=t.handleClose,r=t.handleActivate,o=e.name,i=e.displayTrackingTime;return s.createElement(E.d4,{borderRadius:"8px 8px 0px 0px"},s.createElement(E.$6,null,s.createElement(b.zl,{style:{justifyContent:"space-between",alignItems:"center",height:"30px"}},s.createElement(O.A,null),s.createElement(E.PZ,{width:"12px",height:"12px",top:"12px",right:"12px",onClick:n}))),s.createElement(E.$L,null,s.createElement(b.NH,{height:"24px"}),s.createElement(x.Z,{merchantName:o,trackingTime:i,customizedTitle:browser.i18n.getMessage("ams_notifier_place_order_successfully_title")}),s.createElement(b.NH,{height:"10px"}),s.createElement(b.AE,{flex:"1"},s.createElement(_.Z,{handleActivate:r},s.createElement(b.xv,{fontSize:"12px",fontWeight:"bold",lineHeight:"1em",color:"#ffffff"},browser.i18n.getMessage("ams_start_another_order_btn"))))),s.createElement(E.N0,null))};k.propTypes={merchant:u().object,handleClose:u().func,handleActivate:u().func},k.defaultProps={merchant:{},handleClose:function(){},handleActivate:function(){}};const C=k;var T=n(40919);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N={top:"10px",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.2)"},A=function(t){var e=t.shouldOpen,n=t.merchant,r=t.openNewTabAction,o=t.unMount,i=(0,l.I0)(),c=(0,s.useState)(e),u=a()(c,2),f=u[0],p=u[1];(0,s.useEffect)((function(){i((0,v.Mq)())}),[i]);var m=function(){var t=(0,w.yw)();r({openUrl:t,active:!0,autoClose:!1})};return s.createElement(d.Z,{selectorFn:h.Dy},s.createElement(g.Z,{isOpen:f,Container:E.TG,defaultStyle:N,onExited:o},s.createElement(b.z4,{flex:"1"},s.createElement(C,{merchant:n,handleActivate:function(){var t=new URL(window.location.href).hostname;window.location.replace("https://".concat(t))},handleClose:function(){p(!1)},handleReviewClick:m}),s.createElement(T.Z,{handleReviewClick:m}))))};A.propTypes={merchant:u().object,shouldOpen:u().bool.isRequired,unMount:u().func,openNewTabAction:u().func.isRequired},A.defaultProps={merchant:null,unMount:function(){}};var L=(0,p.zB)({shouldOpen:y.TU});const S=(0,l.$j)(L,(function(t){return I(I({},(0,f.bindActionCreators)({openNewTabAction:m.gZ},t)),{},{dispatch:t})}))(A)},77503:
/*!*************************************************************************************************!*\
  !*** ./src/content/notifier/containers/ConfirmationRecommendationNotifier/index.js + 2 modules ***!
  \*************************************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>$});var r=n(59713),o=n.n(r),i=n(34575),a=n.n(i),c=n(93913),u=n.n(c),s=n(2205),l=n.n(s),f=n(78585),p=n.n(f),h=n(29754),d=n.n(h),v=n(45697),m=n.n(v),g=n(67294),y=n(65858),b=n(41438),w=n(22222),E=n(44161),_=n(56102),x=n(9274),O=n(88213),k=n(33646),C=n(62620),T=n(83582),P=n(49485),I=n(51693),N=n(93367),A=n(45786),L=n(20136),S=n(4536),j=n(91228),R=n(95163);function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var D=n(55162),U=n(79896),B=n(90809),H=n(289),Z=function(t){var e=t.handleActivate,n=t.cashbackActivateMessage,r=t.loginToActivateX,o=t.showBaseCashback,i=t.baseCashback,a=t.loggedIn;return g.createElement(U.Z,{handleActivate:e},g.createElement(L.xv,{fontSize:"12px",fontWeight:"bold",lineHeight:"1em",color:"#ffffff"},a?browser.i18n.getMessage("notifier_for_next_order",n):r),g.createElement(L.xv,{fontSize:"10px",fontWeight:"300",lineHeight:"1em",color:"#ffffff",margin:o?"3px 0 0 0":null},o?i:null))};Z.propTypes={handleActivate:m().func,cashbackActivateMessage:m().string,loginToActivateX:m().string,showBaseCashback:m().bool,baseCashback:m().string.isRequired,loggedIn:m().bool.isRequired},Z.defaultProps={handleActivate:function(){},cashbackActivateMessage:"",loginToActivateX:"",showBaseCashback:!1};var G=function(t){var e=t.merchant,n=t.handleActivate,r=t.handleClose,o=t.loggedIn,i=e.activateX,a=e.loginToActivateX,c=e.name,u=e.displayTrackingTime,s=Boolean(e&&e.oldCashback&&e.oldCashback.description),l=s?e.oldCashback.description:"";return g.createElement(D.d4,{borderRadius:"8px 8px 0px 0px"},g.createElement(D.$6,null,g.createElement(L.zl,{style:{justifyContent:"space-between",alignItems:"center",height:"30px"}},g.createElement(H.A,null),g.createElement(D.PZ,{width:"12px",height:"12px",top:"12px",right:"12px",onClick:r}))),g.createElement(D.$L,null,g.createElement(L.NH,{height:"24px"}),g.createElement(B.Z,{merchantName:c,trackingTime:u}),g.createElement(L.NH,{height:"10px"}),g.createElement(Z,{handleActivate:n,cashbackActivateMessage:i,loginToActivateX:a,showBaseCashback:s,baseCashback:l,loggedIn:o})),g.createElement(D.N0,null))};G.propTypes={merchant:m().object,handleActivate:m().func,handleClose:m().func,loggedIn:m().bool.isRequired},G.defaultProps={merchant:{},handleActivate:function(){},handleClose:function(){}};const V=G;var X=n(40919);function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var q,Y={top:"10px",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.2)"},Q=function(t){l()(n,t);var e=W(n);function n(){var t;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={isOpen:!1},t.setIsOpen=function(e){return t.setState({isOpen:e})},t.handleActivate=function(e){var n,r,o=e.merchant,i=void 0===o?t.props.merchant:o,a=t.props,c=a.loggedIn,u=a.cc,s=i.activationUrl,l=!1;c?(n=C.VKh,t.trackClickReActivateBtnEvent(s),l=!0):(n=C.TjR,r=(0,S.U)(u,s),t.trackClickReActivateBtnEvent(r),l=!0),(0,j.xc)({merchant:i,utmMedium:n,isLoggedIn:c,isNewTab:l,cc:u})},t.handleReviewClick=function(){(0,t.props.openNewTabAction)({openUrl:(0,S.yw)(),active:!0,autoClose:!1})},t.handleClose=function(){t.setIsOpen(!1),t.trackClickCloseBtnEvent()},t}return u()(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.shouldOpen,n=t.merchant;(0,t.deActivate)(n.merchantId),e&&this.setIsOpen(!0)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.disabled,r=e.shouldOpen,o=e.loggedIn;if(n&&!t.disabled&&this.setIsOpen(!1),r!==t.shouldOpen&&this.setIsOpen(r),r&&!t.shouldOpen||o!==t.loggedIn){if(!r)return;this.trackViewConfirmationNotifierEvent()}}},{key:"render",value:function(){var t=this.props,e=t.merchant,n=t.loggedIn,r=t.unMount,o=t.customizedStyle,i=this.state.isOpen,a=o||Y;return g.createElement(_.Z,{selectorFn:E.Dy},g.createElement(k.Z,{isOpen:i,Container:D.TG,defaultStyle:a,onExited:r},g.createElement(L.z4,{flex:"1"},g.createElement(V,{merchant:e,handleActivate:this.handleActivate,handleClose:this.handleClose,handleReviewClick:this.handleReviewClick,loggedIn:n}),g.createElement(X.Z,{handleReviewClick:this.handleReviewClick}))))}}]),n}((q=g.Component,function(t){l()(n,t);var e=M(n);function n(){var t;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).getType=function(){var e=t.props.loggedIn;return"".concat(e?"":"login_","confirmation_notifier")},t.getFeatureName=function(){return t.props.loggedIn?"cashback_activate":"login_to_activate"},t}return u()(n,[{key:"trackViewConfirmationNotifierEvent",value:function(){this.trackExtViewNotifierEvent({screen_name:this.getType()})}},{key:"trackClickCloseBtnEvent",value:function(){this.trackClickCloseBtnEvent({screen_name:this.getType()})}},{key:"trackClickReActivateBtnEvent",value:function(t){this.trackExtClickNotifier({screen_name:this.getType(),feature_name:this.getFeatureName(),feature_destination_url:t})}},{key:"trackClickCategoryEvent",value:function(t,e){this.trackExtClickNotifier({screen_name:this.getType(),feature_type:"tab",feature_name:t,feature_position:e+1})}},{key:"trackClickMerchantEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trackExtClickNotifier(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({screen_name:this.getType(),feature_type:"merchant"},t))}}]),n}((0,R.Z)(q))));Q.propTypes={tabId:m().number.isRequired,confirmationUrlData:m().object.isRequired,merchant:m().object,cc:m().string.isRequired,shouldOpen:m().bool.isRequired,loggedIn:m().bool.isRequired,disabled:m().bool.isRequired,deActivate:m().func.isRequired,unMount:m().func,closeConfirmationNotifier:m().func.isRequired,openNewTabAction:m().func.isRequired,extVersion:m().string.isRequired},Q.defaultProps={merchant:null,customizedStyle:null,unMount:function(){}};var J=(0,w.zB)({disabled:T.pK,cc:P.q,loggedIn:A.jl,shouldOpen:N.qF,extVersion:I.bo});const $=(0,y.$j)(J,(function(t){return K(K({},(0,b.bindActionCreators)({deActivate:x.jm,openNewTabAction:O.gZ},t)),{},{dispatch:t})}))(Q)},91908:
/*!*******************************************************************************!*\
  !*** ./src/content/notifier/containers/FriendlyNotifier/index.js + 1 modules ***!
  \*******************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>F});var r=n(59713),o=n.n(r),i=n(63038),a=n.n(i),c=n(45697),u=n(67294),s=n(65858),l=n(23588),f=n(44161),p=n(56102),h=n(9274),d=l.ZP.div.withConfig({displayName:"WarningIcon__IconWrap",componentId:"sc-1s9nzri-0"})(["&&{width:16px;height:16px;}&& svg{width:100%;height:100%;}"]),v=function(){return u.createElement(d,null,u.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M15.8704 14.3038L8.96198 0.610573C8.55188 -0.203524 7.44811 -0.203524 7.03692 0.610573L0.129624 14.3038C-0.257569 15.0717 0.269231 16 1.0927 16H14.9084C15.7308 16 16.2576 15.0717 15.8704 14.3038ZM7.99999 13.6938C7.39794 13.6938 6.90931 13.1772 6.90931 12.5407C6.90931 11.9041 7.39794 11.3876 7.99999 11.3876C8.60205 11.3876 9.09068 11.9041 9.09068 12.5407C9.09068 13.1772 8.60205 13.6938 7.99999 13.6938ZM9.09068 10.2344H6.90931V5.62199H9.09068V10.2344Z",fill:"#FFCA44"})))};const m=u.memo(v);var g=n(33646),y=n(34724),b=n(77194),w=n(49485),E=n(26846),_=n(20136),x=n(4536);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C=browser.runtime.getURL("images/FriendlyNotifier/backgroundImg.png"),T=browser.runtime.getURL("images/shopback-spark-white-logo.svg"),P=l.ZP.div.withConfig({displayName:"FriendlyNotifier__NotifierContainer",componentId:"sc-359c33-0"})(["&&{display:flex;flex-direction:column;position:fixed;top:4px;right:14px;width:335px;background-color:transparent;border-radius:8px;opacity:0;transition:opacity 0.5s ease-in-out;z-index:2147483647 !important;}"]),I=l.ZP.div.withConfig({displayName:"FriendlyNotifier__Header",componentId:"sc-359c33-1"})(["&&{background-color:black;background-image:url(",");padding:8px 12px;border-radius:8px 8px 0px 0px;}"],C),N=l.ZP.div.withConfig({displayName:"FriendlyNotifier__Body",componentId:"sc-359c33-2"})(["&&{display:flex;background-color:white;padding:12px;border-radius:0 0 8px 8px;}"]),A=l.ZP.div.withConfig({displayName:"FriendlyNotifier__ContentContainer",componentId:"sc-359c33-3"})(["&&{display:block;width:280px;margin-left:16px;}"]),L=(0,l.ZP)(_.xv).withConfig({displayName:"FriendlyNotifier__DisclaimerTitle",componentId:"sc-359c33-4"})(["&&{font-weight:700;font-size:14px;line-height:20px;color:#232938;text-align:left;}"]),S=(0,l.ZP)(_.xv).withConfig({displayName:"FriendlyNotifier__DisclaimerDescription",componentId:"sc-359c33-5"})(["&&{margin-top:4px;font-weight:400;font-size:12px;line-height:16px;color:#6a717f;text-align:left;}"]),j={top:"10px",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.2)"},R=function(t){var e=t.merchant,n=(0,s.I0)(),r=(0,u.useState)(!0),o=a()(r,2),i=o[0],c=o[1],l=(0,s.v9)(w.q),d=(0,x.Eu)(l),v=(0,b.Z)(),_=v.trackExtClickNotifier,O=v.trackExtViewNotifier,C=(0,s.v9)((function(t){return(0,E.WZ)(t,{merchant:e})}));(0,u.useEffect)((function(){i&&O(k(k({},C),{},{current_url:window.location.href,screen_name:"friendly_notifier"}))}),[]);return u.createElement(p.Z,{selectorFn:f.Dy},u.createElement(g.Z,{isOpen:i,defaultStyle:j,Container:P},u.createElement(I,null,u.createElement(y.Kj,{src:T,alt:"ShopBack Spark logo"}),u.createElement(y.Bt,{onClick:function(){c(!1),n((0,h.dj)(e.merchantId)),_(k(k({},C),{},{screen_name:"friendly_notifier",current_url:window.location.href,feature_type:"close"}))}})),u.createElement(N,null,u.createElement(m,null),u.createElement(A,null,u.createElement(L,null,browser.i18n.getMessage("friendly_notifier_title")),u.createElement(S,null,browser.i18n.getMessage("friendly_notifier_disclaimer",[d]))))))};R.propTypes={merchant:c.object},R.defaultProps={merchant:null};const F=R},76765:
/*!***************************************!*\
  !*** ./src/content/notifier/index.js ***!
  \***************************************/(t,e,n)=>{var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=(n(/*! url-polyfill */38264),n(/*! lodash/noop */50308)),a=n.n(i),c=n(/*! react */67294),u=n(/*! ../../background/events/tabs */65623),s=n(/*! ../settingPanel/selectors */44161),l=n(/*! ../settingPanel/utils/snoozeWrapper */56102),f=(n(/*! ../../shared/webextPolyfill */48971),n(/*! ../../shared/actionCreators/experiments */13406)),p=n(/*! ../../shared/actionCreators/trackingV2 */1019),h=n(/*! ../../shared/constants */62620),d=n(/*! ../../shared/constants/lazyModule */58950),v=n(/*! ../../shared/loggers/logger */21934),m=n(/*! ../../shared/selectors/activation */83582),g=n(/*! ../../shared/selectors/amsNotifier */68093),y=n(/*! ../../shared/selectors/experiments */6688),b=n(/*! ../../shared/selectors/merchants */26846),w=n(/*! ../../shared/selectors/notifier */93367),E=n(/*! ../../shared/selectors/settings/serviceEnableCountry */40062),_=n(/*! ../../shared/selectors/tabs */45887),x=n(/*! ../../shared/utils/polyfillI18n */38156),O=n(/*! ../../shared/utils/renderContainerUtils */34103),k=n(/*! ../contentLoader */51949);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=function(t,e){var r=e.merchant,o=e.url,i=e.tabId,u=t.getState();if(function(t,e){return e.isTaobao}(0,r))return a();var f=(0,b.cY)(u,{merchant:r,url:o}),p=(0,b.Ci)(u,{merchant:r,url:o}),d=(0,w.if)(u,{merchantId:null==r?void 0:r.merchantId,merchant:r}),v=a();if(function(t){return(0,g.ko)(t,{url:window.location.href})}(u))return f&&(0,w.TU)(u,{merchant:r})?function(t,e){var r=n(/*! ./containers/ConfirmationForAmsNotifier */37912).Z;return(0,O.s)(t,r,h.AuS,e)}(t,{merchant:r,tabId:i,confirmationUrlData:p}):a();if(f&&(0,m.GM)(u,{merchant:r})){var y=n(/*! ./containers/ConfirmationRecommendationNotifier */77503).Z;return v=(0,O.s)(t,y,h.AuS,{merchant:r,tabId:i,confirmationUrlData:p})}if(function(t,e){return e.isAliExpress&&(0,E.tV)(t)}(u,r)||d){if(d){var _=n(/*! ./containers/FriendlyNotifier */91908).Z;v=(0,O.s)(t,_,h.c$Z,{merchant:r,tabId:i,url:o})}}else{var x=n(/*! ../../shared/containers/CashbackNotifier */45044).Z;v=(0,O.s)(t,(function(t){return c.createElement(l.Z,{selectorFn:s.Dy},c.createElement(x,t))}),h.c$Z,{merchant:r,tabId:i,confirmationUrlData:p})}return v};(0,k.Sc)(d.J9)((function(t,e){var n=e.tabId;(0,x.f)(t.getState().cc);var r=a(),o=function(e){var o=t.getState(),i=(0,_.k3)(o,{tabId:n}),a=(0,b.Lz)(o,{id:i});r();var c=(0,_.f4)(o,{tabId:n}),u=(0,b.WZ)(o,{merchant:a});a&&!(0,m.GM)(o,{merchant:a})&&(0,y.Qr)(o,{merchantId:a.merchantId})&&t.dispatch((0,f.FK)(!0)),t.dispatch((0,p.trackExtViewMerchantPage)(T(T({current_url:e,referrer_url:c,tab_id:n},u),{},{has_cashback_activated:(0,m.GM)(o,{merchant:a})}))),v.ZP.info(t,"render cashback notifier containers"),r=P(t,{merchant:a,url:e,tabId:n})};o(window.location.href),browser.runtime.onMessage.addListener((function(t){if(t.action===u.ij){var e=t.url;o(e)}}))}))},55162:
/*!*********************************************************************************!*\
  !*** ./src/content/notifier/styles/confirmationRecommendationNotifier/index.js ***!
  \*********************************************************************************/(t,e,n)=>{n.d(e,{TG:()=>a,d4:()=>c,$6:()=>u,$L:()=>s,N0:()=>l,PZ:()=>f});var r=n(/*! styled-components */23588),o=n(/*! ../../../../assets/shared/close4.png */54539),i=browser.runtime.getURL("images/confirmation/order.gif"),a=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__NotifierContainer",componentId:"t9seb3-0"})(["&&{display:flex;position:fixed;top:4px;right:14px;width:",";height:",";background-color:transparent;border-radius:8px;opacity:0;transition:opacity 0.5s ease-in-out;z-index:2147483647 !important;}"],(function(t){return t.width?t.width:null}),(function(t){return t.height?t.height:null})),c=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__Notifier",componentId:"t9seb3-1"})(["&&{display:flex;position:relative;width:334px;justify-content:center;border-radius:",";background-color:#ffffff;}"],(function(t){return t.borderRadius?t.borderRadius:""})),u=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__NotifierBackground",componentId:"t9seb3-2"})(["&&{width:100%;box-sizing:border-box;height:139px;border-radius:8px 8px 160px 160px / 8px 8px 20px 20px;background-color:black;position:absolute;padding:8px 12px;}"]),s=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__NotifierContentContainer",componentId:"t9seb3-3"})(["&&{display:flex;flex-direction:column;align-items:center;justify-content:center;width:310px;height:138px;border-radius:8px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.1);background-color:#ffffff;margin:46px 12px 8px;z-index:1;}"]),l=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__OrderImg",componentId:"t9seb3-4"})(["&&{position:absolute;top:4px;right:127px;left:127px;width:80px;height:60px;object-fit:contain;background-size:80px 60px;background-repeat:no-repeat;background-image:url(",") !important;z-index:1;}"],i),f=r.ZP.div.withConfig({displayName:"confirmationRecommendationNotifier__CloseButton",componentId:"t9seb3-5"})(["&&{background-image:url(",");background-size:contain;background-repeat:no-repeat;width:",";height:",";cursor:pointer;}"],o,(function(t){return t.width||"14px"}),(function(t){return t.height||"14px"}))},3657:
/*!*****************************************************!*\
  !*** ./src/content/settingPanel/constants/index.js ***!
  \*****************************************************/(t,e,n)=>{n.d(e,{HY:()=>r,rv:()=>o,Sc:()=>i,gc:()=>a,rr:()=>c,kq:()=>u,uF:()=>s,AF:()=>l,$t:()=>f,Eo:()=>p,H7:()=>h,$N:()=>d,R0:()=>v,nt:()=>m,Tr:()=>g,vK:()=>y,Np:()=>b});var r="SHOW_SETTING_PANEL",o="HIDE_SETTING_PANEL",i="shopback-setting-panel",a="UI_FETCH_NOTIFICATION_SNOOZE_SETTING",c="UI_SET_NOTIFICATION_SNOOZE_SETTING",u="SNOOZE_NOTIFIER",s="SNOOZE/VOUCHER_NOTIFIER",l="SNOOZE/AMS_NOTIFIER",f="SNOOZE/TAOBAO_NOTIFIER",p="SNOOZE/ALIEXPRESS_NOTIFIER",h=12,d="webNotification",v="cashbackNotifier",m="taobaoAliNotifier",g="voucherNotifier",y="amsNotifier",b=[v,m,d]},44161:
/*!*****************************************************************!*\
  !*** ./src/content/settingPanel/selectors/index.js + 1 modules ***!
  \*****************************************************************/(t,e,n)=>{n.d(e,{Dy:()=>s,f_:()=>h,Ah:()=>p,SU:()=>f,yP:()=>l});var r=n(22222),o=n(26846),i=n(89489),a=n(7358),c=n(3657),u=((0,r.P1)(i.Gw,(function(t,e){return e}),(function(t,e){return t.activeSettingPanel[e.tabId]})),(0,r.P1)(i.Gw,(function(t){return t.snooze}))),s=(0,r.P1)(i.Gw,(function(t){return t.snooze.notifier})),l=(0,r.P1)(i.Gw,(function(t){return t.snooze.webNotification})),f=(0,r.P1)(i.Gw,(function(t){var e;return null!==(e=null==t?void 0:t.settingPanelTabConfigs)&&void 0!==e?e:c.Np})),p=((0,r.P1)(s,(function(t){var e;return null!==(e=null==t?void 0:t.active)&&void 0!==e&&e})),(0,r.P1)(a.u7,(function(t){var e;return null!==(e=null==t?void 0:t.active)&&void 0!==e&&e})),(0,r.P1)(o.FO,(function(t){return Object.keys(t).find((function(e){var n,r,o;return null!==(n=null===(r=t[e])||void 0===r||null===(o=r.name)||void 0===o?void 0:o.toLowerCase().includes("taobao"))&&void 0!==n&&n}))}))),h=(0,r.P1)(u,(function(t){return"firstSeen"===t.seenBefore}))},56102:
/*!*********************************************************!*\
  !*** ./src/content/settingPanel/utils/snoozeWrapper.js ***!
  \*********************************************************/(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(/*! @babel/runtime/helpers/objectWithoutProperties */6479),o=n.n(r),i=n(/*! lodash/noop */50308),a=n.n(i),c=n(/*! react-redux */65858),u=["children","selectorFn"];const s=function(t){var e=t.children,n=t.selectorFn,r=void 0===n?a():n,i=o()(t,u);return(0,c.v9)((function(t){return r(t,i)})).active?null:e}},86329:
/*!********************************************************!*\
  !*** ./src/shared/actionCreators/affiliateTopology.js ***!
  \********************************************************/(t,e,n)=>{n.d(e,{K9:()=>o,br:()=>i});var r=n(/*! ../constants */62620),o=function(t){return{type:r.F8F,payload:{tabId:t}}},i=function(t){return{type:r.yw4,payload:{tabId:t}}}},23028:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/amsNotifier.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{wJ:()=>o,JX:()=>i,B_:()=>a,V5:()=>c,vx:()=>u,Dn:()=>s,l5:()=>l,Fq:()=>f,Mq:()=>p,c8:()=>h});var r=n(/*! ../constants/amsNotifier */41822),o=(n(/*! ../urls */4536),n(/*! ../utils/fetchUtils */28392),function(t,e,n){return{type:r.Sk,payload:{eOutletId:t,sellerIds:e,tabId:n}}}),i=function(t,e){return{type:r.Hn,payload:{eOutletId:t,sellerId:e}}},a=function(t,e){return{type:r.Rq,payload:{eOutletId:t,sellerId:e}}},c=function(t){var e=t.eOutletId,n=t.sellerId,o=t.position;return{type:r.l8,payload:{eOutletId:e,sellerId:n,position:o}}},u=function(t){return{type:r.an,payload:{tabId:t}}},s=function(t){var e=t.eOutletId,n=t.sellerId,o=t.skuId,i=t.isAmsSku;return{type:r.nj,payload:{eOutletId:e,sellerId:n,skuId:o,isAmsSku:i}}},l=function(t){var e=t.eOutletId,n=t.sellerId,o=t.activatedAt,i=t.activateState;return{type:r.m$,payload:{eOutletId:e,sellerId:n,activatedAt:o,activateState:i}}},f=function(t){var e=t.eOutletId,n=t.sellerId;return{type:r.Wh,payload:{eOutletId:e,sellerId:n}}},p=function(){return{type:r._t}},h=function(){return{type:r.CV}}},19664:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/application.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{nD:()=>o,GP:()=>i});var r=n(/*! ../constants */62620),o=function(t){var e=t.tag,n=t.message;return{type:r.Shd,payload:{tag:e,message:n}}},i=function(t){var e=t.merchantId,n=t.productId,o=t.tabId;return{type:r.eqT,payload:{merchantId:e,productId:n,tabId:o}}}},13406:
/*!**************************************************************!*\
  !*** ./src/shared/actionCreators/experiments.js + 1 modules ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{FK:()=>o});n(9669);var r="UI_FETCH_EXPERIMENTS";n(21934),n(6688),n(51693),n(45786),n(4536),n(28392);function o(t){return{type:r,payload:{expose:t}}}},9274:
/*!************************************************************!*\
  !*** ./src/shared/actionCreators/merchants.js + 3 modules ***!
  \************************************************************/(t,e,n)=>{n.d(e,{Hp:()=>F,bE:()=>S,dj:()=>L,jm:()=>j,JA:()=>R,SH:()=>M,Kw:()=>P,vu:()=>A,NI:()=>C,lQ:()=>I,kH:()=>N,zo:()=>D});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(59713),u=n.n(c),s=n(62620),l=n(91227),f=(n(21934),n(83582),n(49485)),p=n(26846),h=function(t){return t.settings.merchantCacheTTL||0},d=n(45786),v=n(4536),m=n(28392),g=n(63038),y=n.n(g),b=n(53437),w=function(t){var e=browser.i18n.getUILanguage();if(t===b.od.HK){var n=browser.i18n.getUILanguage().split("-"),r=y()(n,1)[0];e="".concat(r,"-HK")}return{headers:{"X-Shopback-Locale":e}}};function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e){return{type:l.AV,payload:{merchants:t,cc:e}}}function k(t,e){return{type:l.BX,payload:{merchants:t,cc:e}}}function C(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:l.Xc,payload:{merchantIds:t,meta:e}}}var T=function(t){return"canceled"===t.message};function P(t){var e=t.payload,n=e.merchantIds,r=e.meta,o=void 0!==r&&r;return function(){var t=a()(E().mark((function t(e,r){var i,a,c,u,s,g,y;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(o?{type:l.cs}:{type:l.iG}),i=r(),a=(0,f.q)(i),c=h(i),u=x({url:(0,v.A2)(n,a),params:{meta:o},throttling:c>0&&!o?{throttlingInterval:c,throttlingKey:"merchant-api-".concat(n.join("-"))}:null},w(a)),t.prev=5,!(0,d.jl)(i)){t.next=12;break}return t.next=9,m.E.get(u,i,e);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,m.Z.get(u,i);case 14:t.t0=t.sent;case 15:if(s=t.t0,g=s.data,!o){t.next=19;break}return t.abrupt("return",e(k(g,a)));case 19:return t.abrupt("return",e(O(g,a)));case 22:if(t.prev=22,t.t1=t.catch(5),!T(t.t1)){t.next=28;break}return i=r(),y=n.map((function(t){return(0,p.Lz)(i,{id:t})})),t.abrupt("return",e(O(y,a)));case 28:if(!o){t.next=30;break}return t.abrupt("return",e({type:l.FV,err:t.t1}));case 30:return t.abrupt("return",e({type:l.a_,err:t.t1}));case 31:case"end":return t.stop()}}),t,null,[[5,22]])})));return function(e,n){return t.apply(this,arguments)}}()}function I(){return{type:l.Se}}function N(){return{type:l._x}}function A(t){return{type:l.A4,payload:{merchantId:t}}}function L(t){return{type:l.en,payload:{merchantId:t}}}function S(t){return{type:l.xH,payload:{merchantId:t}}}function j(t){return{type:s.dcW,payload:{merchantId:t}}}function R(t){return{type:s.iYg,payload:{merchant:t}}}function F(t){return{type:s.PVA,payload:{merchantId:t}}}function M(t){return{type:s.Uor,payload:x({},t)}}function D(t){return{type:s.Wgb,merchant:t}}},34363:
/*!*************************************************************!*\
  !*** ./src/shared/actionCreators/permission.js + 1 modules ***!
  \*************************************************************/(t,e,n)=>{n.d(e,{Lu:()=>l,VL:()=>s,Ni:()=>u,lR:()=>c});var r=n(62620),o="DETECT_PERMISSION_CHANGE",i="CLEAN_INVALID_PERMISSION",a=n(67522);function c(){return{type:o,payload:{merchantId:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{merchantId:-1}).merchantId}}}function u(t){return{type:r.BDI,payload:{merchantId:t,ts:Date.now()}}}function s(){return{type:i,payload:{}}}function l(t){return function(e,n){var o,i=n();return(0,a.Cx)(i,{merchant:t})&&e((o=t.merchantId,{type:r.JxL,payload:{merchantId:o}})),Promise.resolve()}}},88213:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/tabs.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{f$:()=>w,on:()=>E,ZW:()=>y,gZ:()=>m,iM:()=>g,G_:()=>b});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(9274),u=n(26846);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}const l={fetchMerchantById:function(){var t=a()(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch((0,c.Kw)({payload:{merchantIds:[n]}}));case 2:return t.abrupt("return",(0,u.Lz)(e.getState(),{id:n}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};var f=n(65623),p=n(18855),h=n(21934),d=n(45887);function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var m=function(t){var e=t.openUrl,n=t.active,r=t.autoClose,o=void 0===r||r;return{type:p.Th,openUrl:e,active:n,autoClose:o}},g=function(t){var e=t.tabId,n=t.url,r=t.merchantId,o=t.merchantName,i=t.shoppingtripId,c=t.prevUrl;return function(){var t=a()(v().mark((function t(a,s){var m,g,y,b;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m=s(),g=(0,d.jv)(m,{tabId:e}),a({type:p.YI,payload:{tabId:e,url:n,merchantId:r,merchantName:o,shoppingtripId:i,prevUrl:c}}),!n||g===n){t.next=11;break}if(y={dispatch:a,getState:s},!(b=(0,u.Lz)(m,{id:r}))){t.next=10;break}return t.next=9,l.fetchMerchantById(y,r).catch((function(t){return h.ZP.error(m,t.stack)}));case 9:b=t.sent;case 10:f.ul.notify(y,{tabId:e,url:n,merchant:b});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},y=function(t){var e=t.tabId,n=t.url,r=t.openerUrl;return{type:p.Hl,payload:{tabId:e,url:n,openerUrl:r}}},b=function(t){var e=t.tabId,n=t.affiliateLinkId,r=t.shoppingtripId;return{type:p.uE,payload:{tabId:e,affiliateLinkId:n,shoppingtripId:r}}},w=function(t){var e=t.tabId;return{type:p.V1,payload:{tabId:e}}},E=function(t){var e=t.tabId;return function(t,n){return browser.tabs.remove(e).catch((function(t){return h.ZP.warn(n(),t.message)})).then((function(){return t({type:p.wk,payload:{tabId:e}})}))}}},11713:
/*!*********************************************!*\
  !*** ./src/shared/actionCreators/taoBao.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Xq:()=>l,_w:()=>f,lk:()=>p,Sk:()=>h,gh:()=>g,Fv:()=>y,cK:()=>b,V0:()=>w,qQ:()=>E});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../constants */62620),u=n(/*! ../utils/taoBaoUtils */80351);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function l(){return{type:c.Jkz}}function f(){return{type:c.usU}}function p(){return{type:c.OO5}}function h(){return{type:c.IKz}}function d(t){return{type:c.q9M,payload:{productId:t}}}function v(t){return{type:c.aTr,payload:{productId:t}}}function m(t,e){return{type:c.RzL,payload:{productId:t,hasCashback:e}}}function g(t){var e=t.productId;return function(){var t=a()(s().mark((function t(n,r){var o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),i=o.cc,n(v(e)),t.prev=3,t.next=6,(0,u.aT)(e,i,o);case 6:a=t.sent,n(m(e,a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(d(e));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function y(t,e){return{type:c.ow$,productId:t,from:e}}function b(t){return{type:c.NVs,payload:{productId:t}}}function w(t){return{type:c.slH,payload:{productId:t}}}function E(t){return{type:c.fk6,payload:{productId:t}}}},1019:
/*!*************************************************!*\
  !*** ./src/shared/actionCreators/trackingV2.js ***!
  \*************************************************/(t,e,n)=>{n.r(e),n.d(e,{trackExtUpdated:()=>m,trackExtInstalled:()=>g,trackExtOpenMenu:()=>y,trackExtLoadMenu:()=>b,trackExtViewScreenMenu:()=>w,trackExtSearchMenu:()=>E,trackExtClickMenu:()=>_,trackExtClickContent:()=>x,trackExtClickContentMenu:()=>O,trackExtInteractContentMenu:()=>k,trackExtInteractContent:()=>C,trackExtInteractDialogMenu:()=>T,trackExtInteractMenu:()=>P,trackExtHoverMenu:()=>I,trackExtHoverContent:()=>N,trackExtClickBottomNavigationMenu:()=>A,trackExtError:()=>L,trackExtExtractStart:()=>S,trackExtExtractOrder:()=>j,trackExtExtractCrawl:()=>R,trackExtExtractUpload:()=>F,trackExtViewMerchantPage:()=>M,trackExtViewInActivatedNotifier:()=>D,trackExtViewActivatedNotifier:()=>U,trackExtViewNotifier:()=>B,trackExtClickNotifier:()=>H,trackExtInteractNotifier:()=>Z,trackExtHoverNotifier:()=>G,trackExtViewSerp:()=>V,trackExtClickSerp:()=>X,trackExtSaveSuccess:()=>z,trackExtRemoveSuccess:()=>K,trackExtLoadSavedTab:()=>W,trackExtHover:()=>q,trackExtErrorOccurred:()=>Y,trackSystemLogout:()=>Q});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! ../constants */62620),a=n(/*! ../constants/eventsV2 */44340);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={current_url:null,referrer_url:null,destination_url:null},l={merchant_id:null,merchant_name:null},f={screen_name:null,screen_type:null,page_type:null},p={ui_element_id:null,ui_element_name:null,ui_element_type:null,ui_element_position:null},h={feature_id:null,feature_name:null,feature_type:null,feature_position:null},d={serp_domain:null},v=function(t){var e=t.eventName,n=t.properties;return{type:i.MTw,payload:{eventName:e,properties:n}}},m=function(){return v({eventName:a.C4.EXT_UPDATED,properties:{installation_medium:"little_whale_grow"}})},g=function(t){return v({eventName:a.C4.EXT_INSTALLED,properties:u({installation_medium:"cute_whale_born",current_url:null,utm_source:null,utm_medium:null},t)})},y=function(t){return v({eventName:a.C4.EXT_OPEN_MENU,properties:u(u(u({},s),l),t)})},b=function(t){return v({eventName:a.C4.EXT_LOAD_MENU,properties:u(u(u({},s),l),t)})},w=function(t){return v({eventName:a.C4.EXT_VIEW_SCREEN_MENU,properties:u(u(u(u({},s),l),f),t)})},E=function(t){return v({eventName:a.C4.EXT_SEARCH_MENU,properties:u(u(u(u({},s),l),f),t)})},_=function(t){return v({eventName:a.C4.EXT_CLICK_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},x=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},O=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},k=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},C=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},T=function(t){return v({eventName:a.C4.EXT_INTERACT_DIALOG_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},P=function(t){return v({eventName:a.C4.EXT_INTERACT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},I=function(t){return v({eventName:a.C4.EXT_HOVER_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},N=function(t){return v({eventName:a.C4.EXT_HOVER_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},A=function(t){return v({eventName:a.C4.EXT_CLICK_BOTTOM_NAVIGATION_MENU,properties:u(u(u(u(u({},s),l),f),h),t)})},L=function(t){return v({eventName:a.C4.EXT_ERROR,properties:t})},S=function(t){return v({eventName:a.C4.EXT_EXTRACT_START,properties:t})},j=function(t){return v({eventName:a.C4.EXT_EXTRACT_ORDER,properties:t})},R=function(t){return v({eventName:a.C4.EXT_EXTRACT_CRAWL,properties:t})},F=function(t){return v({eventName:a.C4.EXT_EXTRACT_UPLOAD,properties:t})},M=function(t){return v({eventName:a.C4.EXT_VIEW_MERCHANT_PAGE,properties:u(u(u({},s),l),t)})},D=function(t){return v({eventName:a.C4.EXT_VIEW_INACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},U=function(t){return v({eventName:a.C4.EXT_VIEW_ACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},B=function(t){return v({eventName:a.C4.EXT_VIEW_NOTIFIER,properties:u(u(u({},s),l),t)})},H=function(t){return v({eventName:a.C4.EXT_CLICK_NOTIFIER,properties:u(u(u({current_url:null,referrer_url:null},h),{},{feature_destination_url:null},l),{},{screen_name:null},t)})},Z=function(t){return v({eventName:a.C4.EXT_INTERACT_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},G=function(t){return v({eventName:a.C4.EXT_HOVER_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},V=function(t){return v({eventName:a.C4.EXT_VIEW_SERP,properties:u(u({},d),t)})},X=function(t){return v({eventName:a.C4.EXT_CLICK_SERP,properties:u(u({},d),{},{feature_type:null,feature_destination_url:null,merchant_id:null},t)})},z=function(t){return v({eventName:a.C4.EXT_SAVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,save_from:null},t)})},K=function(t){return v({eventName:a.C4.EXT_REMOVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,remove_from:null},t)})},W=function(t){return v({eventName:a.C4.EXT_LOAD_SIDE_PANEL,properties:u(u({},l),{},{current_url:window.location.href},t)})},q=function(t){return v({eventName:a.C4.EXT_HOVER,properties:u(u(u({},l),h),{},{current_url:window.location.href},t)})},Y=function(t){return v({eventName:a.C4.EXT_ERROR_OCCURRED,properties:t})},Q=function(t){return v({eventName:a.C4.SYSTEM_LOGOUT,properties:t})}},95346:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/user.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{xD:()=>d,kS:()=>h,Vz:()=>p,ol:()=>v,w2:()=>y,MY:()=>m,G3:()=>g});n(59713),n(50308);var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(49485),u=n(4536),s=n(28392);function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}n(88213),n(1019);var f=n(62620);n(45887),n(45786);function p(t){return{type:f.idx,payload:{token:t}}}function h(t){var e={cc:t};return{type:f.Nve,payload:e}}function d(t){var e=t.cc;return function(t){return browser.cookies.remove({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN}).then((function(){return t({type:f.vgW})})).catch((function(){return t({type:f.vgW})}))}}function v(t){var e=t.cc,n=t.accessToken;return function(t){return browser.cookies.set({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN,value:n,expirationDate:parseInt(Date.now()/1e3,10)+f.Jyn,secure:!0}).then((function(){t({type:f.tz7}),t(function(){var t=a()(l().mark((function t(e,n){var r,o,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),o=(0,c.q)(r),i=(0,u.vo)(o),a={url:i},s.Z.get(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})).catch((function(){return t({type:f.xMg})}))}}function m(){return{type:f.kfr}}function g(t){return{type:f.kpX,cc:t}}function y(){return{type:f.S0K}}},45633:
/*!*****************************************!*\
  !*** ./src/shared/components/Button.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{Z:()=>h});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! prop-types */45697),a=n(/*! react */67294),c=n(/*! styled-components */23588),u=n(/*! ../styledComponents */20136);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=(0,c.ZP)(u.xv).withConfig({displayName:"Button__Container",componentId:"y4fcp8-0"})(["&&{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:6px 16px;background:#ff3407;border-radius:16px;color:#ffffff;cursor:pointer;font-weight:bold;font-size:14px;line-height:20px;width:104px;box-sizing:border-box;}"]),p=function(t){var e=t.text,n=t.className,r=t.customStyle,o=t.handleButtonClick;return a.createElement(f,{className:n,style:l({},r),onClick:o},e)};p.propTypes={text:i.string.isRequired,className:i.string.isRequired,customStyle:i.object,handleButtonClick:i.func.isRequired},p.defaultProps={className:"",customStyle:null};const h=p},94588:
/*!***************************************************************!*\
  !*** ./src/shared/components/CashbackTnCSection/constants.js ***!
  \***************************************************************/(t,e,n)=>{n.d(e,{G:()=>r});var r={CASHBACK_EXCLUSIONS:"CASHBACK_EXCLUSIONS",SPECIAL_NOTES:"SPECIAL_NOTES",TERM_AND_CONDITIONS:"TERM_AND_CONDITIONS"}},8018:
/*!***********************************************************!*\
  !*** ./src/shared/components/CashbackTnCSection/index.js ***!
  \***********************************************************/(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(/*! lodash/isEmpty */41609),o=n.n(r),i=n(/*! prop-types */45697),a=n.n(i),c=n(/*! react */67294),u=n(/*! styled-components */23588),s=n(/*! ./constants */94588),l=u.ZP.div.withConfig({displayName:"CashbackTnCSection__Container",componentId:"sc-1yhsbh6-0"})(["&&{margin-bottom:12px;}"]),f=u.ZP.h3.withConfig({displayName:"CashbackTnCSection__CashbackTnCTitle",componentId:"sc-1yhsbh6-1"})(["&&{font-weight:700;font-size:14px;line-height:16px;color:#232938;margin-top:0;margin-bottom:12px;}"]),p=u.ZP.div.withConfig({displayName:"CashbackTnCSection__ContentContainer",componentId:"sc-1yhsbh6-2"})(["&&{font-size:12px;text-align:left;color:#40485a;}&& ul{list-style-type:disc !important;margin:0 0 20px 20px !important;padding:0px;}&& ul > li{list-style-type:disc !important;}&& ul:last-child{margin:0 0 0 20px !important;}&& p{margin-bottom:0;}&& h3{font-weight:normal;margin:0;}"]),h=function(t){var e=t.tnc,n=t.includeList,r=t.isExpand,i=e.tncSections;if(o()(i))return null;if(!r)return null;var a=new Set(n);return i.filter((function(t){return a.has(t.key)})).map((function(t){var e=t.title,n=t.content,r=t.key;return c.createElement(l,{key:r},c.createElement(f,null,e),c.createElement(p,{dangerouslySetInnerHTML:{__html:n}}))}))};h.defaultProps={tnc:{tncSections:[]},includeList:[s.G.CASHBACK_EXCLUSIONS,s.G.SPECIAL_NOTES,s.G.TERM_AND_CONDITIONS],isExpand:!0},h.propTypes={tnc:a().shape({tncSections:a().array}),includeList:a().array,isExpand:a().bool};const d=h},78504:
/*!**********************************************!*\
  !*** ./src/shared/components/CloseButton.js ***!
  \**********************************************/(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=n(/*! styled-components */23588),a=n(/*! ../../assets/shared/close1.png */19683),c=i.ZP.div.withConfig({displayName:"CloseButton__Close",componentId:"sc-1vaeuwh-0"})(["&&{position:absolute;width:10px;height:10px;top:6px;right:6px;background-image:url(",");background-size:contain;background-repeat:no-repeat;cursor:pointer;transition:opacity 300ms ease-in-out;}&&:hover{opacity:0.8;}"],a),u=function(t){var e=t.className,n=t.onClick;return o.createElement(c,{className:e,onClick:n})};u.defaultProps={className:""},u.propTypes={className:r.string,onClick:r.func.isRequired};const s=u},79896:
/*!****************************************************************************!*\
  !*** ./src/shared/components/ConfirmationNotifier/ActivateButton/index.js ***!
  \****************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(/*! prop-types */45697),o=n.n(r),i=n(/*! react */67294),a=n(/*! ../../../styledComponents */20136),c=function(t){var e=t.handleActivate,n=t.children;return i.createElement(a.zx,{cursor:"pointer",height:"40px",width:"286px",color:"#fff",borderRadius:"30px",backgroundColor:"#ff3407",onClick:e,margin:"0px 0px 12px"},i.createElement(a.AE,{flex:"1"},n))};c.propTypes={handleActivate:o().func,children:o().element.isRequired},c.defaultProps={handleActivate:function(){}};const u=c},90809:
/*!*************************************************************************!*\
  !*** ./src/shared/components/ConfirmationNotifier/ConfirmText/index.js ***!
  \*************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(/*! prop-types */45697),o=n.n(r),i=n(/*! react */67294),a=n(/*! ../../../styledComponents */20136),c=function(t){var e=t.merchantName,n=t.trackingTime,r=t.customizedTitle;return i.createElement(a.AE,{flex:"1"},i.createElement(a.xv,{height:"16px",fontSize:"14px",fontWeight:"bold"},r||browser.i18n.getMessage("notifier_place_order_successfully_title")),i.createElement(i.Fragment,null,i.createElement(a.NH,{height:"8px"}),i.createElement(a.xv,{width:n?"268px":"288px",height:"28px",fontSize:"12px",color:"#5a6274"},n?browser.i18n.getMessage("notifier_place_order_successfully_subline",[e,n.toLowerCase()]):browser.i18n.getMessage("notifier_place_order_successfully_subline_no_track_time"))))};c.propTypes={merchantName:o().string,trackingTime:o().string,customizedTitle:o().string},c.defaultProps={merchantName:"",trackingTime:"",customizedTitle:""};const u=c},95163:
/*!************************************************************************!*\
  !*** ./src/shared/components/EventTracking/notifierTrackingWrapper.js ***!
  \************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>b});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/classCallCheck */34575),u=n.n(c),s=n(/*! @babel/runtime/helpers/inherits */2205),l=n.n(s),f=n(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),p=n.n(f),h=n(/*! @babel/runtime/helpers/getPrototypeOf */29754),d=n.n(h),v=n(/*! ../../actionCreators/trackingV2 */1019);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}const b=function(t){return function(t){l()(n,t);var e=y(n);function n(){var t;u()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).getType=function(){return t.props.activated?"activated_notifier":t.props.loggedIn?"cashback_notifier":"login_notifier"},t.getFeatureName=function(){return t.props.loggedIn?"cashback_activate":"login_to_activate"},t.getMerchantPropertiesForTracking=function(){var e=t.props.merchant,n=e.merchantId,r=e.name,o=e.cashback;return{merchant_id:n||null,merchant_name:r||null,is_affiliate_merchant:!!parseFloat(null==o?void 0:o.amount)||!1}},t.trackExtClickNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getMerchantPropertiesForTracking(),r=t.props.tabId;t.props.dispatch((0,v.trackExtClickNotifier)(g(g({feature_type:"cta",tab_id:r,current_url:window.location.href},n),e)))},t.trackClickActivateBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(g({screen_name:t.getType(),feature_name:t.getFeatureName()},e))},t.trackClickLoginToActivateBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(g({screen_name:t.getType(),feature_name:t.getFeatureName()},e))},t.trackClickCloseBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(g({screen_name:t.getType(),feature_name:"close"},e))},t.trackExtViewNotifierEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getMerchantPropertiesForTracking(),r=t.props.tabId;t.props.dispatch((0,v.trackExtViewNotifier)(g(g({screen_name:t.getType(),current_url:window.location.href,tab_id:r},n),e)))},t.trackExtInteractNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getMerchantPropertiesForTracking();t.props.dispatch((0,v.trackExtInteractNotifier)(g(g({screen_name:t.getType(),current_url:window.location.href,feature_type:"cta"},n),e)))},t.trackExtHoverNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getMerchantPropertiesForTracking();t.props.dispatch((0,v.trackExtHoverNotifier)(g(g({screen_name:t.getType(),current_url:window.location.href,feature_type:"cta"},n),e)))},t}return a()(n)}(t)}},31732:
/*!**************************************************************************!*\
  !*** ./src/shared/components/Experiment/MerchantOffExperimentWrapper.js ***!
  \**************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(/*! react-redux */65858),o=n(/*! ../../selectors/activation */83582),i=n(/*! ../../selectors/experiments */6688);const a=function(t){var e=t.children,n=t.merchant,a=t.disableInAllStatus,c=void 0!==a&&a,u=(0,r.v9)((function(t){return(0,i.Zb)(t,{merchantId:null==n?void 0:n.merchantId})})),s=(0,r.v9)((function(t){return(0,o.GM)(t,{merchant:n})||(0,o.tm)(t,{merchant:n})}));return u&&c||u&&!s?null:e}},92319:
/*!**************************************************!*\
  !*** ./src/shared/components/Icons/CrossIcon.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=function(t){var e=t.className;return o.createElement("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},o.createElement("path",{d:"M7.83263 0.97549C8.05579 0.752333 8.05579 0.390524 7.83263 0.167368C7.60948 -0.0557892 7.24767 -0.0557892 7.02451 0.167368L4 3.19188L0.97549 0.167368C0.752333 -0.0557892 0.390524 -0.0557892 0.167368 0.167368C-0.0557892 0.390524 -0.0557892 0.752333 0.167368 0.97549L3.19188 4L0.167368 7.02451C-0.0557892 7.24767 -0.0557892 7.60948 0.167368 7.83263C0.390524 8.05579 0.752333 8.05579 0.97549 7.83263L4 4.80812L7.02451 7.83263C7.24767 8.05579 7.60948 8.05579 7.83263 7.83263C8.05579 7.60948 8.05579 7.24767 7.83263 7.02451L4.80812 4L7.83263 0.97549Z",fill:"#898D9A"}))};i.propTypes={className:r.string},i.defaultProps={className:""};const a=o.memo(i)},289:
/*!*****************************************************!*\
  !*** ./src/shared/components/Icons/ShopbackIcon.js ***!
  \*****************************************************/(t,e,n)=>{n.d(e,{A:()=>o,Z:()=>i});var r=n(/*! react */67294),o=function(){return r.createElement("svg",{width:"92",height:"28",viewBox:"0 0 92 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.91816 15.7066C7.91816 17.7066 6.17122 18.9061 4.10536 18.9061C3.17216 18.9061 2.33208 18.6793 1.58513 18.2391C0.970835 17.859 0.525872 17.3576 0.248355 16.7339C0.239889 16.716 0.0997178 16.4131 0 15.971L2.52117 15.3181L2.52399 15.3294C2.80245 15.9936 3.41298 16.399 4.1317 16.399C4.75823 16.399 5.06491 16.2127 5.06491 15.8261C5.06491 15.4658 4.71872 15.2927 3.91816 15.0792L2.87864 14.7856C1.39887 14.3586 0.585139 13.4253 0.585139 11.986C0.544688 10.2259 2.29163 9.06599 4.1317 9.09327C4.83819 9.09327 5.492 9.26636 6.11853 9.60032C6.53622 9.82234 6.86924 10.1234 7.11289 10.4959C7.30197 10.7687 7.46378 11.1761 7.55315 11.5523L5.24553 12.1459V12.1431L5.23895 12.1459C5.05268 11.6793 4.70555 11.4526 4.19944 11.4526C3.78646 11.4526 3.43932 11.5994 3.43932 11.9192C3.43932 12.2391 3.78551 12.399 4.47883 12.5994L5.47883 12.8797C7.10536 13.3332 7.9191 14.2795 7.9191 15.7057L7.91816 15.7066ZM18.3979 14.0001C18.3575 16.7066 20.5174 18.9597 23.4111 18.9061C26.3039 18.9597 28.4638 16.7066 28.4243 14.0001C28.4638 11.2936 26.3048 9.04059 23.4111 9.09421C20.5184 9.04059 18.3584 11.2936 18.3979 14.0001ZM25.571 14.0001C25.571 15.24 24.7846 16.2664 23.4111 16.2664C22.0376 16.2664 21.2512 15.24 21.2512 14.0001C21.2512 12.7602 22.0376 11.7339 23.4111 11.7339C24.7846 11.7339 25.571 12.7602 25.571 14.0001ZM29.5447 9.31058V18.6436H32.3443V16.0171H34.2107C36.2107 16.0171 37.5174 14.6041 37.5174 12.6436C37.5174 10.6831 36.2107 9.31058 34.2107 9.31058H29.5447ZM34.6642 12.6803C34.6642 13.1601 34.3707 13.5072 33.7178 13.5072H32.3443V11.8675H33.7178C34.3707 11.8675 34.6642 12.2137 34.6642 12.6812V12.6803ZM14.523 9.31152V12.8647L11.5842 13.6257V9.31152H8.78457V18.6445H11.5842V16.0942L14.523 15.3332V18.6445H17.3227V9.31152H14.523ZM38.7874 18.6436H43.5607C45.4675 18.6436 46.6802 17.51 46.6802 15.9503C46.6802 14.6304 45.9332 13.8571 45.08 13.5373C45.6134 13.1102 45.8796 12.511 45.8796 11.7508C45.8796 10.3379 44.6802 9.31152 42.8532 9.31152H38.7865V18.6445L38.7874 18.6436ZM41.587 12.8703V11.59H42.4534C42.9332 11.59 43.1731 11.8703 43.1731 12.2297C43.1731 12.589 42.9332 12.8694 42.4534 12.8694H41.587V12.8703ZM41.587 16.3501V15.0302H43.0273C43.5738 15.0302 43.8805 15.2965 43.8805 15.6831C43.8805 16.1234 43.6002 16.3501 43.0273 16.3501H41.587ZM56.5061 13.9766C56.4657 16.6831 58.6256 18.9362 61.5193 18.8825C63.5325 18.8825 65.1195 17.9362 65.9586 16.3491L63.412 15.1224C63.0254 15.8694 62.3857 16.2419 61.5193 16.2419C60.159 16.2419 59.3594 15.1751 59.3594 13.9757C59.3594 12.7762 60.159 11.7094 61.5193 11.7094C62.3857 11.7094 63.0254 12.0829 63.412 12.8289L65.9586 11.6022C65.1185 10.0152 63.5325 9.06881 61.5193 9.06881C58.6265 9.01519 56.4666 11.2682 56.5061 13.9747V13.9766ZM66.8523 18.6427H69.6519V14.7762H70.5456L72.5851 18.6427H75.8645L73.0649 13.6163L75.6115 9.30964H72.492L69.6519 14.2024V9.30964H66.8523V18.6427ZM56.8391 18.6427H53.8796L53.3396 17.1629L49.9671 18.0359L49.746 18.6417H46.7865L50.6529 9.3087H52.9727L56.8391 18.6417V18.6427ZM52.5099 14.9098L51.8128 13.1102L50.9614 15.3115L52.5099 14.9108V14.9098Z",fill:"white"}),r.createElement("path",{d:"M89.5879 15.3998H89.0903L89.9764 14.6689C90.5917 14.1618 90.8598 13.3274 90.6049 12.5729C90.3405 11.7902 89.6321 11.2822 88.8099 11.2822H80.951C80.8033 11.2822 80.7309 11.1035 80.8353 11L86.0508 5.87112C86.1147 5.80809 86.2201 5.87959 86.1843 5.96237L84.3687 10.2117H86.6971L91.0602 0H88.968L78.6161 10.1787C78.0451 10.7404 77.8871 11.5917 78.2257 12.3246C78.5409 13.0066 79.2464 13.4233 79.9972 13.4233H87.6622C87.8165 13.4233 87.8861 13.6171 87.7667 13.715L85.9849 15.1844C85.7206 15.4026 85.5127 15.6802 85.3781 15.9953L84.7177 17.5409H88.4882C88.6425 17.5409 88.7121 17.7347 88.5926 17.8326L80.9021 24.1656C80.8353 24.2201 80.7403 24.1486 80.7742 24.0696L83.5635 17.5409L83.8015 16.9831L84.8654 14.4939H82.5371L76.7667 28H79.6152L90.84 18.7564C91.475 18.2333 91.6989 17.3904 91.4054 16.619C91.1223 15.8739 90.3838 15.3998 89.587 15.3998H89.5879Z",fill:"#FF3407"}))};const i=function(){return r.createElement("svg",{width:"92",height:"28",viewBox:"0 0 92 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.91816 15.7066C7.91816 17.7066 6.17122 18.9061 4.10536 18.9061C3.17216 18.9061 2.33208 18.6793 1.58513 18.2391C0.970835 17.859 0.525872 17.3576 0.248355 16.7339C0.239889 16.716 0.0997178 16.4131 0 15.971L2.52117 15.3181L2.52399 15.3294C2.80245 15.9936 3.41298 16.399 4.1317 16.399C4.75823 16.399 5.06491 16.2127 5.06491 15.8261C5.06491 15.4658 4.71872 15.2927 3.91816 15.0792L2.87864 14.7856C1.39887 14.3586 0.585139 13.4253 0.585139 11.986C0.544688 10.2259 2.29163 9.06599 4.1317 9.09327C4.83819 9.09327 5.492 9.26636 6.11853 9.60032C6.53622 9.82234 6.86924 10.1234 7.11289 10.4959C7.30197 10.7687 7.46378 11.1761 7.55315 11.5523L5.24553 12.1459V12.1431L5.23895 12.1459C5.05268 11.6793 4.70555 11.4526 4.19944 11.4526C3.78646 11.4526 3.43932 11.5994 3.43932 11.9192C3.43932 12.2391 3.78551 12.399 4.47883 12.5994L5.47883 12.8797C7.10536 13.3332 7.9191 14.2795 7.9191 15.7057L7.91816 15.7066ZM18.3979 14.0001C18.3575 16.7066 20.5174 18.9597 23.4111 18.9061C26.3039 18.9597 28.4638 16.7066 28.4243 14.0001C28.4638 11.2936 26.3048 9.04059 23.4111 9.09421C20.5184 9.04059 18.3584 11.2936 18.3979 14.0001ZM25.571 14.0001C25.571 15.24 24.7846 16.2664 23.4111 16.2664C22.0376 16.2664 21.2512 15.24 21.2512 14.0001C21.2512 12.7602 22.0376 11.7339 23.4111 11.7339C24.7846 11.7339 25.571 12.7602 25.571 14.0001ZM29.5447 9.31058V18.6436H32.3443V16.0171H34.2107C36.2107 16.0171 37.5174 14.6041 37.5174 12.6436C37.5174 10.6831 36.2107 9.31058 34.2107 9.31058H29.5447ZM34.6642 12.6803C34.6642 13.1601 34.3707 13.5072 33.7178 13.5072H32.3443V11.8675H33.7178C34.3707 11.8675 34.6642 12.2137 34.6642 12.6812V12.6803ZM14.523 9.31152V12.8647L11.5842 13.6257V9.31152H8.78457V18.6445H11.5842V16.0942L14.523 15.3332V18.6445H17.3227V9.31152H14.523ZM38.7874 18.6436H43.5607C45.4675 18.6436 46.6802 17.51 46.6802 15.9503C46.6802 14.6304 45.9332 13.8571 45.08 13.5373C45.6134 13.1102 45.8796 12.511 45.8796 11.7508C45.8796 10.3379 44.6802 9.31152 42.8532 9.31152H38.7865V18.6445L38.7874 18.6436ZM41.587 12.8703V11.59H42.4534C42.9332 11.59 43.1731 11.8703 43.1731 12.2297C43.1731 12.589 42.9332 12.8694 42.4534 12.8694H41.587V12.8703ZM41.587 16.3501V15.0302H43.0273C43.5738 15.0302 43.8805 15.2965 43.8805 15.6831C43.8805 16.1234 43.6002 16.3501 43.0273 16.3501H41.587ZM56.5061 13.9766C56.4657 16.6831 58.6256 18.9362 61.5193 18.8825C63.5325 18.8825 65.1195 17.9362 65.9586 16.3491L63.412 15.1224C63.0254 15.8694 62.3857 16.2419 61.5193 16.2419C60.159 16.2419 59.3594 15.1751 59.3594 13.9757C59.3594 12.7762 60.159 11.7094 61.5193 11.7094C62.3857 11.7094 63.0254 12.0829 63.412 12.8289L65.9586 11.6022C65.1185 10.0152 63.5325 9.06881 61.5193 9.06881C58.6265 9.01519 56.4666 11.2682 56.5061 13.9747V13.9766ZM66.8523 18.6427H69.6519V14.7762H70.5456L72.5851 18.6427H75.8645L73.0649 13.6163L75.6115 9.30964H72.492L69.6519 14.2024V9.30964H66.8523V18.6427ZM56.8391 18.6427H53.8796L53.3396 17.1629L49.9671 18.0359L49.746 18.6417H46.7865L50.6529 9.3087H52.9727L56.8391 18.6417V18.6427ZM52.5099 14.9098L51.8128 13.1102L50.9614 15.3115L52.5099 14.9108V14.9098Z",fill:"black"}),r.createElement("path",{d:"M89.588 15.3998H89.0903L89.9765 14.6689C90.5918 14.1618 90.8599 13.3274 90.6049 12.5729C90.3406 11.7902 89.6322 11.2822 88.81 11.2822H80.9511C80.8034 11.2822 80.731 11.1035 80.8354 11L86.0508 5.87112C86.1148 5.80809 86.2202 5.87959 86.1844 5.96237L84.3688 10.2117H86.6971L91.0602 0H88.968L78.6162 10.1787C78.0452 10.7404 77.8871 11.5917 78.2258 12.3246C78.5409 13.0066 79.2465 13.4233 79.9972 13.4233H87.6623C87.8166 13.4233 87.8862 13.6171 87.7667 13.715L85.985 15.1844C85.7206 15.4026 85.5127 15.6802 85.3782 15.9953L84.7178 17.5409H88.4883C88.6425 17.5409 88.7122 17.7347 88.5927 17.8326L80.9022 24.1656C80.8354 24.2201 80.7404 24.1486 80.7742 24.0696L83.5635 17.5409L83.8015 16.9831L84.8655 14.4939H82.5372L76.7667 28H79.6153L90.8401 18.7564C91.4751 18.2333 91.699 17.3904 91.4055 16.619C91.1223 15.8739 90.3838 15.3998 89.587 15.3998H89.588Z",fill:"#ff3407"}))}},49043:
/*!**************************************************************!*\
  !*** ./src/shared/components/Skeletons/TnCSkeleton/index.js ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(/*! react */67294),o=n(/*! styled-components */23588),i=n(/*! ../../../styledComponents */20136),a=n(/*! ../../../styledComponents/Skeleton */64616),c=(0,o.ZP)(i.z4).withConfig({displayName:"TnCSkeleton__Container",componentId:"sc-1a108al-0"})(["&&{padding:",";}"],"12px");const u=r.forwardRef((function(t,e){return r.createElement(c,{ref:e},r.createElement(a.O,{width:"100px",height:"16px"}),r.createElement(i.NH,{height:"14px"}),r.createElement(a.O,{width:"200px",height:"14px"}),r.createElement(i.NH,{height:"12px"}),r.createElement(a.O,{width:"50px",height:"12px"}),r.createElement(i.NH,{height:"8px"}),r.createElement(a.O,{width:"100%",height:"75px"}),r.createElement(i.NH,{height:"12px"}),r.createElement(a.O,{width:"50px",height:"12px"}),r.createElement(i.NH,{height:"8px"}),r.createElement(a.O,{width:"100%",height:"75px"}))}))},85352:
/*!************************************************!*\
  !*** ./src/shared/components/Spinner/index.js ***!
  \************************************************/(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=n(/*! styled-components */23588),a=(0,i.F4)(["100%{transform:rotate(360deg);}"]),c=(0,i.F4)(["0%{stroke-dasharray:1,150;stroke-dashoffset:0;}50%{stroke-dasharray:90,150;stroke-dashoffset:-35;}100%{stroke-dasharray:90,150;stroke-dashoffset:-124;}"]),u=i.ZP.svg.attrs((function(t){var e=t.size;return{viewBox:"0 0 ".concat(e," ").concat(e)}})).withConfig({displayName:"Spinner__StyledSpinner",componentId:"iwbj2y-0"})(["&&{width:","px;height:","px;margin:auto !important;animation:"," 2s linear infinite;will-change:transform;position:relative !important;}&& > circle{stroke:",";stroke-linecap:round;animation:"," 1.5s ease-in-out infinite;will-change:stroke-dasharray,stroke-dashoffset;stroke-width:",";}"],(function(t){return t.size}),(function(t){return t.size}),a,(function(t){return t.color}),c,(function(t){var e=t.strokeWidth;return"".concat(e,"px")})),s=function(t){var e=t.size,n=t.strokeWidth,r=t.color,i=void 0===r?"#ff4e4e":r;return o.createElement(u,{size:e,color:i,strokeWidth:n},o.createElement("circle",{fill:"none",cx:e/2,cy:e/2,r:e/2-n-1,strokeWidth:n}))};s.propTypes={size:r.number,strokeWidth:r.number,color:r.string},s.defaultProps={size:50,strokeWidth:4,color:"#ff4e4e"};const l=s},40367:
/*!**********************************************************!*\
  !*** ./src/shared/components/SubscriptionEntry/index.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(/*! prop-types */45697),o=n.n(r),i=n(/*! react */67294),a=n(/*! react-redux */65858),c=n(/*! styled-components */23588),u=n(/*! ../../selectors/cc */49485),s=n(/*! ../../urls */4536),l=browser.runtime.getURL("images/subscription/subscription_background.png"),f=browser.runtime.getURL("images/subscription/subscription_logo.png"),p=c.ZP.div.withConfig({displayName:"SubscriptionEntry__SubscriptionEntryContainer",componentId:"sc-5o2pyd-0"})(["&&{display:flex;align-items:center;margin-left:",";margin-right:",";width:100%;justify-content:space-between;background-image:url(",");border-radius:",";padding:1rem;cursor:pointer;}"],(function(t){var e=t.isInNotifier;return void 0!==e&&e?"0":"0.3rem"}),(function(t){var e=t.isInNotifier;return void 0!==e&&e?"0":"0.3rem"}),l,(function(t){var e=t.isInNotifier;return void 0!==e&&e?"0":"0.3rem"})),h=c.ZP.div.withConfig({displayName:"SubscriptionEntry__CashbackInfoContainer",componentId:"sc-5o2pyd-1"})(["&&{display:flex;align-items:center;}"]),d=c.ZP.img.withConfig({displayName:"SubscriptionEntry__SubscriptionLogoImage",componentId:"sc-5o2pyd-2"})(["&&{width:32px;height:16px;}"]),v=c.ZP.div.withConfig({displayName:"SubscriptionEntry__SubscriptionCashbackInfo",componentId:"sc-5o2pyd-3"})(["&&{margin-left:5px;font-weight:700;font-size:16px;}"]),m=function(t){var e=t.fill,n=void 0===e?"#404859":e,r=t.svgStyle;return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,stroke:"black"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.88979 0.878141C1.07618 0.707286 1.37837 0.707286 1.56476 0.878141L6 4.94378L10.4352 0.878141C10.6216 0.707286 10.9238 0.707286 11.1102 0.878141C11.2966 1.049 11.2966 1.326 11.1102 1.49686L6.33748 5.87186C6.1511 6.04271 5.8489 6.04271 5.66252 5.87186L0.88979 1.49686C0.703403 1.326 0.703403 1.049 0.88979 0.878141Z",fill:n}))};m.propTypes={fill:o().string,svgStyle:o().object},m.defaultProps={fill:"#404859",svgStyle:{}};var g=function(t){var e=t.cashbackDisplayText,n=t.isInNotifier,r=void 0!==n&&n,o=(0,a.v9)(u.q);return i.createElement(p,{isInNotifier:r,onClick:function(){window.open((0,s.Mv)(o))}},i.createElement(h,null,i.createElement(d,{src:f}),i.createElement(v,null,e)),i.createElement(m,{svgStyle:{height:"100%",width:"12px",display:"inline-block",verticalAlign:"top",transform:"rotate(-90deg)"}}))};g.propTypes={cashbackDisplayText:o().string.isRequired,isInNotifier:o().bool},g.defaultProps={isInNotifier:!1};const y=g},33646:
/*!***********************************************************************!*\
  !*** ./src/shared/components/TransitionNotifier/index.js + 1 modules ***!
  \***********************************************************************/(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(45697),o=n(67294),i=n(23588),a=n(66007),c=(a.ZP.UNMOUNTED,a.ZP.EXITED,a.ZP.ENTERING,a.ZP.ENTERED,a.ZP.EXITING,function(t){var e=t.children,n=t.isOpen,r=t.timeout,i=t.mountOnEnter,c=t.unmountOnExit,u=t.onExited;return o.createElement(a.ZP,{in:n,timeout:r,onEnter:function(t){return t&&t.scrollTop},onExited:u,mountOnEnter:i,unmountOnExit:c,appear:!0},(function(t){return e(t)}))});c.propTypes={children:r.func.isRequired,isOpen:r.bool.isRequired,timeout:r.number,mountOnEnter:r.bool,unmountOnExit:r.bool,onExited:r.func},c.defaultProps={timeout:500,mountOnEnter:!0,unmountOnExit:!0,onExited:void 0};const u=c;var s=i.ZP.div.withConfig({displayName:"TransitionNotifier__Wrapper",componentId:"sc-1nvi1ks-0"})(["&&{position:fixed;top:10px;right:10px;display:flex;border-radius:4px;box-shadow:0px 6px 8px 0px rgba(0,0,0,0.3);opacity:0;transition:opacity 0.5s ease-in-out;z-index:2147483647;}"]),l=function(t){var e=t.children,n=t.isOpen,r=t.Container,i=t.className,a=t.defaultStyle,c=t.transitionStyle,s=t.onExited;return o.createElement(u,{isOpen:n,onExited:s},(function(t){return o.createElement(r,{className:i,style:Object.assign({},a,c[t])},e)}))};l.propTypes={children:r.node.isRequired,isOpen:r.bool.isRequired,Container:r.elementType,className:r.string,defaultStyle:r.object,transitionStyle:r.object,onExited:r.func},l.defaultProps={Container:s,className:"",defaultStyle:{},transitionStyle:{entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},onExited:void 0};const f=l},46464:
/*!*************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/index.js ***!
  \*************************************************************************/(t,e,n)=>{n.d(e,{U4:()=>r.U4,ZX:()=>r.ZX});var r=n(/*! ./merchants */57497);n(/*! ./tabs */67930)},57497:
/*!*****************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/merchants.js ***!
  \*****************************************************************************/(t,e,n)=>{n.d(e,{LV:()=>o,U4:()=>i,ZX:()=>a,MW:()=>c});var r=n(/*! ../../../constants/merchants */91227),o=function(){return{type:r.nz}},i=function(t){return{type:r.bI,payload:t}},a=function(t){return{type:r.Y4,payload:t}},c=function(){return{type:r.s1}}},67930:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/tabs.js ***!
  \************************************************************************/(t,e,n)=>{n.d(e,{g:()=>o});var r=n(/*! ../../../constants/tabs */18855),o=function(t){var e=t.openUrl,n=t.active,o=t.autoClose,i=void 0===o||o;return{type:r.Th,openUrl:e,active:n,autoClose:i}}},61571:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchMerchantBanner/index.js + 4 modules ***!
  \************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>z});var r=n(28655),o=n.n(r),i=n(14293),a=n.n(i),c=n(45697),u=n(67294),s=n(65858),l=n(23588),f=n(67154),p=n.n(f),h=n(63038),d=n.n(h),v=n(6479),m=n.n(v),g=["src","alt","loading","fallback"],y=function(t){var e=t.src,n=t.alt,r=t.loading,o=t.fallback,i=m()(t,g),a=(0,u.useState)(!0),c=d()(a,2),s=c[0],l=c[1],f=(0,u.useState)(!1),h=d()(f,2),v=h[0],y=h[1];return u.createElement(u.Fragment,null,s&&r,v?o:u.createElement("img",p()({src:e,alt:n,onError:function(){return y(!0)},onLoad:function(){return l(!1)}},i)))};y.propTypes={src:c.string.isRequired,alt:c.string,fallback:c.node,loading:c.node},y.defaultProps={alt:"",fallback:null,loading:null};const b=u.memo(y);var w=n(85352),E=n(40062),_=n(45786),x=n(59713),O=n.n(x);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t){var e=t.svgStyle,n=t.pathStyle;return u.createElement("svg",{width:"15",height:"15",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:C({},e)},u.createElement("path",{d:"M14.162 2.50451C12.6 0.942508 10.0673 0.942508 8.50535 2.50451C8.31268 2.69717 8.14535 2.90451 8.00068 3.12251C7.85601 2.90451 7.68801 2.69651 7.49601 2.50451C5.93401 0.942508 3.40135 0.942508 1.83935 2.50451C0.277347 4.06651 0.277347 6.59917 1.83935 8.16117L8.00001 14.3232L14.162 8.16117C15.724 6.59917 15.724 4.06651 14.162 2.50451Z",style:C({},n),strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))}T.propTypes={svgStyle:c.object,pathStyle:c.object},T.defaultProps={svgStyle:{},pathStyle:{fill:"#404859",stroke:"#404859"}};const P=T;var I=n(43126),N=n(90830),A=n(20136),L=(0,l.ZP)(A.xv).withConfig({displayName:"SimpleTippyText__TextContainer",componentId:"sc-5fksx3-0"})(["&&{font-size:14px;font-weight:400;color:#ffffff;text-align:",";line-height:20px !important;padding:12px !important;background:#212836;border-radius:12px;box-sizing:border-box;max-width:280px !important;}"],(function(t){return t.textAlign||"center"})),S=l.ZP.div.withConfig({displayName:"SimpleTippyText__Arrow",componentId:"sc-5fksx3-1"})(["&&{width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #212836;top:-8px;}"]);function j(t){var e=t.content,n=t.children,r=t.textAlign,o=t.zIndex,i=t.placement,a=t.appendTo,c=t.visible,s=t.onTrigger,l=(0,u.useState)(null),f=d()(l,2),h=f[0],v=f[1],m=(0,u.useCallback)((function(t){return u.createElement(L,p()({},t,{textAlign:r}),e,u.createElement(S,{ref:v}))}),[e,r]);return c?u.createElement(I.ZP,{appendTo:a,placement:i,zIndex:o,offset:[-15,10],render:m,popperOptions:{modifiers:[{name:"arrow",options:{element:h}}]},onTrigger:s},n):n}j.propTypes={content:c.string.isRequired,children:c.node,textAlign:c.string,zIndex:c.number,placement:c.string,appendTo:(0,c.oneOfType)([c.string,c.func]),visible:c.bool,onTrigger:c.func},j.defaultProps={children:null,textAlign:"center",zIndex:N.Z,placement:"top",appendTo:"parent",visible:!0,onTrigger:void 0};const R=j;var F,M=(0,n(22222).P1)((function(t,e){return e.merchant}),(function(t){return null==t?void 0:t.isFollowed})),D=(0,l.vJ)(F||(F=o()(["\n  #ShopBack-WatchMerchantBanner,\n  #ShopBack-WatchMerchantBanner * {\n    box-sizing: border-box !important;\n  }\n  section#ShopBack-WatchMerchantBanner {\n    margin: 0;\n    border-bottom: 1px solid #efeff1;\n  }\n"]))),U=l.ZP.section.withConfig({displayName:"WatchMerchantBanner__Container",componentId:"sc-1mdlqa9-0"})(["&&{display:flex;align-items:center;padding-bottom:12px !important;width:100%;box-sizing:border-box;border-bottom:'1px solid #f7f7f8';background:#ffffff;}"]),B=l.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerTitle",componentId:"sc-1mdlqa9-1"})(["&&{flex:1;height:24px;font-size:12px;line-height:20px !important;font-weight:600;}"]),H=(0,l.ZP)(b).withConfig({displayName:"WatchMerchantBanner__ContainerTitleImg",componentId:"sc-1mdlqa9-2"})(["&&{width:auto;max-height:100%;object-fit:contain;object-position:left;display:inline-block;vertical-align:top;position:relative;top:50%;transform:translateY(-50%);}"]),Z=l.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerButton",componentId:"sc-1mdlqa9-3"})(["&&{flex:0 1 auto;}"]),G=l.ZP.button.withConfig({displayName:"WatchMerchantBanner__FollowButton",componentId:"sc-1mdlqa9-4"})(["&&{padding:4px 12px !important;background:#f1f6fe !important;border-radius:12px !important;color:#266bd9 !important;box-shadow:none !important;border:none !important;display:flex;align-items:center;cursor:pointer;user-select:none;box-sizing:border-box;min-width:76px;display:flex;justify-content:center;position:relative !important;}&&:hover,&&:focus{border:none !important;}"]),V=l.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonIcon",componentId:"sc-1mdlqa9-5"})(["&&{width:12px !important;height:12px !important;margin-right:5px !important;position:relative !important;}"]),X=l.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonText",componentId:"sc-1mdlqa9-6"})(["&&{font-weight:700 !important;font-size:12px !important;line-height:16px !important;}"]);function z(t){var e=t.merchant,n=t.onFollowButtonClick,r=void 0===n?void 0:n,o=t.onFollowButtonHover,i=void 0===o?void 0:o,c=t.style,l=void 0===c?{}:c,f=(0,s.v9)(_.jl),p=(0,s.v9)((function(t){return M(t,{merchant:e})})),h=e.name||"merchant-logo-image",d=(0,s.v9)(E.OU),v=(null==e?void 0:e.logoUrl)||(null==e?void 0:e.logoUrl[e]);if(!e&&!v)return null;var m=browser.i18n.getMessage("follow_merchant_button_tooltip",[(null==e?void 0:e.name)||""]);return u.createElement(U,{id:"ShopBack-WatchMerchantBanner",style:l},u.createElement(D,null),u.createElement(B,null,u.createElement(H,{src:v,alt:h})),f&&!a()(e)&&d?u.createElement(Z,null,e.isLoading?u.createElement(G,null,u.createElement(w.Z,{size:16,color:"#266BD9",strokeWidth:2})):u.createElement(R,{placement:"bottom",textAlign:"left",content:m,onTrigger:i},u.createElement(G,{onClick:r},u.createElement(V,null,u.createElement(P,{svgStyle:{width:12,height:12,verticalAlign:"top"},pathStyle:{fill:p?"#266BD9":"#F1F6FE",stroke:"#266BD9"}})),u.createElement(X,null,p?browser.i18n.getMessage("following"):browser.i18n.getMessage("follow"))))):null)}z.propTypes={merchant:c.object,onFollowButtonClick:c.func,onFollowButtonHover:c.func,style:c.object},z.defaultProps={merchant:null,onFollowButtonClick:void 0,onFollowButtonHover:void 0,style:{},screenName:""}},5272:
/*!***********************************************!*\
  !*** ./src/shared/components/errorWrapper.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(/*! @babel/runtime/helpers/classCallCheck */34575),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/inherits */2205),u=n.n(c),s=n(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),l=n.n(s),f=n(/*! @babel/runtime/helpers/getPrototypeOf */29754),p=n.n(f),h=n(/*! prop-types */45697),d=n.n(h),v=n(/*! react */67294),m=n(/*! shared/constants/runtimeMessageEvent */92671);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(t){u()(n,t);var e=g(n);function n(t){var r;return o()(this,n),(r=e.call(this,t)).state={hasError:!1},r}return a()(n,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0}),browser.runtime.sendMessage({errorMessage:t.message,extra:e,action:m.o3}).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),n}(v.Component);y.propTypes={children:d().any},y.defaultProps={children:null}},41822:
/*!*********************************************!*\
  !*** ./src/shared/constants/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Sk:()=>r,Hn:()=>o,Rq:()=>i,an:()=>a,l8:()=>c,B5:()=>u,Z_:()=>s,nj:()=>l,Wh:()=>f,_t:()=>p,m$:()=>h,CV:()=>d});var r="UI_FETCH_AMS_BRANDS_ACTIVE_TIER",o="OPEN_AMS_NOTIFIER",i="CLOSE_AMS_NOTIFIER",a="SET_AMS_API_IDLE",c="CHANGE_AMS_NOTIFIER_POSITION",u=36e5,s="be_ams_notifier",l="FETCH_AMS_E_OUTLET_SELLER_CASHBACK_SUCCESS",f="ACTIVATED_AMS_E_OUTLET_SELLER",p="DEACTIVATE_ALL_AMS_E_OUTLET_SELLER",h="UPDATE_AMS_E_OUTLET_SELLER_ACTIVATION_STATE",d="ENABLE_AMS_SYNC_USER_FROM_SB_DOMAIN"},90623:
/*!*******************************************!*\
  !*** ./src/shared/constants/apiStatus.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{WI:()=>r,dF:()=>o,UP:()=>i,j5:()=>a});var r="idle",o="loading",i="success",a="error"},53437:
/*!*******************************************!*\
  !*** ./src/shared/constants/countries.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{od:()=>r,zO:()=>o,fR:()=>a,bn:()=>c,ZP:()=>u});var r={AU:"AU",DE:"DE",HK:"HK",ID:"ID",KR:"KR",MY:"MY",PH:"PH",SG:"SG",TH:"TH",TW:"TW",NZ:"NZ"},o=Object.values(r),i=Object.values({VN:"VN"}),a=([].concat(o,i),{AU:"en-AU",DE:"de",HK:"en",ID:"id",MY:"ms-MY",PH:"en",SG:"en-SG",TH:"th",TW:"en",KR:"ko-KR",NZ:"en-NZ"}),c={en:"D MMM YYYY",id:"D MMM YYYY",ko:"YYYY\ub144 M\uc6d4 D\uc77c",th:"DD/MM/YYYY",zh:"YYYY\u5e74M\u6708D\u65e5",ph:"MMM DD, YYYY",de:"dd/mm/YYYY"};const u=r},44340:
/*!******************************************!*\
  !*** ./src/shared/constants/eventsV2.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{C4:()=>a});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a={EXT_INSTALLED:"Extension.Install",EXT_UPDATED:"Extension.Update.Version",EXT_ERROR_OCCURRED:"Extension.Error",EXT_OPEN_MENU:"Extension.Open.Menu",EXT_LOAD_MENU:"Extension.Load.Menu",EXT_VIEW_SCREEN_MENU:"Extension.View.Screen.Menu",EXT_SEARCH_MENU:"Extension.Search.Menu",EXT_CLICK_MENU:"Extension.Click.Menu",EXT_CLICK_CONTENT:"Extension.Click.Content",EXT_CLICK_CONTENT_MENU:"Extension.Click.Content.Menu",EXT_INTERACT_CONTENT_MENU:"Extension.Interact.Content.Menu",EXT_INTERACT_DIALOG_MENU:"Extension.Interact.Dialog.Menu",EXT_INTERACT_CONTENT:"Extension.Interact.Content",EXT_INTERACT_MENU:"Extension.Interact.Menu",EXT_HOVER_MENU:"Extension.Hover.Menu",EXT_HOVER_CONTENT:"Extension.Hover.Content",EXT_CLICK_BOTTOM_NAVIGATION_MENU:"Extension.Click.BottomNavigation.Menu",EXT_EXTRACT_START:"Extension.Extract.Start",EXT_EXTRACT_ORDER:"Extension.Extract.Order",EXT_EXTRACT_CRAWL:"Extension.Extract.Crawl",EXT_EXTRACT_UPLOAD:"Extension.Extract.Upload",EXT_VIEW_MERCHANT_PAGE:"Extension.View.Screen.MerchantPage",EXT_VIEW_INACTIVATED_NOTIFIER:"Extension.Prompt.Notifier",EXT_VIEW_ACTIVATED_NOTIFIER:"Extension.View.ActivatedNotifier",EXT_CLICK_NOTIFIER:"Extension.Click.Notifier",EXT_VIEW_NOTIFIER:"Extension.View.Notifier",EXT_INTERACT_NOTIFIER:"Extension.Interact.Notifier",EXT_HOVER_NOTIFIER:"Extension.Hover.Notifier",EXT_VIEW_SERP:"Extension.View.Screen.SERP",EXT_CLICK_SERP:"Extension.Click.SERP",EXT_HOVER:"Extension.Hover",EXT_DRAG_NOTIFIER:"Extension.Drag.Notifier",EXT_SAVE_PRODUCT_SUCCESS:"Extension.Save.Success",EXT_REMOVE_PRODUCT_SUCCESS:"Extension.Remove.Success",SYSTEM_LOGOUT:"System.Logout"},c=(Object.values(a),"To report version update for product analytics. For more information, please visit"),u="To report ShopBack installs for product analytics. For more information, please visit",s="To report when ShopBack is not performing as expected. For more information, please visit",l="To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",f="To report ShopBack manually opened for product analytics. For more information, please visit",p="To report interactions with ShopBack for product analytics. For more information, please visit",h="To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",d="To report first interaction with ShopBack for product analytics. For more information, please visit";r={},i()(r,a.EXT_UPDATED,c),i()(r,a.EXT_INSTALLED,u),i()(r,a.EXT_OPEN_MENU,f),i()(r,a.EXT_LOAD_MENU,p),i()(r,a.EXT_VIEW_SCREEN_MENU,p),i()(r,a.EXT_SEARCH_MENU,p),i()(r,a.EXT_CLICK_MENU,p),i()(r,a.EXT_CLICK_CONTENT_MENU,p),i()(r,a.EXT_INTERACT_MENU,p),i()(r,a.EXT_CLICK_BOTTOM_NAVIGATION_MENU,p),i()(r,a.EXT_VIEW_MERCHANT_PAGE,h),i()(r,a.EXT_VIEW_INACTIVATED_NOTIFIER,d),i()(r,a.EXT_VIEW_ACTIVATED_NOTIFIER,l),i()(r,a.EXT_CLICK_NOTIFIER,p),i()(r,a.EXT_VIEW_NOTIFIER,d),i()(r,a.EXT_VIEW_SERP,p),i()(r,a.EXT_CLICK_SERP,p),i()(r,a.EXT_DRAG_NOTIFIER,p),i()(r,a.EXT_HOVER,p),i()(r,a.EXT_ERROR_OCCURRED,s)},62620:
/*!***************************************!*\
  !*** ./src/shared/constants/index.js ***!
  \***************************************/(t,e,n)=>{n.d(e,{T$R:()=>a.T$,VKh:()=>a.VK,LaO:()=>a.L,oiE:()=>a.oi,TjR:()=>a.Tj,gz$:()=>a.gz,kLJ:()=>a.kL,DXw:()=>a.DX,HRN:()=>a.HR,yeY:()=>a.ye,Pnd:()=>a.Pn,Mfi:()=>a.Mf,pAz:()=>a.pA,CG1:()=>a.CG,UOx:()=>a.UO,_lE:()=>a._l,iQM:()=>a.iQ,BFS:()=>s,Dwi:()=>l,_lx:()=>f,NkW:()=>p,utx:()=>h,kqf:()=>d,fk6:()=>v,RzL:()=>m,ow$:()=>g,PVA:()=>y,iYg:()=>b,Wgb:()=>w,gkN:()=>E,RR:()=>_,NVs:()=>x,yw4:()=>O,BDI:()=>k,JxL:()=>C,S0K:()=>T,Uor:()=>P,eqT:()=>I,vgW:()=>N,tz7:()=>A,xMg:()=>L,ulW:()=>S,kfr:()=>j,Shd:()=>R,kpX:()=>F,dcW:()=>M,F8F:()=>D,Nve:()=>U,SdJ:()=>c.Sd,idx:()=>B,MTw:()=>H,UFS:()=>Z,ilb:()=>G,tQi:()=>V,Zr5:()=>X,PJX:()=>z,NBx:()=>K,ibe:()=>W,x7b:()=>q,Ai9:()=>Y,MXk:()=>Q,QaO:()=>J,Km:()=>$,bL_:()=>tt,slH:()=>et,Jkz:()=>nt,usU:()=>rt,IKz:()=>ot,OO5:()=>it,q9M:()=>at,aTr:()=>ct,YKA:()=>ut,P1k:()=>st,CER:()=>lt,c$Z:()=>ft,AuS:()=>pt,kQ1:()=>ht,hLt:()=>dt,C22:()=>vt,D1p:()=>mt,G9E:()=>gt,P0H:()=>yt,Jyn:()=>bt,obn:()=>wt,HRF:()=>Et});var r=n(/*! bowser */51206),o=n.n(r),i=n(/*! ../envConfig */5281),a=n(/*! ./utmMedium */76551),c=n(/*! ./tabs */18855),u=o().getParser(navigator.userAgent).getBrowserName(),s=i.Z.ACTIVATED_EXPIRED_MS,l=i.Z.ACTIVATED_EXPIRED_MS_FOR_AMS,f=i.Z.ACTIVATED_EXPIRED_MS_FOR_TAOBAO,p=i.Z.PERMISSION_NOTIFIER_TTL,h="Roboto, Helvetica, arial, sans-serif",d="SF Pro Display, Helvetica, arial, sans-serif",v="ACTIVATE_TAOBAO_PRODUCT_FROM_SB",m="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS",g="UI_FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS",y="CLOSE_ACTIVATED_MERCHANT_NOTIFIER",b="DELETE_EXPIRED_ACTIVATED_MERCHANT",w="UI_VISIT_ACTIVATED_MERCHANT_NOTIFIER",E="OPT_IN_PERMISSION_NOTIFIER_SHOWN",_="UPDATE_USER_PREFERENCES",x="DEACTIVATE_TAOBAO_PRODUCT",O="pwd",k="CLOSE_PERMISSION_NOTIFIER",C="RESET_PERMISSION_NOTIFIER",T="UI_FETCH_USER_INFO_SUCCESS",P="DETECT_SB_REDIRECT_PAGE",I="DEEP_LINK_REDIRECT",N="DROP_COOKIE_DONE",A="SET_COOKIE_DONE",L="SET_COOKIE_FAIL",S="SHOW_DISABLE_NOTIFIER",j="UI_FETCH_USER_INFO",R="LOG_FOR_TRACK",F="UI_SWITCH_USER",M="DE_ACTIVATE",D="mv",U="LOGOUT",B="REFRESH_ACCESS_TOKEN_SUCCESS",H="EVENT_EXT_TRACKING",Z="AU",G=3e5,V=6e4,X=36e5,z=36e5,K="unavailable",W="available",q="activated",Y="fetching",Q="down",J="ACTIVATE_STATE_NOT_ACTIVATED",$="ACTIVATE_STATE_ACTIVATING",tt="ACTIVATE_STATE_ACTIVATED",et="TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED",nt="TAOBAO_OPEN_NOTIFIER",rt="TAOBAO_CLOSE_NOTIFIER",ot="TAOBAO_OPEN_CONFIRMATION_NOTIFIER",it="TAOBAO_CLOSE_CONFIRMATION_NOTIFIER",at="TAOBAO_OPEN_API_DOWN_NOTIFIER",ct="TAOBAO_CLOSE_API_DOWN_NOTIFIER",ut="shopback-taobao-cart",st=2,lt=[".ebates-serp","#gym_serp"],ft="shopback-cashback-notifier",pt="shopback-confirmation-notifier",ht="shopback-popup-search-input-box",dt="shopback-taobao-navigator",vt="shopback-opt-in-permission-notifier",mt=u===o().BROWSER_MAP.firefox,gt=u===o().BROWSER_MAP.chrome,yt=u===o().BROWSER_MAP.edge,bt=31536e3,wt={X_SHOPBACK_LAST_CC:"X-SHOPBACK-LAST-CC",X_SHOPBACK_IRONGATE_ENABLED:"X-SHOPBACK-IRONGATE-ENABLED",X_SHOPBACK_DOMAIN:"X-SHOPBACK-DOMAIN",X_SHOPBACK_EXTENSION_VERSION:"X-SHOPBACK-EXTENSION-VERSION",X_SHOPBACK_CLIENT_USER_AGENT:"X-SHOPBACK-CLIENT-USER-AGENT",X_SHOPBACK_ACCESS_TOKEN:"X-SHOPBACK-ACCESS-TOKEN",X_SHOPBACK_REFRESH_TOKEN:"X-SHOPBACK-REFRESH-TOKEN",X_SHOPBACK_EVENT_NAME:"X-SHOPBACK-TRACKING-EVENT-NAME",X_SHOPBACK_INTERNAL:"X-SHOPBACK-INTERNAL",X_SHOPBACK_AGENT:"X-SHOPBACK-AGENT",X_SHOPBACK_ENVIRONMENT:"X-Shopback-Environment",CONTENT_TYPE:"Content-Type",ACCEPT:"Accept",AUTHORIZATION:"Authorization"},Et={ACCESS_TOKEN:"sbet",REFRESH_TOKEN:"sbrefresh"}},58950:
/*!********************************************!*\
  !*** ./src/shared/constants/lazyModule.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{Rd:()=>r,sw:()=>o,rm:()=>i,zo:()=>a,Zn:()=>c,AU:()=>u,gQ:()=>s,J9:()=>l,Db:()=>f,qr:()=>p,ot:()=>h,HT:()=>d,KP:()=>v,FN:()=>m,Uo:()=>g});var r="aliExpressNavigator",o="aliExpressCartPageIndicator",i="amsNotifier",a="disableNotifier",c="permissionNotifier",u="postInstallTooltip",s="serp",l="notifier",f="taoBaoCheckoutPage",p="taoBaoNavigator",h="taoBaoCartCashbackStatus",d="optInPermissionNotifier",v="settingPanel",m="dogfoodReport",g="voucherNotifier"},91227:
/*!*******************************************!*\
  !*** ./src/shared/constants/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{Xc:()=>r,iG:()=>o,AV:()=>i,a_:()=>a,cs:()=>c,BX:()=>u,FV:()=>s,xH:()=>l,en:()=>f,Se:()=>p,_x:()=>h,Dc:()=>d,A4:()=>v,nz:()=>m,bI:()=>g,Y4:()=>y,s1:()=>b});var r="UI_FETCH_MERCHANTS",o="FETCH_MERCHANTS_LOADING",i="FETCH_MERCHANTS_SUCCESS",a="FETCH_MERCHANTS_ERROR",c="FETCH_MERCHANTS_META_LOADING",u="FETCH_MERCHANTS_META_SUCCESS",s="FETCH_MERCHANTS_META_ERROR",l="CLOSE_MERCHANT_DISABLE_NOTIFIER",f="CLOSE_MERCHANT_NOTIFIER",p="UI_FETCH_TOP_MERCHANTS",h="UI_FETCH_UPSIZED_MERCHANTS",d="UI_FETCH_PERSONAL_RECOMMENDATION_MERCHANTS",v="UI_FETCH_MERCHANT_TNC",m="UI_FETCH_WATCH_MERCHANT_LIST",g="UI_CREATE_WATCH_MERCHANT",y="UI_DELETE_WATCH_MERCHANT",b="UI_FETCH_WATCH_RECOMMENDATION_MERCHANT"},92671:
/*!*****************************************************!*\
  !*** ./src/shared/constants/runtimeMessageEvent.js ***!
  \*****************************************************/(t,e,n)=>{n.d(e,{ue:()=>r,PX:()=>o,Z$:()=>i,Dy:()=>a,BN:()=>c,s0:()=>u,Ax:()=>s,ci:()=>l,G3:()=>f,I9:()=>p,Kb:()=>h,Rt:()=>d,o3:()=>v,wP:()=>m});var r="GET_TAB_OF_CONTENT_SCRIPT",o="OPEN_BROWSER_SETTING_PAGE",i="OPEN_BROWSER_OPTIONS_PAGE",a="ACTIVATE_CASHBACK_EVENT",c="ACTIVATE_AMS_CASHBACK_EVENT",u="ACTIVATE_TAOBAO_CASHBACK_EVENT",s="UNINSTALL_SELF",l="LOAD_MODULE",f="FETCH_TAOBAO_PRODUCT_DEEPLINK_EVENT",p="DETECT_BACKGROUND",h="OPEN_NEW_TAB",d="CAPTURE_TAB",v="SENTRY_ERROR_LOGGING",m="SHOW_DOGFOOD_REPORT"},90830:
/*!****************************************!*\
  !*** ./src/shared/constants/styles.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{Z:()=>r});var r=2147483647},18855:
/*!**************************************!*\
  !*** ./src/shared/constants/tabs.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{Th:()=>r,YI:()=>o,wk:()=>i,uE:()=>a,Hl:()=>c,V1:()=>u,Sd:()=>s,si:()=>l,yV:()=>f,qq:()=>p,vo:()=>h,y2:()=>d,UW:()=>v,xE:()=>m,tz:()=>g,Si:()=>y,LL:()=>b,QS:()=>w,Gy:()=>E,uB:()=>_,Ly:()=>x,fP:()=>O,m7:()=>k,Ys:()=>C,PL:()=>T,kE:()=>P,E:()=>I,P:()=>N,mK:()=>A,DR:()=>L,F2:()=>S,nP:()=>j,DV:()=>R,Zj:()=>F});var r="TABS/UI_OPEN_NEW_TAB",o="TABS/UPDATE_TAB",i="TABS/CLOSE_TAB",a="TABS/UPDATE_TAB_ACTIVATE_INFO",c="TABS/CREATE_TAB",u="TABS/CLEAR_OPENERURL",s="home",l="saved",f="account",p="notification",h="cashbackNotifier",d="educationNotifier",v="tncNotifier",m="complianceInfo",g="dealOfTheDay",y="upsizedFlashDeals",b="recommendation",w="watchList",E={MERCHANT:"merchantPage",NON_MERCHANT:"nonMerchantPage"},_="voucher",x="topStores",O="errorPage",k="joinShopBackPlus",C="lifeTimeEarnings",T="cashbackOverview",P="recentCashback",I="referFriend",N="reviewUs",A="helpCenter",L="countryDropdown",S="manageSubscriptionButton",j="logoutButton",R="loginPage",F="watchListMerchant"},91369:
/*!****************************************!*\
  !*** ./src/shared/constants/taobao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{YX:()=>r,OZ:()=>o,W5:()=>i,Uc:()=>a});var r="taobao_notifier",o="taobao_cartpage",i="taobao_checkoutpage",a="taobao_tabupdate"},76551:
/*!*******************************************!*\
  !*** ./src/shared/constants/utmMedium.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{T$:()=>r,oi:()=>o,UO:()=>i,L:()=>a,gz:()=>c,iQ:()=>u,_l:()=>s,k4:()=>l,xi:()=>f,kL:()=>p,ye:()=>h,DX:()=>d,HR:()=>v,Pn:()=>m,Mf:()=>g,R7:()=>y,KK:()=>b,Hq:()=>w,V_:()=>E,pA:()=>_,CG:()=>x,Ol:()=>O,G0:()=>k,VK:()=>C,Tj:()=>T});var r="be_aliexpress_checkout_notifier",o="be_aliexpress_checkout_login_to_activate",i="be_cashback_notifier",a="be_disable_notifier",c="be_login_notifier",u="be_taobao_login_cashback_notifier",s="be_taobao_cashback_notifier",l="be_aliexpress_notifier",f="be_aliexpress_login_notifier",p="be_menu_getcashback",h="be_menu_logintogetcashback",d="be_menu_dealoftheday",v="be_menu_dealoftheday_nonlogin",m="be_menu_recommendedstore",g="be_menu_recommendedstore_nonlogin",y="be_menu_store",b="be_menu_store_nonlogin",w="be_menu_store_search",E="be_menu_store_search_nonlogin",_="be_menu_upsizeflashdeals",x="be_menu_upsizeflashdeals_nonlogin",O="be_watchlist_merchant",k="be_watchlist_recommended_merchant",C="be_confirmation_notifier",T="be_login_confirmation_notifier"},45044:
/*!*********************************************************************!*\
  !*** ./src/shared/containers/CashbackNotifier/index.js + 7 modules ***!
  \*********************************************************************/(t,e,n)=>{n.d(e,{Z:()=>me});var r=n(50008),o=n.n(r),i=n(59713),a=n.n(i),c=n(48926),u=n.n(c),s=n(34575),l=n.n(s),f=n(93913),p=n.n(f),h=n(2205),d=n.n(h),v=n(78585),m=n.n(v),g=n(29754),y=n.n(g),b=n(41609),w=n.n(b),E=n(45697),_=n.n(E),x=n(67294),O=n(65858),k=n(41438),C=n(23588),T=n(9274),P=n(95163),I=n(31732),N=n(40367),A=n(46464),L=n(61571),S=n(62620),j=n(83582),R=n(49485),F=n(96965),M=n(26846),D=n(93367),U=n(40062),B=n(96884),H=n(45786),Z=n(20136),G=n(91228),V=n(8439),X=n(50308),z=n.n(X),K=n(34724),W=function(t){var e=t.handleActivate,n=t.isActivated,r=t.isLoggedIn,o=(0,x.useMemo)((function(){return n?browser.i18n.getMessage("notifier_cashback_activated"):r?browser.i18n.getMessage("menu_get_cashback"):browser.i18n.getMessage("menu_log_in_first")}),[n,r]);return x.createElement(K.vl,{isActivated:n,handleButtonClick:e,text:o})};W.propTypes={isActivated:E.bool,isLoggedIn:E.bool,handleActivate:E.func},W.defaultProps={isActivated:!1,isLoggedIn:!1,handleActivate:z()};const q=W;var Y=n(18446),Q=n.n(Y),J=n(53731),$=n(94588),tt=n(8018),et=n(92319),nt=n(49043),rt=n(90623),ot=C.ZP.section.withConfig({displayName:"CashbackNote__Container",componentId:"sc-1qvv0w9-0"})(["&&{background:#ffffff;padding:12px 12px 0px 12px;display:",";}"],(function(t){return t.visible?"block":"none"})),it=C.ZP.div.withConfig({displayName:"CashbackNote__CashbackHeader",componentId:"sc-1qvv0w9-1"})(["&&{margin-bottom:12px;}"]),at=C.ZP.div.withConfig({displayName:"CashbackNote__CashbackNoteTitle",componentId:"sc-1qvv0w9-2"})(["&&{font-weight:700;font-size:14px;line-height:16px;color:#232938;}"]),ct=C.ZP.div.withConfig({displayName:"CashbackNote__CashbackNoteTips",componentId:"sc-1qvv0w9-3"})(["&&{font-weight:400;font-size:12px;line-height:16px;text-align:justify;color:#232938;margin-top:4px;}"]),ut=C.ZP.div.withConfig({displayName:"CashbackNote__TnCTitle",componentId:"sc-1qvv0w9-4"})(["&&{font-style:normal;font-weight:700;font-size:10px;line-height:12px;margin-bottom:8px;color:",";}"],(function(t){return t.color})),st="#ff3407",lt=C.ZP.div.withConfig({displayName:"CashbackNote__TnCList",componentId:"sc-1qvv0w9-5"})(["&&{padding:8px;background:",";}"],(function(t){return t.background})),ft="#fff0f0",pt=C.ZP.div.withConfig({displayName:"CashbackNote__DataRow",componentId:"sc-1qvv0w9-6"})(["&&{display:flex;flex-direction:row;align-items:center;}&&:not(:last-child){margin-bottom:12px;}"]),ht=(0,C.iv)(["margin-right:4px;margin-top:2px;align-self:start;flex-shrink:0;width:8px;height:8px;"]),dt=(0,C.ZP)(et.Z).withConfig({displayName:"CashbackNote__StyledCrossIcon",componentId:"sc-1qvv0w9-7"})(["&&{",";}"],ht),vt=C.ZP.span.withConfig({displayName:"CashbackNote__TnCItem",componentId:"sc-1qvv0w9-8"})(["&&{font-size:10px;line-height:12px;color:#212836;text-align:left;}"]),mt=function(t){var e,n,r=t.tnc;return w()(r.notAvailable)?null:x.createElement(x.Fragment,null,x.createElement(it,null,x.createElement(at,null,browser.i18n.getMessage("cashback_note")),x.createElement(ct,null,browser.i18n.getMessage("tnc_ensure_cashback"))),x.createElement(ut,{color:st},browser.i18n.getMessage("tnc_donts")),x.createElement(lt,{background:ft},null===(e=(n=r.notAvailable).map)||void 0===e?void 0:e.call(n,(function(t){return x.createElement(pt,{key:t},x.createElement(dt,null),x.createElement(J.Z,{componentDecorator:function(t,e,n){return x.createElement("a",{target:"blank",href:t,key:n},e)}},x.createElement(vt,null,t)))}))))};mt.defaultProps={tnc:{notAvailable:[]}},mt.propTypes={tnc:(0,E.shape)({notAvailable:E.array})};var gt=function(t){var e=t.merchant,n=t.style,r=t.visible,o=e.merchantId,i=(0,x.useRef)(),a=(0,O.v9)(M.NQ),c=a===rt.WI||a===rt.dF,u=(0,O.v9)((function(t){return(0,M.j_)(t,{id:o})})),s=!w()(null==u?void 0:u.notAvailable)||!w()(null==u?void 0:u.tncSections);return r?s?x.createElement(ot,{id:"ShopBack-CashbackNote",style:n,visible:r},x.createElement(mt,{tnc:u}),x.createElement(tt.Z,{tnc:u,includeList:[$.G.CASHBACK_EXCLUSIONS,$.G.SPECIAL_NOTES]})):c?x.createElement(nt.Z,{ref:i}):null:null};function yt(t,e){return Q()(t.merchant===e.merchant)}gt.propTypes={merchant:E.object.isRequired,style:E.object,visible:E.bool},gt.defaultProps={style:{},visible:!1};const bt=x.memo(gt,yt);var wt=browser.runtime.getURL("images/shopback-spark-white-logo.svg"),Et=browser.runtime.getURL("images/subscription/shopback_plus_logo.png"),_t=function(t){var e=t.onLoad,n=t.showSBPlusBg,r=n?Et:wt,o=n?"ShopBack Plus logo":"ShopBack Spark logo";return x.createElement(K.Kj,{src:r,alt:o,onLoad:e})};_t.propTypes={onLoad:_().func.isRequired,showSBPlusBg:_().bool},_t.defaultProps={showSBPlusBg:!1};const xt=_t;var Ot=(0,C.ZP)(Z.z4).withConfig({displayName:"cashbackTiers__CashbackTiersContainer",componentId:"sc-1mkwj2i-0"})(["&&{}"]),kt=(0,C.ZP)(Z.z4).withConfig({displayName:"cashbackTiers__WhiteBackGround",componentId:"sc-1mkwj2i-1"})(["&&{border-radius:0px 0px 8px 8px;background-color:#ffffff;max-height:",";height:auto;overflow-y:auto;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}"],(function(t){return t.enableWatchlist?"none":"360px"})),Ct=(0,C.ZP)(Z.zl).withConfig({displayName:"cashbackTiers__TitleContainer",componentId:"sc-1mkwj2i-2"})(["&&{display:flex;justify-content:space-between;align-items:center;padding:12px;}"]),Tt=(0,C.ZP)(Z.xv).withConfig({displayName:"cashbackTiers__TitleText",componentId:"sc-1mkwj2i-3"})(["&&{width:206px;font-size:14px;font-weight:bold;color:#40485a;text-align:left;}"]),Pt=(0,C.ZP)(Z.zl).withConfig({displayName:"cashbackTiers__TierContainer",componentId:"sc-1mkwj2i-4"})(["&&{display:flex;justify-content:space-between;margin-bottom:10px;max-height:40px;}&&:last-child{margin-bottom:0px;}"]),It=C.ZP.div.withConfig({displayName:"cashbackTiers__TierContainerList",componentId:"sc-1mkwj2i-5"})(["&&{padding:0 12px;}"]),Nt=(0,C.ZP)(Z.xv).withConfig({displayName:"cashbackTiers__Name",componentId:"sc-1mkwj2i-6"})(["&&{max-width:206px;flex:1 0 auto;font-size:12px;text-align:left;color:#40485a;display:-webkit-box;overflow:hidden;-webkit-line-clamp:",";-webkit-box-orient:vertical;}"],(function(t){return t.lineCount?t.lineCount:"2"})),At=(0,C.ZP)(Z.xv).withConfig({displayName:"cashbackTiers__Amount",componentId:"sc-1mkwj2i-7"})(["&&{width:50px;height:16px;font-size:12px;text-align:right;font-weight:",";color:",";text-decoration:",";}"],(function(t){return t.weight||"normal"}),(function(t){return t.color||"#232938"}),(function(t){return t.lineThrough?"line-through":"none"})),Lt=(0,C.ZP)(Z.xv).withConfig({displayName:"cashbackTiers__StandardCashbackTitle",componentId:"sc-1mkwj2i-8"})(["&&{font-size:10px;line-height:12px;text-align:center;color:",";}"],(function(t){return t.color||"#232938"})),St=C.ZP.img.withConfig({displayName:"cashbackTiers__SubscriptionLogoImage",componentId:"sc-1mkwj2i-9"})(["&&{width:32px;height:16px;opacity:",";}"],(function(t){return t.isSubscriber?1:.5}));function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ft=browser.runtime.getURL("images/subscription/subscription_logo.png"),Mt=function(t){var e=t.cashbackTiers,n=t.enableWatchlist,r=t.showComparisonTiers,o=t.isSubscriber,i=e.map((function(t,e){return Rt(Rt({},t),{},{id:e})}));return 0===i.length?null:x.createElement(Ot,null,x.createElement(kt,{enableWatchlist:n},x.createElement(Ct,null,x.createElement(Tt,null,browser.i18n.getMessage("cashback_rates")),r&&x.createElement(Lt,{color:o?"#AAADB6":"#232938"},browser.i18n.getMessage("subscription_standard_cashback_rates")),r&&x.createElement(St,{isSubscriber:o,src:Ft})),x.createElement(It,null,i.map((function(t){return r?x.createElement(Pt,{key:t.id},x.createElement(Nt,null,null==t?void 0:t.label),x.createElement(At,{color:o?"#AAADB6":"#232938",lineThrough:o},null==t?void 0:t.currentDisplayValue),x.createElement(At,{weight:"700",color:o?"#232938":"#AAADB6"},null==t?void 0:t.betterDisplayValue)):x.createElement(Pt,{key:null==t?void 0:t.id},x.createElement(Nt,null,null==t?void 0:t.name),x.createElement(At,{color:"#ff3407"},null==t?void 0:t.amount))})))))};Mt.propTypes={cashbackTiers:E.array,enableWatchlist:E.bool,showComparisonTiers:E.bool,isSubscriber:E.bool},Mt.defaultProps={cashbackTiers:[],enableWatchlist:!1,showComparisonTiers:!1,isSubscriber:!1};const Dt=Mt;var Ut=n(6479),Bt=n.n(Ut),Ht=["visible","children","onClickCollapse"];function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vt=C.ZP.div.withConfig({displayName:"Collapse__CollapseContainer",componentId:"sc-1bgte1k-0"})(["&&{background:#ffffff;border-radius:0 0 8px 8px;overflow:hidden;}"]),Xt=C.ZP.div.withConfig({displayName:"Collapse__Header",componentId:"sc-1bgte1k-1"})(["&&{background:#ffffff;cursor:pointer;box-sizing:border-box;padding:12px;display:flex;align-items:center;justify-content:center;}"]),zt=C.ZP.div.withConfig({displayName:"Collapse__HeaderText",componentId:"sc-1bgte1k-2"})(["&&{font-weight:500;font-size:12px;line-height:16px;color:#000000;}"]),Kt=C.ZP.div.withConfig({displayName:"Collapse__HeaderIcon",componentId:"sc-1bgte1k-3"})(["&&{height:16px;margin-left:5px;transform:",";transition:all 0.3s ease;}"],(function(t){return t.visible?"rotate(180deg)":"rotate(0)"})),Wt=C.ZP.div.withConfig({displayName:"Collapse__Content",componentId:"sc-1bgte1k-4"})(["&&{display:block;max-height:",";height:auto;overflow-y:auto;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}"],(function(t){return t.visible?"360px":"0"})),qt=function(t){var e=t.fill,n=void 0===e?"#404859":e,r=t.svgStyle;return x.createElement("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.88979 0.878141C1.07618 0.707286 1.37837 0.707286 1.56476 0.878141L6 4.94378L10.4352 0.878141C10.6216 0.707286 10.9238 0.707286 11.1102 0.878141C11.2966 1.049 11.2966 1.326 11.1102 1.49686L6.33748 5.87186C6.1511 6.04271 5.8489 6.04271 5.66252 5.87186L0.88979 1.49686C0.703403 1.326 0.703403 1.049 0.88979 0.878141Z",fill:n}))};qt.propTypes={fill:E.string,svgStyle:E.object},qt.defaultProps={fill:"#404859",svgStyle:{}};var Yt=function(t){var e=t.children;return x.createElement(Vt,null,e)},Qt=C.ZP.div.withConfig({displayName:"Collapse__PanelContainer",componentId:"sc-1bgte1k-5"})(["&&{background:#ffffff;}"]),Jt=function(t){var e=t.visible,n=t.children,r=t.onClickCollapse,o=Bt()(t,Ht);return x.createElement(Qt,o,x.createElement(Wt,{visible:e},x.Children.map(n,(function(t,n){return(0,x.isValidElement)(t)&&(0,x.cloneElement)(t,Gt(Gt({},o),{},{visible:e,index:n}))}))),x.createElement(Xt,{onClick:r},x.createElement(zt,null,e?browser.i18n.getMessage("view_less"):browser.i18n.getMessage("view_more")),x.createElement(Kt,{visible:e},x.createElement(qt,{svgStyle:{height:"100%",width:"12px",display:"inline-block",verticalAlign:"top"}}))))};Yt.propTypes={children:E.node.isRequired},Jt.propTypes={children:E.node.isRequired,visible:E.bool,onClickCollapse:E.func},Jt.defaultProps={visible:!1,onClickCollapse:void 0};const $t=Yt;var te=browser.runtime.getURL("images/cashbackNotificationLogoBgs/filled-down-arrow.png"),ee=browser.runtime.getURL("images/cashbackNotificationLogoBgs/filled-up-arrow.png"),ne=C.ZP.div.withConfig({displayName:"ViewAllRates__ViewAllRatesText",componentId:"sc-3m87tf-0"})(["&&{color:#ffffff !important;cursor:pointer;text-align:right;font-size:10px !important;font-weight:400 !important;line-height:12px !important;letter-spacing:0.3px !important;margin-right:7px !important;}"]),re=(0,C.ZP)(Z.zl).withConfig({displayName:"ViewAllRates__ViewAllRatesContainer",componentId:"sc-3m87tf-1"})(["&&{align-self:flex-start;align-items:center;margin-top:2px;height:12px;}"]),oe=C.ZP.div.withConfig({displayName:"ViewAllRates__Arrow",componentId:"sc-3m87tf-2"})(["&&{width:10px;height:6px;background-image:",";background-repeat:no-repeat;}"],(function(t){return t.displayCashbackTiers?"url(".concat(ee,")"):"url(".concat(te,")")})),ie=function(t){var e=t.onClick,n=t.displayViewAllRates,r=t.displayCashbackTiers;return n?x.createElement(re,{onClick:e},x.createElement(ne,null,browser.i18n.getMessage("notifier_view_all_rates")),x.createElement(oe,{displayCashbackTiers:r})):null};ie.propTypes={onClick:E.func,displayViewAllRates:E.bool,displayCashbackTiers:E.bool},ie.defaultProps={onClick:z(),displayViewAllRates:!1,displayCashbackTiers:!1};const ae=ie;var ce=n(88968);function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */le=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:_(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function _(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var pe=C.ZP.div.withConfig({displayName:"CashbackNotifier__SubscriptionEntryContainer",componentId:"sc-1bldud0-0"})(["&&{display:flex;width:100%;}"]),he={opacity:"0",top:"10px",transitionDuration:"0.5s",transitionProperty:"opacity",transitionTimingFunction:"ease"},de={opacity:"1",top:"10px",transitionDuration:"0.5s",transitionProperty:"opacity",transitionTimingFunction:"ease"},ve=function(t){d()(n,t);var e=fe(n);function n(){var t;l()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={isOpen:!1,displayCashbackTiers:!1,isLoading:!0,collapseVisible:!1},t.handleTooltipsRef=function(){var e=u()(le().mark((function e(n){return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tooltipRef){e.next=2;break}return e.abrupt("return");case 2:return t.tooltipRef=n,e.t0=t,e.next=6,n.shouldOpen();case 6:e.t1=e.sent,e.t2={tooltip_shown:e.t1},e.t0.trackExtViewNotifierEvent.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.setIsOpen=function(e){t.setState({isOpen:e})},t.setIsLoading=function(e){t.setState({isLoading:e})},t.handleActivate=function(){var e=t.props,n=e.loggedIn,r=e.cc,o=e.merchant;n?t.trackClickActivateBtnEvent():t.trackClickLoginToActivateBtnEvent(),(0,G.xc)({merchant:o,utmMedium:n?S.UOx:S.gz$,isLoggedIn:n,cc:r,deeplink:window.location.href})},t.handleClose=function(){var e=t.props,n=e.closeNotifier,r=e.closeActivatedNotifier,o=e.activated,i=e.merchant;t.trackClickCloseBtnEvent(),t.setIsOpen(!1),o?r(i.merchantId):n(i.merchantId)},t.uninstallSelf=function(){t.props.unMount(),(0,V.M1)()},t.cashbackNotifierLogoOnLoad=function(){t.state.isLoading&&t.setIsLoading(!1)},t.handleFollow=function(e){e.preventDefault();var n=t.props,r=n.merchant,o=n.followMerchant,i=n.unfollowMerchant;r.isFollowed?(i({merchant:r}),t.trackExtInteractNotifier({screen_name:"cashback_notifier",interact_type:"unfollow",feature_type:"",merchant_id:r.merchantId,merchant_name:r.name,current_url:window.location.href})):(o({merchant:r}),t.trackExtInteractNotifier({screen_name:"cashback_notifier",interact_type:"follow",feature_type:"",merchant_id:r.merchantId,merchant_name:r.name,current_url:window.location.href}))},t.handleFollowButtonHover=function(){var e=t.props.merchant;t.trackExtHoverNotifier({screen_name:"cashback_notifier",feature_name:e.isFollowed?"unfollow":"follow",tooltip_shown:!0,merchant_id:e.merchantId,merchant_name:e.name,current_url:window.location.href})},t.handleCollapse=function(){var e=t.state.collapseVisible;t.setState({collapseVisible:!e})},t}return p()(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.disabled,o=n.shouldOpen,i=n.merchant,a=n.isLoadingTnC,c=n.fetchMerchantTnC,u=this.state.collapseVisible;r&&!t.disabled&&this.setIsOpen(!1),o!==t.shouldOpen&&this.setIsOpen(o),!e.collapseVisible&&u&&null!=i&&i.merchantId&&!a&&c(i.merchantId)}},{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.shouldOpen,r=e.cashbackNotifierTooltipEnabled;this.visitActivated(),n&&(setTimeout((function(){return t.setIsOpen(!0)}),0),r||this.trackExtViewNotifierEvent({tooltip_shown:!1}))}},{key:"visitActivated",value:function(){var t=this.props,e=t.activated,n=t.visitActivatedNotifier,r=t.merchant,o=t.disabled;e&&!o&&n(r)}},{key:"render",value:function(){var t,e,n=this,r=this.props,o=r.merchant,i=r.activated,a=r.loggedIn,c=r.cashbackNotifierTooltipEnabled,u=r.customizedStyle,s=r.tabId,l=r.url,f=r.enableWatchlist,p=r.cashbackTiers,h=r.showComparisonTiers,d=r.showSubscriptionEntry,v=r.subscriber,m=o&&!w()(o.cashbackTiers),g=null==o||null===(t=o.betterComparisonOffer)||void 0===t||null===(e=t.renderedOffer)||void 0===e?void 0:e.displayText,y=this.state.isLoading?he:u||de,b=(0,F.ki)(o);return this.state.isOpen?x.createElement(I.Z,{merchant:o},x.createElement(K.Uo,{style:y},x.createElement(Z.z4,{style:{width:"335px"}},x.createElement(K.TG,{enableWatchlist:f,showViewAllRates:this.state.displayCashbackTiers},x.createElement(K.$L,null,x.createElement(Z.z4,null,x.createElement(xt,{showSBPlusBg:v,onLoad:this.cashbackNotifierLogoOnLoad}),x.createElement(K.Cs,null,x.createElement(K.Od,null,null==o?void 0:o.cashbackAmount),b&&x.createElement(K.St,null,o.oldCashback.description)),f?null:x.createElement(ae,{displayViewAllRates:m,displayCashbackTiers:this.state.displayCashbackTiers,onClick:function(){return n.setState((function(t){return{displayCashbackTiers:!t.displayCashbackTiers}}))}})),x.createElement(Z.AE,{style:{marginLeft:"20px"}},x.createElement(q,{isActivated:i,isLoggedIn:a,handleActivate:this.handleActivate}))),x.createElement(K.Bt,{onClick:this.handleClose})),this.state.displayCashbackTiers&&m&&!f?x.createElement(Dt,{cashbackTiers:p,enableWatchlist:f}):null),d&&x.createElement(pe,null,x.createElement(N.Z,{cashbackDisplayText:g,isInNotifier:!0})),f?x.createElement(x.Fragment,null,x.createElement(L.Z,{merchant:o,url:l,tabId:s,style:{padding:"12px"},onFollowButtonClick:this.handleFollow,screenName:"cashback_notifier",onFollowButtonHover:this.handleFollowButtonHover}),x.createElement($t,null,x.createElement(Jt,{visible:this.state.collapseVisible,onClickCollapse:this.handleCollapse},x.createElement(Dt,{cashbackTiers:p,showComparisonTiers:h,enableWatchlist:f,isSubscriber:v}),x.createElement(bt,{merchant:o})))):null,c&&x.createElement(ce.Z,{name:"cashback_notifier_tooltip",ref:this.handleTooltipsRef,merchant:o,uninstallSelf:this.uninstallSelf}))):null}}]),n}((0,P.Z)(x.Component));ve.propTypes={tabId:_().number,merchant:_().object,shouldOpen:_().bool.isRequired,loggedIn:_().bool.isRequired,cashbackNotifierTooltipEnabled:_().bool.isRequired,unMount:_().func,closeNotifier:_().func.isRequired,closeActivatedNotifier:_().func.isRequired,visitActivatedNotifier:_().func.isRequired,activated:_().bool.isRequired,disabled:_().bool.isRequired,cc:_().string.isRequired,deActivate:_().func.isRequired,activatingId:_().string,visited:_().number},ve.defaultProps={unMount:function(){},merchant:null,activatingId:null,customizedStyle:null};const me=(0,O.$j)((function(t,e){var n,r=(0,M.Lz)(t,{id:null===(n=e.merchant)||void 0===n?void 0:n.merchantId}),o=(0,j.tm)(t,{merchant:r})||(0,j.GM)(t,{merchant:r}),i=e.tabId;return{tabId:i,merchant:(0,M.Ay)(t,{merchant:r}),activated:o,disabled:(0,j.pK)(t,e),cashbackTiers:(0,B.u7)(t,{id:null==r?void 0:r.merchantId}),showComparisonTiers:(0,B.zM)(t,{id:null==r?void 0:r.merchantId}),showSubscriptionEntry:(0,B.Yc)(t,{id:null==r?void 0:r.merchantId}),subscriber:(0,B.Rj)(t,{id:null==r?void 0:r.merchantId}),cc:(0,R.q)(t,e),loggedIn:(0,H.jl)(t,e),activatingId:(0,j.aI)(t,e),visited:(0,j.fK)(t,e),shouldOpen:(0,D.LA)(t,{merchant:r,tabId:i,url:window.location.href}),cashbackNotifierTooltipEnabled:(0,U.OY)(),isLoadingTnC:(0,M.f6)(t),enableWatchlist:(0,U.OU)(t)}}),(function(t){return se(se({},(0,k.bindActionCreators)({closeNotifier:T.dj,closeActivatedNotifier:T.Hp,visitActivatedNotifier:T.zo,deActivate:T.jm,followMerchant:A.U4,unfollowMerchant:A.ZX,fetchMerchantTnC:T.vu},t)),{},{dispatch:t})}))(ve)},34724:
/*!***************************************************************************!*\
  !*** ./src/shared/containers/CashbackNotifier/styles/cashbackNotifier.js ***!
  \***************************************************************************/(t,e,n)=>{n.d(e,{Uo:()=>s,TG:()=>l,Kj:()=>f,Cs:()=>p,Od:()=>h,St:()=>d,vl:()=>v,Bt:()=>m,$L:()=>g});var r=n(/*! styled-components */23588),o=n(/*! ../../../../assets/shared/close4.png */54539),i=n(/*! ../../../components/Button */45633),a=n(/*! ../../../components/CloseButton */78504),c=n(/*! ../../../styledComponents */20136),u=browser.runtime.getURL("images/bg-shopback-spark.png"),s=r.ZP.div.withConfig({displayName:"cashbackNotifier__CashbackNotificationContainer",componentId:"m31uwn-0"})(["&&{display:flex;flex-direction:column;position:fixed;right:10px !important;border-radius:8px !important;box-shadow:0px 6px 8px 0px rgba(0,0,0,0.3) !important;max-width:335px;z-index:2147483646 !important;}&& *{font-family:'Roboto',arial,sans-serif !important;}"]),l=r.ZP.div.withConfig({displayName:"cashbackNotifier__NotifierContainer",componentId:"m31uwn-1"})(["&&{display:block;background-color:black;background-image:",";background-repeat:no-repeat;background-position:center;background-size:cover;border-radius:",";}"],(function(t){t.showSBPlusBg;return"url(".concat(u,")")}),(function(t){var e=t.enableWatchlist,n=t.showViewAllRates;return e||n?"8px 8px 0 0":"8px"})),f=r.ZP.img.withConfig({displayName:"cashbackNotifier__ShopbackSparkLogo",componentId:"m31uwn-2"})(["&&{height:30px;object-fit:contain;width:100px;}"]),p=r.ZP.div.withConfig({displayName:"cashbackNotifier__MerchantInfoContainer",componentId:"m31uwn-3"})(["&&{font-family:'Roboto';font-style:normal;margin-top:8px;}"]),h=r.ZP.div.withConfig({displayName:"cashbackNotifier__MerchantPrimaryInfo",componentId:"m31uwn-4"})(["&&{color:#fff !important;font-weight:700 !important;font-size:14px !important;line-height:20px !important;}"]),d=r.ZP.div.withConfig({displayName:"cashbackNotifier__MerchantSecondaryInfo",componentId:"m31uwn-5"})(["&&{color:#fff !important;font-size:10px !important;font-weight:400 !important;line-height:12px !important;}"]),v=(0,r.ZP)(i.Z).withConfig({displayName:"cashbackNotifier__NotifierButton",componentId:"m31uwn-6"})(["&&{height:32px;white-space:nowrap;flex-basis:0;width:unset;",";}"],(function(t){return t.isActivated?(0,r.iv)(["background:#e5faf1;color:#187f55;pointer-events:none;"]):""})),m=(0,r.ZP)(a.Z).withConfig({displayName:"cashbackNotifier__NotifierCloseIcon",componentId:"m31uwn-7"})(["&&{top:9px;right:9px;width:10px;height:10px;background-image:url(",");display:block !important;}"],o),g=(0,r.ZP)(c.zl).withConfig({displayName:"cashbackNotifier__NotifierContentContainer",componentId:"m31uwn-8"})(["&&{margin:8px 12px;justify-content:space-between;min-height:70px;}"])},88968:
/*!*****************************************************************************!*\
  !*** ./src/shared/containers/CashbackNotifierTooltip/index.js + 10 modules ***!
  \*****************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>wt});var r=n(65858),o=n(41438),i=n(22222),a=n(1019),c=n(67154),u=n.n(c),s=n(67294);const l=function(t){return t.displayName||t.name||"Component"};var f=n(63038),p=n.n(f),h=n(45697),d=n(25903),v=n.n(d),m=n(51693),g=n(89489),y=function(){var t=(0,r.v9)((function(t){return(0,m.bo)(t)})),e=(0,r.v9)((function(t){return(0,g.jM)(t)})),n=(0,s.useState)(null),o=p()(n,2),i=o[0],a=o[1],c=(0,s.useState)(!0),u=p()(c,2),l=u[0],f=u[1];return(0,s.useEffect)((function(){browser.runtime.sendMessage("djjjmdgomejlopjnccoejdhgjmiappap",{type:"GET_UNIFY_EXTENSION_VERSION"}).then((function(t){return t.version})).catch((function(){return null})).then((function(n){var r=v()(t,e)?t:n;a(r),f(!1)}))}),[a,f,t,e]),[i,l]},b=function(t){var e=t.children,n=y(),r=p()(n,2),o=r[0];return r[1]?null:e(o)};b.propTypes={children:h.func.isRequired};const w=b;const E=function(t){var e=l(t),n=(0,s.forwardRef)((function(e,n){return s.createElement(w,null,(function(r){return s.createElement(t,u()({},e,{ref:n,unifyExtensionVersion:r}))}))}));return n.displayName="WithUnifyExtensionVersion(".concat(e,")"),n};var _=n(96965),x=n(27361),O=n.n(x),k=n(21544),C=n.n(k),T=Object.freeze({GENERAL:"general",INSTALL:"install",UNINSTALL:"uninstall",AUTO_UNINSTALL:"autoUninstall"}),P=Object.freeze({GENERAL:"taobao_general",INSTALL:"taobao_install",UNINSTALL:"taobao_uninstall",AUTO_UNINSTALL:"taobao_autoUninstall"}),I=(0,i.P1)(g.Gw,(function(t){return t.cashbackNotifierTooltips})),N=(0,i.P1)(I,m.bo,(function(t,e){return e.unifyExtensionVersion}),g.jM,_.Iw,(function(t,e,n,r,o){var i=o?P:T;return!n||C()(n,r)?t.find((function(t){return t.type===i.INSTALL})):n!==e?t.find((function(t){return t.type===i.UNINSTALL||t.type===i.AUTO_UNINSTALL})):t.find((function(t){return t.type===i.GENERAL}))})),A=(0,i.P1)(N,(function(t){return!!t})),L=(0,i.P1)(N,(function(t){return O()(t,"type","")})),S=(0,i.P1)(N,(function(t){return O()(t,"imgUrl","")})),j=(0,i.P1)(N,(function(t){return O()(t,"imgTargetUrl","")})),R=(0,i.P1)(N,(function(t){return O()(t,"footer",null)})),F=n(50008),M=n.n(F),D=n(59713),U=n.n(D),B=n(48926),H=n.n(B),Z=n(34575),G=n.n(Z),V=n(93913),X=n.n(V),z=n(2205),K=n.n(z),W=n(78585),q=n.n(W),Y=n(29754),Q=n.n(Y),J=n(23588),$=n(14284),tt=n(60722),et=J.ZP.span.withConfig({displayName:"Footer__ClickableMsg",componentId:"sc-1msap4w-0"})(["&&{display:inline-block;height:16px;line-height:16px;font-size:14px;font-weight:500;vertical-align:top;color:#286fdc;cursor:pointer;transition:opacity 300ms ease-out;}&&:hover{opacity:0.8;}"]),nt=J.ZP.div.withConfig({displayName:"Footer__Container",componentId:"sc-1msap4w-1"})(["&&{width:100%;height:48px;padding-top:8px;margin-top:-20px;border-radius:3px;box-sizing:border-box;text-align:center;background-color:#ffffff;}"]),rt=function(t){var e=t.message,n=t.handleClick;return s.createElement(nt,{onClick:n},s.createElement(et,null,e))};rt.propTypes={message:h.string.isRequired,handleClick:h.func.isRequired};const ot=rt;var it,at=Object.freeze({DONT_SHOW_IN_X_HOURS:"dontShowInXHours",LINK:"link"}),ct=Object.freeze((it={},U()(it,at.DONT_SHOW_IN_X_HOURS,"don't_show"),U()(it,at.LINK,"link"),it));function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){U()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new k(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,i)&&(v=g);var y=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==M()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(y,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,c,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q()(t);if(e){var o=Q()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q()(this,n)}}var pt=[T.GENERAL,P.GENERAL],ht=[T.AUTO_UNINSTALL,P.AUTO_UNINSTALL],dt=J.ZP.img.withConfig({displayName:"CashbackNotifierTooltip__Image",componentId:"x80qlt-0"})(["&&{width:100%;height:auto;z-index:-1;}"]),vt=J.ZP.a.withConfig({displayName:"CashbackNotifierTooltip__Link",componentId:"x80qlt-1"})(["&&{display:flex;}"]),mt=J.ZP.div.withConfig({displayName:"CashbackNotifierTooltip__Container",componentId:"x80qlt-2"})(["&&{align-self:flex-end;width:100%;border-radius:0 0 3px 3px;background-color:#ffffff;z-index:1;margin-top:5px;}"]),gt=function(t){K()(r,t);var e,n=ft(r);function r(){var t;G()(this,r);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))).state={isOpen:!1},t.shouldOpen=H()(lt().mark((function e(){var n,r,o,i,a,c,u,s,l,f;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,r=n.hasTooltip,o=n.previousVersion,i=n.type,a=n.footer,c=void 0===a?{}:a,u=O()(c,"type"),e.next=4,$.Z.get(tt.J);case 4:if(s=e.sent,l=s.visited,f=s.closeAt,r){e.next=9;break}return e.abrupt("return",!1);case 9:if(u!==at.DONT_SHOW_IN_X_HOURS){e.next=11;break}return e.abrupt("return",t.hasDontShowExpired(f));case 11:if(pt.includes(i)){e.next=13;break}return e.abrupt("return",!0);case 13:return e.abrupt("return",!(o||l));case 14:case"end":return e.stop()}}),e)}))),t.hasDontShowExpired=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(t.props.footer||{}).hours,r=void 0===n?0:n;return!e||Date.now()>e+60*r*60*1e3},t.handleImageClick=function(e){var n=t.props,r=n.type,o=n.imgUrl,i=n.imgTargetUrl,a=n.uninstallSelf;i||e.preventDefault(),t.trackExtClickNotifier({featureName:o}),t.close(),ht.includes(r)&&a()},t.handleFooterClick=function(){var e=t.props.footer||{},n=e.type,r=e.link,o=n===at.DONT_SHOW_IN_X_HOURS?Date.now():0;n===at.LINK&&window.open(r),t.trackExtClickNotifier({featureName:ct[n]}),t.close({closeAt:o})},t.trackExtClickNotifier=function(e){var n,r=e.featureName;if(r){var o=t.props,i=o.name,a=o.trackExtClickNotifier,c=o.merchant,u={merchant_id:c.merchantId||null,merchant_name:c.name||null,is_affiliate_merchant:!!parseFloat(null===(n=c.cashback)||void 0===n?void 0:n.amount)||!1};a(st({screen_name:i,feature_name:r,feature_type:"cta",current_url:window.location.href},u))}},t.open=function(){return t.setState({isOpen:!0})},t.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setState({isOpen:!1}),$.Z.update(tt.J,st(st({},e),{},{visited:!0}))},t}return X()(r,[{key:"componentDidMount",value:(e=H()(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.shouldOpen();case 2:t.sent&&this.open();case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,e=t.imgUrl,n=t.imgTargetUrl,r=t.footer,o=this.state.isOpen,i=(r||{}).message;return o?s.createElement(mt,null,s.createElement(vt,{href:n,target:"_blank",onClick:this.handleImageClick},s.createElement(dt,{src:e})),r&&s.createElement(ot,{message:i,handleClick:this.handleFooterClick})):null}}]),r}(s.PureComponent);gt.defaultProps={footer:null,merchant:{}},gt.propTypes={name:h.string.isRequired,previousVersion:h.string.isRequired,hasTooltip:h.bool.isRequired,type:h.string.isRequired,imgUrl:h.string.isRequired,imgTargetUrl:h.string.isRequired,footer:(0,h.shape)({type:(0,h.oneOf)(Object.values(at)).isRequired,message:h.string.isRequired,hours:h.number,link:h.string}),merchant:h.object,trackExtClickNotifier:h.func.isRequired,uninstallSelf:h.func.isRequired};const yt=gt;var bt=(0,i.zB)({previousVersion:m.Gw,hasTooltip:A,type:L,imgUrl:S,imgTargetUrl:j,footer:R,merchantId:_._P});const wt=(0,o.compose)(E,(0,r.$j)(bt,(function(t){return(0,o.bindActionCreators)({trackExtClickNotifier:a.trackExtClickNotifier},t)}),null,{forwardRef:!0}))(yt)},5281:
/*!*********************************!*\
  !*** ./src/shared/envConfig.js ***!
  \*********************************/(t,e,n)=>{n.d(e,{Z:()=>r});const r=n(/*! ../../env/production.json */47776)},77194:
/*!********************************************!*\
  !*** ./src/shared/hooks/useTrackingsV2.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! react */67294),a=n(/*! react-redux */65858),c=n(/*! ../actionCreators/trackingV2 */1019);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l=function(){var t=(0,a.I0)(),e=(0,i.useMemo)((function(){return function(t){return Object.keys(c).reduce((function(e,n){return s(s({},e),{},o()({},n,(function(){return t(c[n].apply(c,arguments))})))}),{})}(t)}),[t]);return e}},21934:
/*!**************************************************!*\
  !*** ./src/shared/loggers/logger.js + 1 modules ***!
  \**************************************************/(t,e,n)=>{n.d(e,{ZP:()=>w});var r=n(59713),o=n.n(r),i=n(50008),a=n.n(i),c=n(27484),u=n.n(c),s=n(41609),l=n.n(s),f=n(14293),p=n.n(f);n(20820),n(94500),n(71171);var h,d=n(62620),v=n(51693),m="info",g="warn",y="error",b=function(t,e,n,r){var o,i=(null===(o=t.getState)||void 0===o?void 0:o.call(t))||t;if(!l()(i)&&(0,v.hn)(i)){var c=r||{},s=c.isCollapsed,f=c.properties,h=u()().format("YYYY-MM-DDTHH:mm:ss:SSS"),d="[".concat("shopback","][").concat(h,"] ").concat("object"===a()(n)?JSON.stringify(n):n);if(s)p()(f)?console.groupCollapsed(d):console.groupCollapsed(d,f),console.trace(),console[e](n),console.groupEnd();else{var m,g=p()(f)?[d]:[d,f];(m=console)[e].apply(m,g)}}};const w=(h={},o()(h,m,(function(t,e,n){b(t,m,e,{isCollapsed:!0,properties:n})})),o()(h,g,(function(t,e,n){b(t,g,e,{isCollapsed:d.D1p,properties:n})})),o()(h,y,(function(t,e,n){b(t,y,e,{isCollapsed:!1,properties:n})})),h)},16730:
/*!****************************************************************************!*\
  !*** ./src/shared/providers/TanStackQueryProvider/fetchers.js + 1 modules ***!
  \****************************************************************************/(t,e,n)=>{n.d(e,{lQ:()=>E,b5:()=>_});var r=n(50008),o=n.n(r),i=n(59713),a=n.n(i),c=n(48926),u=n.n(c),s=n(65858),l=n(62620),f=n(49485),p=n(4536),h=n(28392),d=n(63038),v=n.n(d),m=n(96486),g=function(t){return"".concat(t.reduce((function(t,e){if(Array.isArray(e))return"".concat(t,"/").concat(e.join("/"));if((0,m.isPlainObject)(e)&&(i=e,Object.values(i).every((function(t){return"number"==typeof t||"string"==typeof t||Array.isArray(t)})))){var n=(r=e,o=new URLSearchParams,Object.entries(r).forEach((function(t){var e=v()(t,2),n=e[0],r=e[1];Array.isArray(r)?r.forEach((function(t){return o.append(n,t.toString())})):o.append(n,r.toString())})),o.toString());return"".concat(t,"?").concat(n.toString())}var r,o,i;return"".concat(t,"/").concat(e)})))};function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var E=function(t){return function(){var e=u()(w().mark((function e(n){var r,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryKey,e.prev=1,e.next=4,h.Z.get({url:"".concat((0,p.XF)(t),"/").concat(g(r)),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.Eu)(t)),ignoreCC:!0});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},_=function(){var t=(0,s.v9)(f.q),e=(0,s.I0)(),n=(0,s.oR)(),r=function(){var r=u()(w().mark((function r(){var o,i,c,u,s,f,d,v=arguments;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=(o=v.length>0&&void 0!==v[0]?v[0]:{method:"post"}).url,c=o.body,u=o.method,s=void 0===u?"post":u,r.prev=1,f={get:h.E.get,post:h.E.post,put:h.E.put,delete:h.E.delete,patch:h.E.patch}[s.toLowerCase()],r.next=5,f(b(b({url:"".concat((0,p.XF)(t),"/").concat(i),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.Eu)(t))},c?{data:c}:{}),{},{ignoreCC:!0}),n.getState(),e);case 5:return d=r.sent,r.abrupt("return",d.data);case 9:throw r.prev=9,r.t0=r.catch(1),r.t0;case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();return{defaultMutationFnWithToken:r}}},83582:
/*!********************************************!*\
  !*** ./src/shared/selectors/activation.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{EJ:()=>s,B4:()=>l,fK:()=>f,r6:()=>p,aI:()=>h,GM:()=>d,tm:()=>v,pK:()=>g,_f:()=>y,lE:()=>b});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! shared/constants */62620),c=n(/*! ./merchant */96965),u=function(t){return t.activation.byExt},s=(0,i.P1)(u,c._P,(function(t,e){return t[e]})),l=(0,i.P1)(s,(function(t){return o()(t,"activatedAt",null)})),f=(0,i.P1)(s,(function(t){return o()(t,"visited",null)})),p=(0,i.P1)(f,(function(t){return t===a.P1k})),h=(0,i.P1)(s,(function(t){return o()(t,"activatingId",null)})),d=(0,i.P1)(s,(function(t){return!!o()(t,"activated",null)})),v=((0,i.P1)(u,(function(t){return Object.keys(t).filter((function(e){return t[e].activated}))})),(0,i.P1)(s,(function(t){return null!=o()(t,"partnershipId")}))),m=(0,i.P1)(s,(function(t){return!(!o()(t,"disabled")||!o()(t,"focusing"))})),g=(0,i.P1)(s,(function(t){return!!o()(t,"disabled")})),y=((0,i.P1)(g,m,(function(t,e){return t&&!e})),(0,i.P1)(d,s,(function(t,e){return t?e:null}))),b=(0,i.P1)(s,(function(t){return o()(t,"shoppingtripId")}))},68093:
/*!*********************************************!*\
  !*** ./src/shared/selectors/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{ko:()=>f,hc:()=>p,Im:()=>v,d3:()=>m,FU:()=>g,Ee:()=>b,Re:()=>w,mU:()=>E,MW:()=>_,F5:()=>k,A1:()=>C});var r=n(/*! reselect */22222),o=n(/*! ./settings/websitePatterns */80905),i=n(/*! ./settings/serviceEnableCountry */40062),a=n(/*! ../constants/amsNotifier */41822),c=n(/*! ../constants/apiStatus */90623),u=n(/*! ../constants/index */62620),s=n(/*! ../utils/commonUtils */26426),l=(0,r.P1)(o.SL,(function(t){return null==t?void 0:t.amsNotifier})),f=(0,r.P1)(l,(function(t,e){return e.url}),(function(t,e){return t.urls.some((function(t){return!!t&&new RegExp(t).test(e)}))})),p=(0,r.P1)(l,(function(t,e){return e}),(function(t,e){var n=e.url,r=e.merchant,o=(null==t?void 0:t.productPageUrls[null==r?void 0:r.urlDomain])||[],i=null;return o.forEach((function(t){var e,r=new RegExp(t),o=n.match(r);null!=o&&null!==(e=o.groups)&&void 0!==e&&e.sid&&(i=o.groups.sid)})),{isProductPage:!!i,sellerId:i}})),h=function(t){return t.amsNotifier},d=(0,r.P1)(h,(function(t){return t.eOutlets})),v=(0,r.P1)(d,(function(t,e){return e}),(function(t,e){var n=e.eOutletId,r=e.sellerId,o=t[n];return o?o[r]:{}})),m=(0,r.P1)(h,(function(t,e){return e}),(function(t,e){var n;return(null===(n=t.tabs[e.tabId])||void 0===n?void 0:n.apiStatus)||c.WI})),g=(0,r.P1)((function(t){return t}),i.Cq,p,(function(t,e){return e}),(function(t,e,n,r){var o=n.isProductPage,i=n.sellerId,a=r.merchant;if(!e||!o)return!1;var c=v(t,{sellerId:i,eOutletId:null==a?void 0:a.eOutletId});return!(null==c||!c.amount)})),y=(0,r.P1)(h,(function(t,e){return null==e?void 0:e.eOutletId}),(function(t,e){return t.settings[e]})),b=(0,r.P1)(y,(function(t,e){return null==e?void 0:e.sellerId}),(function(t,e){return t?t[e]:{}})),w=(0,r.P1)(b,(function(t){return null==t||!t.closeAt||(0,s.Dy)()-(null==t?void 0:t.closeAt)>a.B5})),E=(0,r.P1)(b,(function(t){var e;return null!==(e=null==t?void 0:t.position)&&void 0!==e?e:{y:.2}})),_=(0,r.P1)(h,(function(t){var e,n=t.settings;return null!==(e=null==n?void 0:n.snoozed)&&void 0!==e?e:{}})),x=(0,r.P1)(v,(function(t){return null==t?void 0:t.skuIds})),O=(0,r.P1)(x,(function(t,e){return e}),(function(t,e){return!!t&&t.includes(null==e?void 0:e.skuId)})),k=(0,r.P1)(O,b,(function(t,e){return t&&(null==e?void 0:e.activationState)===u.bL_})),C=((0,r.P1)(h,(function(t,e){return e}),(function(t,e){var n;return(null===(n=t.sellers[e.sellerId])||void 0===n?void 0:n.activationState)===u.bL_})),(0,r.P1)(h,(function(t){var e=t.settings;return Object.keys(e).some((function(t){var n=e[t];return Object.keys(n).some((function(t){var e;return(null===(e=n[t])||void 0===e?void 0:e.activationState)===u.bL_}))}))})));(0,r.P1)(h,(function(t){return null==t?void 0:t.enableAmsSyncUserFromShopBack}))},49485:
/*!************************************!*\
  !*** ./src/shared/selectors/cc.js ***!
  \************************************/(t,e,n)=>{n.d(e,{q:()=>r});var r=function(t){return t.cc}},6688:
/*!*********************************************!*\
  !*** ./src/shared/selectors/experiments.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Zb:()=>f,Qr:()=>p,k:()=>h,IM:()=>d,vb:()=>v});var r=n(/*! reselect */22222),o=n(/*! ./settings */89489),i=n(/*! ./cc */49485);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return t.experiments},s="extension-merchant-off",l=((0,r.P1)(o.TQ,(function(t){var e=[],n=[s];return t.some((function(t){return e.some((function(e){return t===e}))||n.some((function(e){return t.includes(e)}))}))})),(0,r.P1)(u,(function(t){return 0!==Object.keys(t).length})),(0,r.P1)(o.TQ,u,(function(t,e){return Object.keys(e).filter((function(e){return!t.includes(e)}))})),(0,r.P1)(o.TQ,u,i.q,(function(t,e){return e.merchantId}),(function(t,e,n,r){if(!r)return!1;var o,i=t.filter((function(t){return t.includes(s)})),c=a(i);try{for(c.s();!(o=c.n()).done;){var u,l,f,p=a((null===(u=e[o.value])||void 0===u||null===(l=u.payload)||void 0===l?void 0:l[n])||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;if(h.id===r)return h}}catch(t){p.e(t)}finally{p.f()}}}catch(t){c.e(t)}finally{c.f()}return null}))),f=(0,r.P1)(l,(function(t){return!!t&&!t.on})),p=(0,r.P1)(l,(function(t){return!!t})),h=(0,r.P1)(o.TQ,u,i.q,(function(t,e,n){return t.filter((function(t){return t.includes(s)})).reduce((function(t,r){var o,i,a=((null===(o=e[r])||void 0===o||null===(i=o.payload)||void 0===i?void 0:i[n])||[]).filter((function(t){return!t.on})).map((function(t){return t.id}));return t.concat(a)}),[])})),d=(0,r.P1)(l,f,(function(t,e){return!!t&&(e&&Boolean(t.friendlyNotifierEnabled))})),v=(0,r.P1)(l,f,(function(t,e){return!!t&&(e&&Boolean(t.compliancePopupEnabled))}))},51693:
/*!***********************************************!*\
  !*** ./src/shared/selectors/extensionMeta.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{hn:()=>i,bo:()=>a,Gw:()=>c});var r=n(/*! reselect */22222),o=function(t){return null==t?void 0:t.extension},i=(0,r.P1)(o,(function(t){return!(null==t||!t.loggerEnabled)})),a=(0,r.P1)(o,(function(t){return null==t?void 0:t.version})),c=(0,r.P1)(o,(function(t){return(null==t?void 0:t.previousVersion)||""}));(0,r.P1)(o,(function(t){return(null==t?void 0:t.sbExtId)||""}))},96965:
/*!******************************************!*\
  !*** ./src/shared/selectors/merchant.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{_P:()=>s,$K:()=>l,RX:()=>h,v6:()=>d,Jz:()=>v,wA:()=>m,hY:()=>g,hA:()=>b,V2:()=>w,Iw:()=>E,ki:()=>_,FK:()=>x});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants */62620),c=n(/*! ../utils/commonUtils */26426),u=function(t,e){return e.merchant},s=(0,i.P1)(u,(function(t){return o()(t,"merchantId",-1)})),l=(0,i.P1)(u,(function(t){return o()(t,"name","")})),f=(0,i.P1)(u,(function(t){return o()(t,"cashbackNotifierClosedAt",null)})),p=(0,i.P1)(u,(function(t){return!!o()(t,"popupEnabled")})),h=(0,i.P1)(u,(function(t){return o()(t,"friendlyNotifierEnabled",!1)})),d=(0,i.P1)(u,(function(t){return o()(t,"compliancePopupEnabled",!1)})),v=(0,i.P1)(u,p,(function(t,e){return!!o()(t,"cashbackNotifierEnabled",e)})),m=(0,i.P1)(u,(function(t){return!!o()(t,"confirmationPopupEnabled")})),g=(0,i.P1)(u,(function(t){return!!o()(t,"standDown",!1)})),y=(0,i.P1)(u,(function(t){return o()(t,"cashback",null)})),b=(0,i.P1)(y,(function(t){return Boolean(t&&parseFloat(t.amount))})),w=(0,i.P1)(f,(function(t){if(!t)return!0;var e=(0,c.Dy)();return"number"==typeof t&&e-t>a.PJX})),E=(0,i.P1)(u,(function(t){return!!o()(t,"isTaobao")})),_=function(t){var e,n;if(null==t||!t.oldCashback)return!1;var r=parseFloat(null===(e=t.cashback)||void 0===e?void 0:e.amount),o=parseFloat(null===(n=t.oldCashback)||void 0===n?void 0:n.amount);return r>0&&o>0&&r>o},x=(0,i.P1)(u,(function(t){return o()(t,"disableNotifierOpened",!1)}));(0,i.P1)(u,(function(t){return o()(t,"inBrowserCrawlerEnabled",!1)}))},26846:
/*!*******************************************!*\
  !*** ./src/shared/selectors/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{pF:()=>O,FO:()=>k,go:()=>C,BD:()=>P,Lz:()=>L,_t:()=>S,Ci:()=>j,cY:()=>R,Ay:()=>F,Mp:()=>M,yn:()=>D,BF:()=>U,_P:()=>B,hq:()=>H,hb:()=>Z,kS:()=>G,j_:()=>V,f6:()=>X,NQ:()=>z,WZ:()=>K,UE:()=>W,hv:()=>q});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! lodash/cloneDeep */50361),u=n.n(c),s=n(/*! lodash/get */27361),l=n.n(s),f=n(/*! lodash/isEmpty */41609),p=n.n(f),h=n(/*! lodash/isEqual */18446),d=n.n(h),v=n(/*! reselect */22222),m=n(/*! reselect */44815),g=n(/*! ../constants/apiStatus */90623),y=n(/*! ./tabs */45887),b=n(/*! ../urls */4536),w=n(/*! ./activation */83582),E=n(/*! ./experiments */6688),_=n(/*! ./merchant */96965);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var O=function(t){return t.merchants},k=(0,v.P1)(O,(function(t){var e=t.byId;return u()(e)})),C=(0,v.P1)(O,k,(function(t,e){return t.all.map((function(t){return e[t]})).filter(Boolean)})),T=(0,v.P1)(O,k,(function(t,e){return t.topIds.map((function(t){return e[t]})).filter(Boolean)})),P=(0,v.P1)(O,k,(function(t,e){return t.personalRecommendationIds.map((function(t){return e[t]})).filter(Boolean)})),I=function(t,e){return e.url},N=function(t,e){return null==e?void 0:e.id};var A,L=(0,v.P1)(k,N,(function(t,e){return t[e]})),S=((0,v.P1)([C],(function(t){return t.filter((function(t){return t.isTaobao}))})),(0,v.wN)(m.PW,d())([C,I,function(t,e){return(0,b.lb)(e.url)}],(function(t,e,n){if(n){var r=a()(n,2),o=r[0],i=r[1],c=t.filter((function(t){var n=t.urlPattern?new RegExp(t.urlPattern):null;return(o.indexOf(t.urlDomain)>=0||i.indexOf(t.urlDomain)>=0)&&n&&n.test(e)}));if(c.length)return u=c,s=a()(u,1)[0],u.forEach((function(t){t.rx>s.rx&&(s=t)})),s}var u,s;return null}))),j=(0,v.P1)((function(t,e){return e.merchant}),I,y.jv,(function(t,e,n){var r=e||n;return t&&t.metadata&&t.metadata.confirmationUrlsAndPatterns&&Array.isArray(t.metadata.confirmationUrlsAndPatterns)&&t.metadata.confirmationUrlsAndPatterns.find((function(t){return!!t&&!!t.confirmationUrlPattern&&new RegExp(t.confirmationUrlPattern).test(r)}))||{}})),R=(0,v.P1)([j],(function(t){return!p()(t)})),F=((0,v.P1)([function(t){return t},C,I],(function(t,e,n){return e.find((function(e){return R(t,{merchant:e,url:n})}))})),(0,v.P1)(L,(function(t){return t})),(0,v.P1)([C,N],(function(t,e){return t.find((function(t){var n=Object.keys(t.partnershipStores);return n.length>0&&n.indexOf("".concat(e))>-1}))})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.merchant}],(function(t,e,n){var r;if(null==n||null===(r=n.metadata)||void 0===r||!r.checkReferrer)return!1;if(!e)return!0;var o=S(t,{url:e});return!((0,b.Sj)(t.cc,e)||(null==o?void 0:o.merchantId)===n.merchantId)})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.currentUrl},function(t,e){return e.merchant}],(function(t,e,n,r){var o;if(null==r||null===(o=r.metadata)||void 0===o||!o.checkReferrer)return!1;if(!e)return!0;var i=(0,b.Sj)(t.cc,e),a="booking-com"===r.shortname,c=Boolean(new URL(e).searchParams.get("aid")),u=Boolean(new URL(n).searchParams.get("aid"));return!(i||!a)&&!(c&&u)})),(0,v.P1)([function(t,e){return e.merchant},w.tm,w.EJ],(function(t,e,n){if(!t||!e)return t;var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),i=t.partnershipStores[n.partnershipId];return r.activationUrl=i.activationUrl,r.activationUrl=i.activationUrl,r.cashbackAmount=i.cashbackAmount,r.cashbackAmount=i.cashbackAmount,r.cashbackHeader=i.cashbackHeader,r.reActivateX=i.reActivateX,r.cashbackTiers=i.cashbackTiers,r.cashbackTiers=i.cashbackTiers,r.cashback=i.cashback,r}))),M=((0,v.P1)([function(t,e){return e.merchant}],(function(t){return t&&t.metadata.reloadTabs})),(0,v.P1)(L,(function(t){return t&&t.standDownAt})),(0,v.P1)(L,(function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)}))),D=(0,v.P1)([T],(function(t){return t.filter((function(t){var e;return!!parseFloat(null==t||null===(e=t.cashback)||void 0===e?void 0:e.amount)}))})),U=(0,v.P1)([function(t,e){return e.elements.filter((function(t){return!t.getAttribute("shopback-serp")}))},function(t,e){return e.serpDomainObj},function(t){return t}],(function(t,e,n){var r=[];return t.forEach((function(t){var o,i,c=null!==(o=null===(i=t.querySelector(e.serpLinkPattern))||void 0===i?void 0:i.textContent)&&void 0!==o?o:"",u=c.split("\u203a"),s=a()(u,1)[0].trim();"yahoo"===e.domain||"naver"===e.domain?c="https://".concat(s):"google"===e.domain&&(c=s);var l=S(n,{url:c}),f=(0,E.Zb)(n,{merchantId:null==l?void 0:l.merchantId});l&&!1!==l.isSerpEnabled&&!f&&r.push({searchItemElement:t,merchant:l})})),r})),B=((0,v.P1)([C],(function(t){var e={};return t.forEach((function(t){e[t.merchantId]={logoUrl:t.logoUrl,activationUrl:t.activationUrl,hasCashback:!!t.cashback&&!!parseFloat(t.cashback.amount)}})),e})),(0,v.P1)(C,(function(t,e){return e.affiliateId}),(function(t,e){return t.find((function(t){return t.affiliatedId===e}))})),(0,v.P1)([S],(function(t){return t?t.merchantId:-1}))),H=(0,v.P1)(O,(function(t){return l()(t,"stats")})),Z=(0,v.P1)(H,(function(t){return l()(t,"topMerchantsApiStatus",g.WI)})),G=(0,v.P1)(H,(function(t){return l()(t,"isPersonalRecommendationLoading",!1)})),V=(0,v.P1)(L,(function(t){return l()(t,"tnc")})),X=(0,v.P1)(H,(function(t){return l()(t,"isTnCLoading",!1)})),z=(0,v.P1)(H,(function(t){return l()(t,"tncApiStatus",g.WI)})),K=((0,v.P1)(H,(function(t){return l()(t,"merchantsDetailApiStatus",g.WI)})),(0,v.P1)(L,(function(t){return l()(t,"currentOffer",{})})),(0,v.P1)(L,(function(t){return l()(t,"betterComparisonOffer",{})})),(0,v.P1)(L,(function(t){return l()(t,"worseComparisonOffer",{})})),(0,v.P1)(L,(function(t){return l()(t,"matchedPrograms",[])})),(0,v.P1)((A=L,function(t,e){return p()(t)?null:A(t,e)}),(function(t,e){return e.merchant}),(function(t,e){var n=t||e||{},r=n.merchantId,o=n.name,i=n.cashback;return{merchant_id:r||null,merchant_name:o||null,is_affiliate_merchant:!!parseFloat(null==i?void 0:i.amount)||!1}}))),W=(0,v.P1)(O,k,(function(t,e){var n,r=t.upsizedIds;return(null==r||null===(n=r.map)||void 0===n?void 0:n.call(r,(function(t){return null==e?void 0:e[t]})).filter((function(t){return!!t&&(0,_.ki)(t)})))||[]})),q=(0,v.P1)(H,(function(t){return l()(t,"isUpsizedMerchantsLoading",!1)}));(0,v.P1)(H,(function(t){return l()(t,"upsizedMerchantApiStatus",g.WI)})),(0,v.P1)(O,(function(t){return t.etag}))},93367:
/*!******************************************!*\
  !*** ./src/shared/selectors/notifier.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{qF:()=>l,TU:()=>f,LA:()=>p,if:()=>h});var r=n(/*! reselect */22222),o=n(/*! ./activation */83582),i=n(/*! ./amsNotifier */68093),a=n(/*! ./experiments */6688),c=n(/*! ./merchant */96965),u=n(/*! ./permission */67522),s=(0,r.P1)(o.pK,u.V7,c.hY,c.hA,(function(t,e,n,r){return!(t||e||n||!r)})),l=(0,r.P1)(s,c.wA,(function(t,e){return t&&e})),f=(0,r.P1)(u.V7,c.hY,c.wA,i.A1,(function(t,e,n,r){return!t&&!e&&(r&&n)})),p=(0,r.P1)(s,c.Jz,c.V2,o.r6,i.FU,(function(t,e,n,r,o){return t&&e&&n&&!r&&!o})),h=((0,r.P1)(s,c.Jz,(function(t,e){return t&&e})),(0,r.P1)(c.RX,a.IM,c.V2,o.GM,(function(t,e,n,r){return(t||e)&&n&&!r})));(0,r.P1)([function(t){return t.standDownAffiliateNetworks},function(t,e){return e.tabId}],(function(t,e){return t[e]}))},67522:
/*!********************************************!*\
  !*** ./src/shared/selectors/permission.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{nu:()=>a,V7:()=>c,Cx:()=>u});var r=n(/*! reselect */22222),o=n(/*! ../constants */62620),i=function(t,e){if(e.merchant)return t.permission[e.merchant.merchantId]},a=function(t){return Object.keys(t.permission).length>0},c=(0,r.P1)([i],(function(t){return!!t})),u=(0,r.P1)([i],(function(t){if(t){if(!t.ts)return!0;var e=t.ts;return Date.now()-e>o.NkW}return!1}))},89489:
/*!************************************************!*\
  !*** ./src/shared/selectors/settings/index.js ***!
  \************************************************/(t,e,n)=>{n.d(e,{Gw:()=>s,nz:()=>l,jM:()=>f,wJ:()=>h,bS:()=>d,hT:()=>v,kv:()=>m,TQ:()=>g});var r=n(/*! reselect */22222),o=n(/*! semver/functions/lt */21544),i=n.n(o),a=n(/*! shared/urls */4536),c=n(/*! ../cc */49485),u=n(/*! ../extensionMeta */51693),s=function(t){return t.settings},l=(0,r.P1)(s,(function(t){return t.cashbackDisableReasons||[]})),f=(0,r.P1)(s,(function(t){return t.minSupportVersion})),p=(0,r.P1)(s,(function(t){return!!t.showNonFunctionalIcon})),h=(0,r.P1)(u.bo,f,p,(function(t,e,n){return i()(t,e)&&n})),d=(0,r.P1)(s,(function(t){return t.postInstallUrl||a.UL})),v=(0,r.P1)(s,c.q,(function(t,e){return t.postInstallTooltipImgUrl||a.lq[e.toUpperCase()]})),m=(0,r.P1)(c.q,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SG";return a.y7[t]})),g=((0,r.P1)(s,(function(t){return t&&t.trackingSessionTimeout})),(0,r.P1)(s,(function(t){return t.amplitudeExperimentsKeys||[]})));(0,r.P1)(s,(function(t){return t.optInPermissionNotifierShown})),(0,r.P1)(s,(function(t){return t.etag}))},40062:
/*!***************************************************************!*\
  !*** ./src/shared/selectors/settings/serviceEnableCountry.js ***!
  \***************************************************************/(t,e,n)=>{n.d(e,{OY:()=>f,tV:()=>p,CW:()=>h,Cq:()=>d,Bp:()=>v,OU:()=>m,G$:()=>g,y8:()=>y});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! semver/functions/gte */25903),c=n.n(a),u=n(/*! shared/constants */62620),s=n(/*! ../extensionMeta */51693),l=n(/*! ./ */89489),f=function(){return u.G9E},p=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.aliExpress)})),h=(0,i.P1)(l.bS,s.bo,l.jM,(function(t,e,n){return u.G9E&&window.location.pathname===t&&c()(e,n)})),d=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.showAmsNotifier)})),v=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableVoucher)})),m=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableWatchlist)})),g=((0,i.P1)(l.Gw,(function(t){return o()(t,"enableInBrowserCrawler",!1)})),(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableLogForTrack)})),(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableNewRegion)})),(0,i.P1)(l.Gw,(function(t){return new Set(t.enableCountries)}))),y=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorInContent)}));(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorWithWebMessage)}))},20045:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/userPreferences.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{nl:()=>i,g6:()=>a});var r=n(/*! reselect */22222),o=n(/*! ./ */89489),i=(0,r.P1)(o.Gw,(function(t){return t.userPreferences})),a=(0,r.P1)(i,(function(t){return t.cookiesEnabled}));(0,r.P1)(i,(function(t){return t.eventsEnabled})),(0,r.P1)(i,(function(t){return t.personalDataEnabled}))},80905:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/websitePatterns.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{SL:()=>a,KT:()=>c,Ql:()=>s,wg:()=>l,xf:()=>h,am:()=>v,WW:()=>m});var r=n(/*! reselect */22222),o=n(/*! ../tabs */45887),i=n(/*! ./ */89489),a=(0,r.P1)(i.Gw,(function(t){return t.websitePatterns})),c=(0,r.P1)(a,(function(t){return t.aliExpressNavigator})),u=((0,r.P1)(c,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),(0,r.P1)(c,(function(t){var e=t.productPageUrls;return e.length?e.map((function(t){return new RegExp(t)})):[]}))),s=(0,r.P1)(u,o.jv,(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),l=(0,r.P1)(u,o.jv,(function(t,e){return e.url}),(function(t,e,n){var r=n||e;if(!t.length)return null;for(var o=null,i=0;i<t.length&&!(o=r.match(t[i]));++i);return o&&o.groups?o.groups.pid:null})),f=(0,r.P1)(a,(function(t){return t.aliExpressCartPageIndicator})),p=(0,r.P1)(f,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),h=(0,r.P1)(p,(function(t,e){return e.url}),(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),d=(0,r.P1)(f,(function(t){return t.cssSelectors||{}})),v=(0,r.P1)(d,(function(t){return t.productField})),m=(0,r.P1)(d,(function(t){return t.productLink}))},96884:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/subscription.js + 1 modules ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{u7:()=>m,Rj:()=>v,zM:()=>h,Yc:()=>d});var r=n(27361),o=n.n(r),i=n(22222),a="SUBSCRIPTION",c="subscribed_current_offer_type_subscription",u="unsubscribed_better_offer_type_subscription",s="subscription",l=n(26846),f=function(t,e){return null==t?void 0:t.map((function(t){var n=null==e?void 0:e.find((function(e){return(null==t?void 0:t.label)===(null==e?void 0:e.label)}));return{label:null==t?void 0:t.label,currentDisplayValue:null==t?void 0:t.displayText,betterDisplayValue:null==n?void 0:n.displayText}}))},p=(0,i.P1)(l.Lz,(function(t){var e,n,r,o=null;(null==t||null===(e=t.matchedPrograms)||void 0===e?void 0:e.includes(s))&&((null==t||null===(r=t.currentOffer)||void 0===r?void 0:r.offerType)===a&&(o=c));return(null==t||null===(n=t.betterComparisonOffer)||void 0===n?void 0:n.offerType)===a&&(o=u),o})),h=(0,i.P1)(p,(function(t){return t===c||t===u})),d=(0,i.P1)(p,(function(t){return t===u})),v=(0,i.P1)(p,(function(t){return t===c})),m=(0,i.P1)(l.Lz,p,(function(t,e){switch(e){case c:var n,r,i=(null==t||null===(n=t.currentOffer)||void 0===n?void 0:n.cashbackTiers)||[],a=(null==t||null===(r=t.worseComparisonOffer)||void 0===r?void 0:r.cashbackTiers)||[];return f(a,i);case u:var s,l,p=(null==t||null===(s=t.currentOffer)||void 0===s?void 0:s.cashbackTiers)||[],h=(null==t||null===(l=t.betterComparisonOffer)||void 0===l?void 0:l.cashbackTiers)||[];return f(p,h);default:return o()(t,"cashbackTiers",[])}}))},45887:
/*!**************************************!*\
  !*** ./src/shared/selectors/tabs.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{jv:()=>c,f4:()=>u,k3:()=>s,ed:()=>l,Lo:()=>f});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=(0,i.P1)((function(t){return t.tabs}),(function(t,e){return e.tabId}),(function(t,e){return t[e]})),c=(0,i.P1)(a,(function(t){return o()(t,"url",null)})),u=(0,i.P1)(a,(function(t){return(null==t?void 0:t.prevUrl)||(null==t?void 0:t.openerUrl)||null})),s=((0,i.P1)(a,(function(t){return o()(t,"openerUrl",null)})),(0,i.P1)(a,(function(t){return o()(t,"merchantId",null)}))),l=((0,i.P1)(a,(function(t){return o()(t,"merchantName",null)})),(0,i.P1)(a,(function(t){return o()(t,"shoppingtripId",null)})),(0,i.P1)(a,(function(t){return!!o()(t,"autoClose",!1)}))),f=(0,i.P1)(a,(function(t){return void 0===t}))},11775:
/*!****************************************!*\
  !*** ./src/shared/selectors/taoBao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{Vj:()=>c,rA:()=>s,oF:()=>l,n2:()=>f,xK:()=>p,tf:()=>h,Ne:()=>v,Dp:()=>m,lQ:()=>g,xg:()=>y,x6:()=>_,wm:()=>x,BJ:()=>O,n6:()=>k,cK:()=>C});var r=n(/*! reselect */22222),o=function(t,e){return e.url},i=function(t,e){return e.referrer},a=function(t){return t.taoBao},c=function(t){return t.settings.taoBao2021},u=(0,r.P1)([c],(function(t){return t.productPagePatterns})),s=(0,r.P1)([c],(function(t){return t.shoppingCartPagePatterns})),l=(0,r.P1)([a,function(t,e){return e.tabId}],(function(t,e){return t.activatedProductIdInTab[e]})),f=(0,r.P1)([o],(function(t){return new URL(t).searchParams.get("id")||""})),p=(0,r.P1)([a],(function(t){return!!t.notifierOpened})),h=(0,r.P1)([a],(function(t){return!!t.confirmationNotifierOpened})),d=(0,r.P1)([a,f],(function(t,e){return t.products[e]})),v=(0,r.P1)([a],(function(t){return t.products})),m=((0,r.P1)([a],(function(t){return Object.keys(t.products)})),(0,r.P1)([u,f,o],(function(t,e,n){return!!(e&&t&&t.some((function(t){return new RegExp(t).test(n)})))}))),g=(0,r.P1)([c,o],(function(t,e){var n=new URL(e);return n.searchParams.has(t.aliTrackIdParamKey)&&n.searchParams.get(t.aliTrackIdParamKey).startsWith(t.aliTrackIdParamValue)})),y=(0,r.P1)([function(t,e){return e.merchant}],(function(t){return!(!t||!t.popupEnabled)})),b=(0,r.P1)([i],(function(t){return!(!t||!new URL(t).searchParams.get("key"))})),w=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.aiTaoBaoSearchPattern).test(e)})),E=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.taoBaoCouponPageUrlPattern).test(e)})),_=(0,r.P1)([g,w,E,b],(function(t,e,n,r){return!(!t||!(e&&r||n))})),x=(0,r.P1)([m,d,_],(function(t,e,n){return!(!t||n||e&&!e.apiError)})),O=(0,r.P1)([s,o],(function(t,e){return t.some((function(t){return new RegExp(t).test(e)}))})),k=(0,r.P1)([a],(function(t){return t.closeTaoBaoNotifierAt})),C=(0,r.P1)([a],(function(t){var e,n;return null!==(e=null==t||null===(n=t.settings)||void 0===n?void 0:n.snoozed)&&void 0!==e?e:{}}))},45786:
/*!**************************************!*\
  !*** ./src/shared/selectors/user.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{jl:()=>c,Yv:()=>u,bG:()=>s,zw:()=>l,kv:()=>f,UN:()=>p,dC:()=>h});var r=n(/*! reselect */22222),o=n(/*! ../constants/apiStatus */90623),i=function(t){return t.user},a=function(t,e){return e.cc},c=(0,r.P1)([i],(function(t){return!!t.token})),u=(0,r.P1)([i,a],(function(t,e){return!!t.loginHistories[e]})),s=((0,r.P1)([i,a],(function(t,e){return t.loginHistories[e]})),(0,r.P1)(i,(function(t){return null==t?void 0:t.token})),(0,r.P1)(i,(function(t){return null==t?void 0:t.refreshToken})),(0,r.P1)(i,(function(t){return null==t?void 0:t.info}))),l=((0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.id})),(0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.uuid})),(0,r.P1)(s,(function(t){return(null==t?void 0:t.cashbacks)||[]}))),f=((0,r.P1)(s,(function(t){var e,n;return(null==t||null===(e=t.programs)||void 0===e||null===(n=e.subscription)||void 0===n?void 0:n.is_enrolled)||!1})),(0,r.P1)(i,(function(t){return(null==t?void 0:t.isFetchingUserInfo)||!1}))),p=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsFetching)||!1})),h=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsError)||!1}));(0,r.P1)(i,(function(t){return(null==t?void 0:t.recentCbsAPIStatus)||o.WI})),(0,r.P1)(i,(function(t){return(null==t?void 0:t.accountAPIStatus)||o.WI}))},7358:
/*!******************************************!*\
  !*** ./src/shared/selectors/vouchers.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{Fq:()=>s,wi:()=>f,_S:()=>p,op:()=>h,AI:()=>d,vh:()=>v,u7:()=>m});var r=n(/*! lodash/isObject */13218),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants/apiStatus */90623),c=function(t){return t.vouchers},u=function(t){return t.vouchers.settings},s=(0,i.P1)((function(t){return t.settings}),(function(t){return(null==t?void 0:t.voucherMerchants)||{}})),l=function(t,e){return e.merchantName},f=(0,i.P1)([s,function(t,e){return e.url}],(function(t,e){var n;if(!e)return"";var r=new URL(e),o=r.hostname,i=r.pathname;if(1===(null==t||null===(n=t[o])||void 0===n?void 0:n.length))return t[o][0].merchantName;if(o in t){var a=t[o],c="".concat(o).concat(i),u=a.find((function(t){return t.merchantUrl.replace(/^https?:\/\//,"").split("/").every((function(t){return c.indexOf(t)>-1}))}));if(u)return(null==u?void 0:u.merchantName)||""}return""})),p=(0,i.P1)([c,l],(function(t,e){return o()(t)&&e in t?t[e]:{}})),h=(0,i.P1)([u,l],(function(t,e){var n,r;return null===(n=null==t||null===(r=t[e])||void 0===r?void 0:r.display)||void 0===n||n})),d=(0,i.P1)([c,l],(function(t,e){var n;return(null==t||null===(n=t[e])||void 0===n?void 0:n.apiStatus)||a.WI})),v=(0,i.P1)([u,l],(function(t,e){var n,r;return null!==(n=null==t||null===(r=t[e])||void 0===r?void 0:r.position)&&void 0!==n?n:{y:.1}})),m=(0,i.P1)([u],(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}}))},64616:
/*!*************************************************!*\
  !*** ./src/shared/styledComponents/Skeleton.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{O:()=>i,L:()=>a});var r=n(/*! styled-components */23588),o=(0,r.F4)(["0%{transform:translateX(-100%);}60%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),i=r.ZP.div.withConfig({displayName:"Skeleton",componentId:"edinct-0"})(["&&{width:",";height:",";margin:",";border-radius:",";display:",";background:linear-gradient(90deg,#efefef,transparent);overflow:hidden;}&&:after{width:",";height:",";content:'';animation:"," 1.5s linear 0.5s infinite;background:linear-gradient(90deg,transparent,#f5f5f5,transparent);}"],(function(t){return t.width||"auto"}),(function(t){return t.height}),(function(t){return t.margin}),(function(t){return t.borderRadius||"3px"}),(function(t){return t.display||"flex"}),(function(t){return t.width||"auto"}),(function(t){return t.height}),o),a=(0,r.ZP)(i).withConfig({displayName:"Skeleton__CircleSkeleton",componentId:"edinct-1"})(["&&{border-radius:50%;}"])},43793:
/*!********************************************!*\
  !*** ./src/shared/styledComponents/css.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{vL:()=>o,Z4:()=>i,_R:()=>a});var r=n(/*! styled-components */23588),o=(0,r.iv)(["display:flex;flex-direction:row;"]),i=(0,r.iv)(["display:flex;flex-direction:column;"]),a=(0,r.iv)(["display:flex;justify-content:center;align-items:center;"])},20136:
/*!**********************************************!*\
  !*** ./src/shared/styledComponents/index.js ***!
  \**********************************************/(t,e,n)=>{n.d(e,{Dz:()=>s,NH:()=>l,x1:()=>f,zl:()=>p,sX:()=>h,z4:()=>d,AE:()=>v,xv:()=>m,zx:()=>g,PZ:()=>y,Dd:()=>w});var r=n(/*! polished */56978),o=n(/*! styled-components */23588),i=n(/*! ../../assets/shared/close3.png */19765),a=n(/*! ../constants */62620),c=n(/*! ./css */43793),u=null===!1&&!1,s=o.ZP.div.withConfig({displayName:"styledComponents__EmptyWidth",componentId:"jmlbk0-0"})(["&&{width:",";}"],(function(t){return t.width})),l=o.ZP.div.withConfig({displayName:"styledComponents__EmptyHeight",componentId:"jmlbk0-1"})(["&&{min-height:",";}"],(function(t){return t.height})),f=o.ZP.div.withConfig({displayName:"styledComponents__Line",componentId:"jmlbk0-2"})(["&&{width:",";height:",";border:none;border-top:solid 1px #ebebeb;background-color:",";}"],(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"1px"}),(function(t){return t.backgroundColor?t.backgroundColor:null})),p=((0,o.ZP)(f).withConfig({displayName:"styledComponents__DottedLine",componentId:"jmlbk0-3"})(["&&{border-top:dotted 2px #ebebeb;width:",";}"],(function(t){return t.width?t.width:"100px"})),o.ZP.div.withConfig({displayName:"styledComponents__FlexRowContainer",componentId:"jmlbk0-4"})(["&&{",";flex:",";width:",";margin:",";}"],c.vL,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.margin?t.margin:null}))),h=(0,o.ZP)(p).withConfig({displayName:"styledComponents__FlexRowCenterContainer",componentId:"jmlbk0-5"})(["&&{",";}"],c._R),d=o.ZP.div.withConfig({displayName:"styledComponents__FlexColumnContainer",componentId:"jmlbk0-6"})(["&&{",";flex:",";width:",";height:",";margin:",";}"],c.Z4,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.height?t.height:null}),(function(t){return t.margin?t.margin:null})),v=(0,o.ZP)(d).withConfig({displayName:"styledComponents__FlexColumnCenterContainer",componentId:"jmlbk0-7"})(["&&{",";}"],c._R),m=(o.ZP.div.withConfig({displayName:"styledComponents__CenterScreenContainer",componentId:"jmlbk0-8"})(["&&{",";position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647 !important;background-color:",";}"],c._R,(function(t){return t.backgroundColor?t.backgroundColor:null})),o.ZP.div.withConfig({displayName:"styledComponents__Text",componentId:"jmlbk0-9"})(["&&{",";}"],(function(t){var e=t.width,n=void 0===e?"unset":e,r=t.height,i=void 0===r?"unset":r,c=t.fontFamily,s=void 0===c?u?a.kqf:a.utx:c,l=t.fontSize,f=void 0===l?"16px":l,p=t.fontWeight,h=void 0===p?"normal":p,d=t.fontStyle,v=void 0===d?"normal":d,m=t.fontStretch,g=void 0===m?"normal":m,y=t.lineHeight,b=void 0===y?"normal":y,w=t.letterSpacing,E=void 0===w?"normal":w,_=t.textAlign,x=void 0===_?"center":_,O=t.color,k=void 0===O?"#40485a":O,C=t.cursor,T=void 0===C?"unset":C,P=t.margin,I=void 0===P?"unset":P,N=t.whiteSpace,A=void 0===N?"unset":N,L=t.customStyle,S=void 0===L?{}:L;return(0,o.iv)(["width:",";height:",";font-family:"," !important;font-size:",";font-weight:",";font-style:",";font-stretch:",";line-height:",";letter-spacing:",";text-align:",";color:",";cursor:",";margin:",";white-space:",";",","],n,i,s,f,h,v,g,b,E,x,k,T,I,A,S)}))),g=o.ZP.div.withConfig({displayName:"styledComponents__Button",componentId:"jmlbk0-10"})(["&&{",";}"],(function(t){var e=t.position,n=void 0===e?"unset":e,r=t.top,i=void 0===r?"unset":r,a=t.bottom,c=void 0===a?"unset":a,u=t.left,s=void 0===u?"unset":u,l=t.right,f=void 0===l?"unset":l,p=t.width,h=void 0===p?"262px":p,d=t.height,v=void 0===d?"40px":d,m=t.borderRadius,g=void 0===m?"3px":m,y=t.backgroundColor,b=void 0===y?"#ff3407":y,w=t.backgroundImage,E=void 0===w?"unset":w,_=t.color,x=void 0===_?"unset":_,O=t.cursor,k=void 0===O?"unset":O,C=t.margin,T=void 0===C?"unset":C;return(0,o.iv)(["display:flex;justify-content:center;align-items:center;position:",";top:",";bottom:",";left:",";right:",";width:",";height:",";border-radius:",";background-color:",";background-image:",";color:",";cursor:",";margin:",";"],n,i,c,s,f,h,v,g,b,E,x,k,T)})),y=o.ZP.div.withConfig({displayName:"styledComponents__CloseButton",componentId:"jmlbk0-11"})(["&&{background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;width:"," !important;height:"," !important;position:absolute !important;top:","!important;right:","!important;cursor:pointer !important;z-index:2147483647 !important;}"],i,(function(t){return t.width?t.width:"14px"}),(function(t){return t.height?t.height:"14px"}),(function(t){return t.top?t.top:"56px"}),(function(t){return t.right?t.right:"16px"})),b=o.ZP.div.withConfig({displayName:"styledComponents__HalfCircle",componentId:"jmlbk0-12"})(["&&{width:","px;height:","px;background-color:",";}"],(function(t){return t.size}),(function(t){return 2*t.size}),(function(t){return t.backgroundColor?t.backgroundColor:"#9e978e"})),w=((0,o.ZP)(b).withConfig({displayName:"styledComponents__RightHalfCircle",componentId:"jmlbk0-13"})(["&&{border-bottom-right-radius:","px;border-top-right-radius:","px;background-image:linear-gradient(to top right,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),(0,o.ZP)(b).withConfig({displayName:"styledComponents__LeftHalfCircle",componentId:"jmlbk0-14"})(["&&{border-bottom-left-radius:","px;border-top-left-radius:","px;background-image:linear-gradient(to top left,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),o.ZP.div.withConfig({displayName:"styledComponents__GradientGreyRectangle",componentId:"jmlbk0-15"})(["&&{width:",";height:",";position:absolute;background:-webkit-linear-gradient(#ffffff,90%,#f8f8f8);background:-o-linear-gradient(#ffffff,90%,#f8f8f8);background:-moz-linear-gradient(#ffffff,90%,#f8f8f8);background:linear-gradient(#ffffff,90%,#f8f8f8);z-index:0;}"],(function(t){return t.width?t.width:"600px"}),(function(t){return t.height?t.height:"40px"})),o.ZP.div.withConfig({displayName:"styledComponents__CheckboxDiv",componentId:"jmlbk0-16"})(["&&{display:flex;justify-content:",";align-items:",";width:",";height:",";border-radius:",";background-color:",";cursor:",";}"],(function(t){return t.justifyContent?t.justifyContent:"left"}),(function(t){return t.alignItems?t.alignItems:"left"}),(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"40px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.backgroundColor?t.backgroundColor:"#ffffff"}),(function(t){return t.cursor?t.cursor:null})),o.ZP.input.attrs((function(t){return{type:t.type||"checkbox"}})).withConfig({displayName:"styledComponents__Checkbox",componentId:"jmlbk0-17"})(["&&{top:0;left:0;cursor:pointer !important;display:block !important;opacity:"," !important;position:"," !important;width:"," !important;height:"," !important;border-radius:",";border:solid 1px #d6d6d6 !important;background-color:#ffffff !important;padding:"," !important;margin:",";appearance:",";}"],(function(t){return t.opacity?t.opacity:"100"}),(function(t){return t.position?t.position:"static"}),(function(t){return t.width?t.width:"16px"}),(function(t){return t.height?t.height:"16px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.padding?t.padding:"0"}),(function(t){return t.margin?t.margin:"0 0 0 0"}),(function(t){return t.appearance?t.appearance:"none"})),o.ZP.div.withConfig({displayName:"styledComponents__SearchResultNumber",componentId:"jmlbk0-18"})(["&&{font-family:",";min-height:22px;font-size:16px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:1.38;letter-spacing:normal;color:#40485a;margin-left:16px;margin-bottom:8px;display:",";}"],a.utx,(function(t){return t.displayResult})),(0,o.ZP)(m).withConfig({displayName:"styledComponents__EllipsisText",componentId:"jmlbk0-19"})(["&&{",";}"],(0,r.LH)()))},4536:
/*!****************************!*\
  !*** ./src/shared/urls.js ***!
  \****************************/(t,e,n)=>{n.d(e,{Pr:()=>f,UL:()=>p,lq:()=>h,y7:()=>v,Sj:()=>m,XF:()=>g,Eu:()=>y,yw:()=>b,kJ:()=>w,lb:()=>E,tn:()=>_,n1:()=>x,W4:()=>O,ub:()=>k,oq:()=>C,Mv:()=>T,qq:()=>P,U:()=>I,iq:()=>N,A2:()=>A,vo:()=>L});var r=n(/*! lodash/isArray */1469),o=n.n(r),i=n(/*! ./constants */62620),a=n(/*! ./constants/countries */53437),c=n(/*! ./envConfig */5281),u=(n(/*! ./utils/qs */31541),c.Z.API_HOST_XX),s=c.Z.EXTENSION_STORES,l=c.Z.HELP_CENTER,f=(c.Z.SAFARI_EXTENSION_HELP_CENTER_PAGE,c.Z.URL_COUNTRY_CODE,c.Z.URL_SIGN_UP),p=c.Z.URL_AFTER_INSTALL,h=c.Z.POST_INSTALL_TOOLTIP_IMG_URL,d=c.Z.SB_WEBSITE_XX,v=c.Z.ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL;c.Z.POST_UNINSTALL_URL;var m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(d[t]))},g=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{api:!0}).api?u:d;return"https://".concat(e[function(t){return u[t]?t:i.UFS}(t)])},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return d[t]},b=function(){return i.P0H?s.EDGE:i.D1p?s.FIREFOX:i.G9E?s.CHROME:""},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return l[t]},E=function(){return/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}))},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/login")},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/logout")},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/payment")},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/cashback")},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/account/subscription")},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return t===a.ZP.DE?"".concat(g(t,{api:!1}),"/freunde-werben"):"".concat(g(t,{api:!1}),"/referral/invite")},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;if(e){var n=new URL(e),r="".concat(n.pathname).concat(n.search),o=encodeURIComponent(r);return"".concat(g(t,{api:!1}),"/login?redirect=").concat(o)}return"".concat(g(t,{api:!1}),"/login")},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(g(t),"/whale/taobao/item-info/").concat(e)},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.UFS,n=new URL("".concat(g(e),"/whale/merchants"));return o()(t)&&t.length>0&&n.searchParams.set("merchantIds",t.join(",")),n.toString()},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(g(t,{api:!1}),"/health")}},91228:
/*!****************************************************!*\
  !*** ./src/shared/utils/activation.js + 2 modules ***!
  \****************************************************/(t,e,n)=>{n.d(e,{UO:()=>p,xc:()=>f,le:()=>h});n(50008),n(63038),n(48926);var r=n(34575),o=n.n(r),i=n(93913),a=n.n(i),c=n(44340),u=[c.C4.EXT_OPEN_MENU,c.C4.EXT_VIEW_MERCHANT_PAGE,c.C4.EXT_PROMPT_NOTIFIER_COMPARISON],s=function(t){var e=Math.floor(Date.now()/1e3);return{sessionId:t?t+e.toString():function(t){if(void 0!==t&&"number"==typeof t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="abcdefghijklmnopqrstuvwxyz",o=0;o<t-1;o++)e+=n.charAt(36*Math.random()%36);return e+r.charAt(26*Math.random()%26)}}(6)+e.toString(),createdAt:e}};new(function(){function t(){o()(this,t),this.sessionId=null,this.createdAt=-1,this.sessionTimeout=300}return a()(t,[{key:"checkAndGetSessionId",value:function(t,e){return!this.sessionId||this.isSessionExpired()?function(t){return u.includes(t)}(t)?(this.renew(e),this.sessionId):(this.revoke(),this.sessionId):(this.refresh(),this.sessionId)}},{key:"setTimeout",value:function(t){this.sessionTimeout=t}},{key:"renew",value:function(t){var e=s(t),n=e.sessionId,r=e.createdAt;this.sessionId=n,this.createdAt=r}},{key:"refresh",value:function(){this.createdAt=Math.floor(Date.now()/1e3)}},{key:"revoke",value:function(){this.sessionId=null,this.createdAt=-1}},{key:"isSessionExpired",value:function(){return Math.floor(Date.now()/1e3)-this.createdAt>this.sessionTimeout}},{key:"debug",value:function(){console.log("sessionId",this.sessionId),console.log("createAt",this.createdAt),console.log("sessionTimeout",this.sessionTimeout)}}]),t}());n(11713),n(62620);var l=n(92671);n(51693),n(45786),n(4536);var f=function(t){var e=t.merchant,n=t.utmMedium,r=t.cc,o=t.deeplink,i=t.isLoggedIn,a=t.isNewTab,c=t.unfocusedActivation;browser.runtime.sendMessage({merchant:e,utmMedium:n,cc:r,deeplink:o,isLoggedIn:i,isNewTab:a,unfocusedActivation:c,action:l.Dy})},p=function(t){var e=t.merchant,n=t.utmMedium,r=t.cc,o=t.deeplink,i=t.isLoggedIn,a=t.isNewTab,c=t.unfocusedActivation,u=t.sellerId,s=t.redirectUrl;browser.runtime.sendMessage({merchant:e,utmMedium:n,cc:r,deeplink:o,isLoggedIn:i,isNewTab:a,unfocusedActivation:c,sellerId:u,redirectUrl:s,action:l.BN})},h=function(t){var e=t.tabId,n=t.productId,r=t.merchant,o=t.utmMedium,i=t.cc,a=t.isLoggedIn;browser.runtime.sendMessage({tabId:e,productId:n,merchant:r,utmMedium:o,cc:i,isLoggedIn:a,action:l.s0})}},26426:
/*!*****************************************!*\
  !*** ./src/shared/utils/commonUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{Dy:()=>r});n(/*! @babel/runtime/helpers/typeof */50008),n(/*! @babel/runtime/helpers/asyncToGenerator */48926),n(/*! @babel/runtime/helpers/defineProperty */59713),n(/*! lodash/isArray */1469),n(/*! lodash/merge */82492);var r=function(){return Date.now()}},51905:
/*!******************************************!*\
  !*** ./src/shared/utils/countryUtils.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{$A:()=>o});var r=n(/*! ../constants/countries */53437),o=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.zO.includes(null==e||null===(t=e.toUpperCase)||void 0===t?void 0:t.call(e))}},28392:
/*!**********************************************************!*\
  !*** ./src/shared/utils/fetchUtils/index.js + 7 modules ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{E:()=>ot,Z:()=>at});var r=n(53131),o=n.n(r),i=n(59713),a=n.n(i),c=n(9669),u=n.n(c),s=n(82492),l=n.n(s),f=n(62620);const p={UNSUPPORTED_ERROR:900};var h=n(21934),d=n(4536),v=n(51905),m=n(8854),g=n(25903),y=n.n(g),b=n(51693),w=n(89489),E=function(t){var e=(0,b.bo)(t),n=(0,w.jM)(t);return y()(e,n)},_=n(50008),x=n.n(_),O=n(48926),k=n.n(O),C=n(94097),T=n.n(C),P=n(85061),I=n.n(P),N=n(36026),A=n.n(N),L=n(15327),S=n.n(L),j=n(64867);function R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */R=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&n.call(g,i)&&(v=g);var y=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==x()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(y,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,c,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e){return M.apply(this,arguments)}function M(){return(M=k()(R().mark((function t(e,n){var r,o;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",I()("Network Error",n,null,e));case 9:if(o={ok:r.ok,status:r.status,statusText:r.statusText,headers:new Headers(r.headers),config:n,request:e},!(r.status>=200&&204!==r.status)){t.next=34;break}t.t1=n.responseType,t.next="arraybuffer"===t.t1?14:"blob"===t.t1?18:"json"===t.t1?22:"formData"===t.t1?26:30;break;case 14:return t.next=16,r.arrayBuffer();case 16:case 20:case 24:case 28:case 32:return o.data=t.sent,t.abrupt("break",34);case 18:return t.next=20,r.blob();case 22:return t.next=24,r.json();case 26:return t.next=28,r.formData();case 30:return t.next=32,r.text();case 34:return t.abrupt("return",o);case 35:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function D(t){var e=new Headers(t.headers);if(t.auth){var n=t.auth.username||"",r=t.auth.password?decodeURI(encodeURIComponent(t.auth.password)):"";e.set("Authorization","Basic ".concat(btoa("".concat(n,":").concat(r))))}var o=t.method.toUpperCase(),i={headers:e,method:o};"GET"!==o&&"HEAD"!==o&&(i.body=t.data),t.mode&&(i.mode=t.mode),t.cache&&(i.cache=t.cache),t.integrity&&(i.integrity=t.integrity),t.redirect&&(i.integrity=t.redirect),t.referrer&&(i.referrer=t.referrer),(0,j.isUndefined)(t.withCredentials)||(i.credentials=t.withCredentials?"include":"omit");var a=T()(t.baseURL,t.url),c=S()(a,t.params,t.paramsSerializer);return new Request(c,i)}function U(t){return B.apply(this,arguments)}function B(){return(B=k()(R().mark((function t(e){var n,r,o;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=D(e),r=[F(n,e)],e.timeout&&e.timeout>0&&r.push(new Promise((function(t){setTimeout((function(){var r=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of ".concat(e.timeout,"ms exceeded");t(I()(r,e,"ECONNABORTED",n))}),e.timeout)}))),t.next=5,Promise.race(r);case 5:return o=t.sent,t.abrupt("return",new Promise((function(t,n){o instanceof Error?n(o):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,n,o):A()(t,n,o)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}u().defaults.headers.common[f.obn.X_SHOPBACK_AGENT]="sbconsumeragent/1.0",u().defaults.headers.common[f.obn.X_SHOPBACK_INTERNAL]="682a46b19b953306c9ee2e8deb0dc210",u().defaults.timeout=1e4;var H=function(){return u().create({adapter:U})},Z=function(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{extension:{loggerEnabled:!0}},o=r.cc,i={headers:a()({},f.obn.X_SHOPBACK_DOMAIN,(0,d.Eu)(o))};return Promise.resolve().then((function(){return n.ignoreCC?Promise.resolve():function(t){return new Promise((function(e,n){(0,v.$A)(t)?e():n({errorCode:p.UNSUPPORTED_ERROR,message:"Fetch with unsupported CC: ".concat(t,".")})}))}(o)})).then((function(){return t(l()({method:e},i,n))})).catch((function(t){if(u().isCancel(t))return Promise.reject(t);var e=t.message,o=t.errorCode,i=n.url;return h.ZP.error(r,"".concat(e,", URL: ").concat(i)),t.response?function(t,e){if(E(t)&&e instanceof Error){var n,r=(null===(n=e.response)||void 0===n?void 0:n.data)||{};m.Tb(e,{extra:{responseBody:{error:JSON.stringify(r)}}})}}(r,t):o!==p.UNSUPPORTED_ERROR&&function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(t)&&(e instanceof Error?m.Tb(e,n):e.status?m.uT("Fetch Error: ".concat(e.status," ").concat(e.statusText,", URL: ").concat(e.url),n):"string"==typeof e?m.uT(e,n):m.uT(JSON.stringify(e),n))}(r,"".concat(e,", URL: ").concat(i)),Promise.reject(t)}))}},G=n(1019),V=n(95346);function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K={};const W=function(t){return t.interceptors.request.use((function(t){if(t.signal&&t.signal.aborted)return t;var e=new URL(t.url).host,n=new URL(t.url).pathname,r="".concat(e).concat(n),o=K[r],i=new AbortController;return o&&(Date.now()<o?i.abort():delete K[r]),z(z({},t),{},{signal:i.signal})})),t.interceptors.response.use((function(t){return t}),(function(t){if(t.response&&(429===t.response.status||503===t.response.status)){var e=function(t){if(t){var e=parseInt(t,10);if(!Number.isNaN(e))return 1e3*e+Date.now();var n=new Date(t);if(!Number.isNaN(n.getTime()))return n}return null}(t.response.headers.get("Retry-After"));if(e){var n=new URL(t.config.url).pathname,r=new URL(t.config.url).host;K["".concat(r).concat(n)]=e}}return Promise.reject(t)})),t};var q=n(14284);function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var J="throttlingLastFetchTime",$={};q.Z.get(J).then((function(t){t&&($=t)}));var tt=function(t){return t.throttling.throttlingKey||t.url};const et=function(t){return t.interceptors.request.use((function(t){if(!t.throttling)return t;if(t.signal&&t.signal.aborted)return t;var e=t.throttling.throttlingInterval,n=tt(t),r=$[n],o=new AbortController;return r&&Date.now()-r<e&&o.abort(),Q(Q({},t),{},{signal:o.signal})})),t.interceptors.response.use((function(t){var e=t.config;if(e.throttling){var n=tt(e);$[n]=Date.now(),q.Z.debounceSet(J,$)}return t}),(function(t){if(t.config&&t.config.throttling){var e=t.config,n=tt(e);$[n]=Date.now(),q.Z.debounceSet(J,$)}return Promise.reject(t)})),t};var nt=function(t){var e,n,r="";if(null!==(e=t.response.data)&&void 0!==e&&e.errors&&t.response.data.errors.length>0)for(var o=0;o<t.response.data.errors.length;o+=1){var i=t.response.data.errors[o];"x-shopback-access-token"===i.param?r+="a, '".concat(i.value,"' "):"x-shopback-refresh-token"===i.param?r+="r, '".concat(i.value,"' "):r+="u, '".concat(i.value,"' ")}else r=null!==(n=t.response.data)&&void 0!==n&&n.error?t.response.data.error:"unknown error: ".concat(t.message);return r};var rt=function(t){return{get:o()(t,"GET"),post:o()(t,"POST"),put:o()(t,"PUT"),delete:o()(t,"DELETE"),patch:o()(t,"PATCH")}},ot=rt((function(t,e,n,r){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")||(null==n?void 0:n.cc),i=(null==n?void 0:n.user)||{},a=i.token,c=i.refreshToken,u=!!a,s=H();return s=et(s),(s=W(s)).defaults.headers.common[f.obn.X_SHOPBACK_CLIENT_USER_AGENT]=navigator.userAgent||"extension",r&&s.interceptors.response.use(function(t,e,n){return function(r){var o=((null==r?void 0:r.data)||{}).newAccessToken;return o&&n&&(t((0,V.Vz)(o)),t((0,V.ol)({cc:e,accessToken:o}))),r}}(r,o,u),function(t,e){return function(n){var r;return 401===(null==n||null===(r=n.response)||void 0===r?void 0:r.status)&&(t((0,G.trackSystemLogout)({logout_trigger:nt(n),country_code:e})),t((0,V.kS)(e)),t((0,V.xD)({cc:e}))),Promise.reject(n)}}(r,o)),s.defaults.headers.common[f.obn.X_SHOPBACK_ACCESS_TOKEN]=a||null,s.defaults.headers.common[f.obn.X_SHOPBACK_REFRESH_TOKEN]=c||null,Z(s)(t,e,n)})),it=H();it=et(it),it=W(it);const at=rt(Z(it))},38156:
/*!******************************************!*\
  !*** ./src/shared/utils/polyfillI18n.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{f:()=>i});var r=n(/*! lodash/hasIn */79095),o=n.n(r),i=function(t){o()(n.g.browser.i18n,"originalGetMessage")||Object.assign(n.g.browser.i18n,{originalGetMessage:browser.i18n.getMessage});Object.assign(n.g.browser.i18n,{getMessage:browser.i18n.getUILanguage().includes("zh")&&"HK"===t?function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=browser.i18n).originalGetMessage.apply(e,["hk_".concat(t)].concat(r))}:browser.i18n.originalGetMessage})}},31541:
/*!********************************!*\
  !*** ./src/shared/utils/qs.js ***!
  \********************************/(t,e,n)=>{n(/*! @babel/runtime/helpers/slicedToArray */63038),n(/*! ../constants */62620)},34103:
/*!**************************************************************!*\
  !*** ./src/shared/utils/renderContainerUtils.js + 1 modules ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{s:()=>w});var r=n(59713),o=n.n(r),i=n(67294),a=n(73935),c=n(65858),u=n(63038),s=n.n(u),l=n(98601),f=n(85945),p=n(45697),h=n(16730),d=function(t){var e=t.children,n=t.cc,r=(0,i.useState)((function(){return new l.S({defaultOptions:{queries:{retry:0,queryFn:(0,h.lQ)(n)}}})})),o=s()(r,1)[0];return(0,i.useEffect)((function(){o.setDefaultOptions({queries:{queryFn:(0,h.lQ)(n)}})}),[n,o]),i.createElement(f.aH,{client:o},e)};d.propTypes={cc:p.string,children:p.node},d.defaultProps={cc:"",children:null};const v=d;var m=n(5272),g=n(21934);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createElement("div");n&&(o.id=n);o.style=["z-index: 2147483647","display: block"].map((function(t){return"".concat(t," !important;")})).join("");var u=function(){return function(t,e){(0,a.unmountComponentAtNode)(e),document.documentElement.removeChild(e),g.ZP.warn(t,"unmount container: ".concat(e.id))}(t,o)};document.documentElement.appendChild(o),g.ZP.info(t,"render container: ".concat(n));var s=b(b({},r),{},{unMount:u,url:window.location.href});return(0,a.render)(i.createElement(c.zt,{store:t},i.createElement(v,{cc:t.getState().cc},i.createElement(m.Z,null,i.createElement(e,s)))),o),u}},8439:
/*!*************************************************!*\
  !*** ./src/shared/utils/runtimeMessageUtils.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{Xq:()=>p,M1:()=>h,Qb:()=>d,Xx:()=>v,TX:()=>m,JE:()=>g,j_:()=>b,PQ:()=>w});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/objectWithoutProperties */6479),a=n.n(i),c=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),u=n.n(c),s=(n(/*! ../webextPolyfill */48971),n(/*! ../constants/runtimeMessageEvent */92671)),l=["tabId","action"];function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function v(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var p=function(){return browser.runtime.sendMessage({action:s.ue})},h=function(){return browser.runtime.sendMessage({action:s.Ax})},d=function(t){return browser.runtime.sendMessage({action:s.ci,moduleName:t})},v=function(){return browser.runtime.sendMessage({action:s.Z$})},m=function(){var t=u()(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.G3,productId:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=u()(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.Kb,url:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=u()(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,browser.runtime.sendMessage({action:s.I9});case 2:return e=t.sent,t.abrupt("return",!!e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){return new Promise(function(){var t=u()(f().mark((function t(e,n){var r,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y();case 3:if(!t.sent){t.next=7;break}return e(),t.abrupt("return");case 7:(r=browser.runtime.connect({name:"wakeUp"})).postMessage({message:"wake up!"}),i=function t(){setTimeout((function(){clearTimeout(o),r.onMessage.removeListener(t),e()}),500)},o=setTimeout((function(){r.onMessage.removeListener(i),e()}),5e3),r.onMessage.addListener(i),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),n();case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}())},w=function(t){var e=t.tabId,n=t.action,r=a()(t,l);return browser.runtime.sendMessage({tabId:e,action:n,payload:r})}},60722:
/*!***********************************************!*\
  !*** ./src/shared/utils/storage/constants.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{J:()=>r,H:()=>o});var r="CASHBACK_NOTIFIER_TOOLTIP",o="POST_INSTALL_TOOLTIP"},14284:
/*!*******************************************!*\
  !*** ./src/shared/utils/storage/index.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{Z:()=>h});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/classCallCheck */34575),u=n.n(c),s=n(/*! lodash/get */27361),l=n.n(s);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const h=new(a()((function t(){var e=this;u()(this,t),this.get=function(t){return browser.storage.local.get(t).then((function(e){return l()(e,t,{})})).catch((function(t){return console.error(t),{}}))},this.set=function(t,e){return browser.storage.local.set(o()({},t,e)).catch((function(t){return console.error(t)}))},this.debounceSet=function(t,n){e.debounceSetTimeout&&clearTimeout(e.debounceSetTimeout),e.debounceSetTimeout=setTimeout((function(){e.set(t,n)}),1e4)},this.update=function(t,n){return e.get(t).then((function(r){return e.set(t,p(p({},r),n))}))}})))},80351:
/*!*****************************************!*\
  !*** ./src/shared/utils/taoBaoUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{aT:()=>v,gc:()=>m,Sq:()=>w,L_:()=>E});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../actionCreators/application */19664),u=n(/*! ../constants */62620),s=n(/*! ../selectors/merchants */26846),l=n(/*! ../selectors/taoBao */11775),f=n(/*! ../urls */4536),p=n(/*! ./fetchUtils */28392),h=n(/*! ./runtimeMessageUtils */8439);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t,e,n){var r={url:(0,f.iq)(e,t)};return p.Z.get(r,n).then((function(t){return t.data.hasCashback}))},m=function(){var t=a()(d().mark((function t(e,n,r){var o,i,a,f,p,v,m,g,y,b;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getState(),i=(0,s._t)(o,{url:n}),a=(0,l.oF)(o,{tabId:r}),!(i&&i.isTaobao&&a)){t.next=31;break}if(f=(0,l.Vj)(o),p=f.aiTaoBaoSearchPattern,v=f.unidCodes,new RegExp(p).test(n)){t.next=8;break}return t.abrupt("return",!1);case 8:if(m=new URL(n).searchParams.get("unid")){t.next=11;break}return t.abrupt("return",!1);case 11:if(m.startsWith(v.scenarioCodeHomepage)){t.next=13;break}return t.abrupt("return",!1);case 13:if(m=m.replace(v.scenarioCodeHomepage,v.scenarioCodeItem),g=o.taoBao.products[a]){t.next=17;break}return t.abrupt("return",!1);case 17:if(g.activateState===u.Km){t.next=19;break}return t.abrupt("return",!1);case 19:if(!g.redirectedToDeepLink){t.next=21;break}return t.abrupt("return",!1);case 21:return t.next=23,(0,h.TX)(a);case 23:if(y=t.sent){t.next=26;break}return t.abrupt("return",!1);case 26:return e.dispatch((0,c.GP)({productId:a,tabId:r})),(b=new URL(y)).searchParams.append("unid",m),window.location.replace(b.href),t.abrupt("return",!0);case 31:return t.abrupt("return",!1);case 32:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),g=function(t,e){return t.querySelector(e)},y=function(t,e){return t.querySelector(e)},b=function(t){if(!t)return"";var e=t.getAttribute("href");return e.startsWith("//")&&(e="https:".concat(e)),new URL(e).searchParams.get("id")||""},w=function(t,e,n){return t.map((function(t){return{productList:t,productInfo:y(t,n),productId:b(g(t,e)),cartId:(r=t.id,r.split("_")[2].trim())};var r}))},E=function(t){return!(!t||!("activateState"in t&&"hasCashback"in t||t.apiError))}},75611:
/*!**************************************!*\
  !*** ./src/shared/utils/urlUtils.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{oI:()=>i,gJ:()=>a,_d:()=>u,gN:()=>s,WW:()=>l});var r=n(/*! branch-sdk */87860),o=n.n(r),i=(n(/*! ./qs */31541),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(t)}catch(t){return null}}),a=function(t){return browser.runtime.getURL("images/".concat(t))},c=["newtab","new-tab-page"],u=function(t){return!!c.find((function(e){return null==t?void 0:t.includes(e)}))},s=function(t){if(t){var e=new URL(t);return(null==e?void 0:e.hostname)||""}return""},l=function(t){return new Promise((function(e,n){o().link(t,(function(t,r){r?e(r):n(t)}))}))}},48971:
/*!**************************************!*\
  !*** ./src/shared/webextPolyfill.js ***!
  \**************************************/(t,e,n)=>{var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! lodash/hasIn */79095),u=n.n(c);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var l=function(t,e){return e?"(".concat(t.toString(),")(...").concat(JSON.stringify(e),")"):"(".concat(t.toString(),")()")},f=function(){var t=a()(s().mark((function t(e){var n,r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.func,r=e.files,o=e.target,i=e.args,a={code:n?l(n,i):void 0,file:r?r[0]:void 0},t.abrupt("return",browser.tabs.executeScript(o.tabId,a).then((function(t){return t.map((function(t){return{result:t}}))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=a()(s().mark((function t(e){var n,r,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.func,r=e.files,o=e.target,i={code:n?l(n):void 0,file:r?r[0]:void 0},t.abrupt("return",browser.tabs.insertCSS(o.tabId,i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();n.g.browser=n(/*! webextension-polyfill */93150),u()(n.g.browser,"scripting.executeScript")||Object.assign(n.g.browser,{scripting:{executeScript:f,insertCSS:p}}),u()(n.g.browser,"action")||Object.assign(n.g.browser,{action:n.g.browser.browserAction})},19683:
/*!**************************************!*\
  !*** ./src/assets/shared/close1.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURf///0dwTPr6+vr6+vv7+/////////r6+v///////1hYgj4AAAAKdFJOU24A5/LWa3/7Hmz2d6waAAAASklEQVQI12MoEAQDdoYWRhAt4MkgoABiMDEyADFQQEGQAUSAOAwgEsRmAImDZIEMQWYDQVQGXAqmGK4dZiDcihCIpaoMCRBnsAEAxIwJcmgf98QAAAAASUVORK5CYII="},19765:
/*!**************************************!*\
  !*** ./src/assets/shared/close3.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURVliclhjckdwTFtmelppeFtkdFlhdF1keFpidVhhdFtmdVpidKq1E4wAAAALdFJOU83YABkRrb8mu8cyIpXZoAAAAGJJREFUCNcVy7ENgCAARNEr6KgMJd3BAuAChLiDQ1g7hRu4gR00xoTlPKrf/Iezkow7DqOWF6lVRusQvGHpGUxts45g8OhZZRqOs2WY2WgXEWheRSArUiErYnBpZvrwZDXcP8pbFmKC8PywAAAAAElFTkSuQmCC"},54539:
/*!**************************************!*\
  !*** ./src/assets/shared/close4.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUBAMAAACQZWsAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURf///////0dwTP///////////0nfqnsAAAAFdFJOU98gAL9AfH2y4AAAAF1JREFUCNdlj8ENwDAIAx2p/FGzQMNE+WT/VYrdj6XmES4YE0DNu3RmYsUQrkDzlpAH6GsovRP1CZ15oKAEmZFvcgsX68QrDv3iFmj/sdeY13vaXz6DzeYz+y624wtXRxxxNMCV9AAAAABJRU5ErkJggg=="},47776:
/*!*****************************!*\
  !*** ./env/production.json ***!
  \*****************************/t=>{t.exports=JSON.parse('{"URL_SIGN_UP":"/cashback-button/success-signup","URL_AFTER_INSTALL":"/shopback-button-success-install","URL_COUNTRY_CODE":{"url":"https://api.shopback.sg/whale/cc","headers":{"X-SHOPBACK-DOMAIN":"www.shopback.sg"}},"API_HOST_XX":{"COM":"api.shopback.com","SG":"api.shopback.sg","MY":"api.shopback.my","PH":"api.shopback.ph","ID":"api.shopback.co.id","IN":"api.shopback.in","TW":"api.shopback.com.tw","AU":"api.shopback.com.au","TH":"api.shopback.co.th","KR":"api.shopback.co.kr","HK":"api.shopback.com.hk","DE":"api.shopback.de","NZ":"api.shopback.co.nz"},"SB_WEBSITE_XX":{"COM":"www.shopback.com","SG":"www.shopback.sg","MY":"www.shopback.my","PH":"www.shopback.ph","ID":"www.shopback.co.id","TW":"www.shopback.com.tw","AU":"www.shopback.com.au","TH":"www.shopback.co.th","KR":"www.shopback.co.kr","HK":"www.shopback.com.hk","DE":"www.shopback.de","NZ":"www.shopback.co.nz"},"EXTENSION_STORES":{"CHROME":"https://chrome.google.com/webstore/detail/shopback-button-cashback/djjjmdgomejlopjnccoejdhgjmiappap","FIREFOX":"https://addons.mozilla.org/en-US/firefox/addon/shopback-cashback-button","EDGE":"https://microsoftedge.microsoft.com/addons/detail/shopback-button-cashbac/mppnmimhlcolakeoadpehdjljppkmfda"},"HELP_CENTER":{"SG":"https://support.shopback.sg/hc/en-gb/articles/360046598194-Install-and-use-ShopBack-Button-browser-extension","MY":"https://support.shopback.my/hc/en-gb/articles/360046977313-Install-and-use-the-ShopBack-Button-browser-extension","PH":"https://support.shopback.ph/hc/en-us/articles/360046598234","ID":"https://support.shopback.co.id/hc/id/articles/4401999894035-Apa-itu-Tombol-ShopBack","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174-%E7%8F%BE%E9%87%91%E5%9B%9E%E9%A5%8B%E5%B0%8F%E5%B9%AB%E6%89%8B","AU":"https://support.shopback.com.au/hc/en-gb/articles/360046870814-ShopBack-Button-browser-extension","TH":"https://support.shopback.co.th/hc/th/sections/360005934553-%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%95%E0%B8%B4%E0%B8%94%E0%B8%95%E0%B8%B1-%E0%B8%87%E0%B9%81%E0%B8%A5%E0%B8%B0%E0%B9%83%E0%B8%8A-ShopBack-Button-ShopBack-Extension","KR":"https://support.shopback.co.kr/hc/ko/articles/4401973617299-%EC%83%B5%EB%B0%B1-%EB%B2%84%ED%8A%BC-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95","HK":"https://support.shopback.com.hk/hc/zh-hk/articles/7430915919891-%E5%AE%89%E8%A3%9D%E5%8F%8A%E4%BD%BF%E7%94%A8ShopBack%E5%B0%8F%E5%B9%AB%E6%89%8B","DE":"https://support.shopback.de/hc/de/articles/15928463001107-Installieren-und-verwenden-Sie-die-ShopBack-Button-Browsererweiterung","NZ":"https://support.shopback.co.nz/hc/en-gb/articles/27829878382739-Install-and-use-ShopBack-Button-browser-extension"},"SAFARI_EXTENSION_HELP_CENTER_PAGE":{"SG":"https://support.shopback.sg/hc/en-gb","MY":"https://support.shopback.my/hc/en-gb","PH":"https://support.shopback.ph/hc/en-us","ID":"https://support.shopback.co.id/hc/id","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174","AU":"https://support.shopback.com.au/hc/en-gb","TH":"https://support.shopback.co.th/hc/th","KR":"https://support.shopback.co.kr/hc/ko-kr","HK":"https://support.shopback.com.hk/hc/zh-hk","DE":"https://support.shopback.de/hc/de","NZ":"https://support.shopback.co.nz/hc/en-gb"},"POST_INSTALL_TOOLTIP_IMG_URL":{"COM":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","SG":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","MY":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","PH":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","ID":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/ID.gif","IN":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TW":"https://cloud.shopback.com/image/upload/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TW.gif","AU":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TH":"https://cloud.shopback.com/image/upload/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TH.gif","KR":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/KR.gif","HK":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/HK.gif","DE":"https://cloud.shopback.com/image/upload/v1683121648/extension/%5BDE%5D%20Assets/DE_4.gif","NZ":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif"},"ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL":{"SG":"https://www.shopback.sg/aliexpress-button-guide","MY":"https://www.shopback.my/aliexpress-button-guide","AU":"https://www.shopback.com.au/aliexpress-button-guide","ID":"https://www.shopback.co.id/aliexpress-button-guide","TW":"https://www.shopback.com.tw/aliexpress-button-guide","TH":"https://www.shopback.co.th/aliexpress-button-guide","KR":"https://www.shopback.co.kr/aliexpress-shopback-button-guide","PH":"https://www.shopback.ph/aliexpress-button-guide","HK":"https://www.shopback.com.hk/aliexpress-button-guide","DE":"https://www.shopback.de/aliexpress-shopback-button-guide","NZ":"https://www.shopback.co.nz/aliexpress-button-guide"},"POST_UNINSTALL_URL":{"SG":"https://www.shopback.sg/uninstall","MY":"https://www.shopback.my/uninstall","PH":"https://www.shopback.ph/uninstall","ID":"https://www.shopback.co.id/uninstall","TW":"https://www.shopback.com.tw/uninstall","AU":"https://www.shopback.com.au/uninstall","TH":"https://www.shopback.co.th/uninstall","KR":"https://www.shopback.co.kr/uninstall","HK":"https://www.shopback.com.hk/uninstall","DE":"https://www.shopback.de/uninstall","NZ":"https://www.shopback.co.nz/uninstall"},"ACTIVATED_EXPIRED_MS":3600000,"ACTIVATED_EXPIRED_MS_FOR_AMS":86400000,"ACTIVATED_EXPIRED_MS_FOR_TAOBAO":86400000,"PERMISSION_NOTIFIER_TTL":3600000,"SENTRY_DSN":"https://a7733d60656e4d3bbb5dc92afd0cc5b8@o27075.ingest.sentry.io/1189626","SENTRY_SAMPLE_RATE":0.2}')}},t=>{t.O(0,["vendor"],(()=>{return e=76765,t(t.s=e);var e}));t.O()}]);