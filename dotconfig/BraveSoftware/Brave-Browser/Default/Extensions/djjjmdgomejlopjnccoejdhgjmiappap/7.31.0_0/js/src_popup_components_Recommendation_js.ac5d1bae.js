"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_popup_components_Recommendation_js"],{55771:
/*!************************************************************!*\
  !*** ./src/popup/components/Recommendation.js + 1 modules ***!
  \************************************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(63038),o=n.n(r),i=n(59713),a=n.n(i),l=n(45697),c=n(67294),s=n(65858),u=n(63535),d=n(77959),p=n(20374),f=n(23588),m=n(20136),h=n(64616),g=n(22314),b=(0,f.ZP)(m.z4).withConfig({displayName:"RecommendationSkeleton__Container",componentId:"o060f6-0"})(["&&{height:497px;width:360px;}"]);const x=function(){return c.createElement(b,null,c.createElement(m.z4,{style:{padding:"0 12px"}},c.createElement(m.NH,{height:"21px"}),c.createElement(h.O,{width:"107px",height:"16px"})),c.createElement(m.NH,{height:"14px"}),c.createElement(g.Z,null))};var v=n(7781),y=n(62620),w=n(91227),_=n(18855),k=n(43541),C=n(71174),E=n(98666),O=n(34267),I=n(26846),S=n(45786),P=n(63753);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.selfTabIndex,n=e.selfContentIndex,r=(0,s.I0)(),i=(0,C.Z)(),a=(0,s.v9)(I.kS),l=(0,O.Z)(a),f=(0,s.v9)(I.BD),m=(0,k.O)(),h=(0,u.Z)(t,n),g=(0,d._l)(),b=(0,s.v9)(S.jl);(0,c.useEffect)((function(){a||r({type:w.Dc})}),[i]);var Z=(0,p.Z)(),j=(0,c.useCallback)((function(e,t){g(N(N({},Z),{},{affiliate_link_id:(null==e?void 0:e.affiliatedId)||null,ui_element_name:"recommended_for_you",feature_name:"recommended_for_you",feature_type:"merchant",feature_position:t+1,merchant_id:(null==e?void 0:e.merchantId)||null,merchant_name:(null==e?void 0:e.name)||null}))}),[g,Z]),M=b?y.Pnd:y.Mfi,T=(0,c.useState)(!1),D=o()(T,2),L=D[0],R=D[1];return(0,c.useEffect)((function(){l&&!a&&R(!0)}),[l,a]),(0,E.Z)(m,{shouldDisplayIn:_.Gy.NON_MERCHANT}).shouldDisplay?0===f.length&&L?null:c.createElement(v.Z,{ref:h},a&&0===f.length?c.createElement(x,null):c.createElement(c.Fragment,null,c.createElement(v.T,{title:browser.i18n.getMessage("recommendation_title")}),c.createElement(P.Z,{merchants:f,onStoreClick:j,utm:M}))):null};j.propTypes={selfTabIndex:l.number,selfContentIndex:l.number},j.defaultProps={selfTabIndex:0,selfContentIndex:0};const M=j},63753:
/*!********************************************!*\
  !*** ./src/popup/components/StoresList.js ***!
  \********************************************/(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=n(/*! react-redux */65858),a=n(/*! styled-components */23588),l=n(/*! ../../shared/components/CountdownTimer */25723),c=n(/*! ../../shared/components/Experiment/MerchantOffExperimentWrapper */31732),s=n(/*! ../../shared/contexts/tabId */6256),u=n(/*! ../../shared/selectors/cc */49485),d=n(/*! ../../shared/selectors/merchant */96965),p=n(/*! ../../shared/selectors/user */45786),f=n(/*! ../../shared/styledComponents */20136),m=n(/*! ../../shared/utils/activation */91228),h=a.ZP.div.withConfig({displayName:"StoresList__Container",componentId:"ok71ht-0"})(["&&{width:360px;flex:1 0 auto;overflow:auto;overflow-x:hidden;min-height:394px;padding-top:6px;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}&& table{margin-bottom:20px;}&& ul{list-style:none;font-size:12px;padding:0px;margin:0px;height:100%;outline:none;}&& ul li{padding:8px;color:#777;font-weight:normal;font-size:12px;border-bottom:1px solid #eee;cursor:pointer;}&& ul li:last-child{border:0;}"]),g=a.ZP.div.withConfig({displayName:"StoresList__Item",componentId:"ok71ht-1"})(["&&{position:relative;cursor:pointer;width:162px;height:93px;margin:0 0 12px 12px;float:left;display:flex;flex-direction:column;background:#ffffff;border-radius:8px;border:1px solid #f7f7f8;align-items:center;}"]),b=a.ZP.div.withConfig({displayName:"StoresList__Logo",componentId:"ok71ht-2"})(["&&{height:30px;width:87.5px;background-color:#fff;background-position:center;background-repeat:no-repeat;background-size:contain;border:none;margin-top:12px;}"]),x=a.ZP.div.withConfig({displayName:"StoresList__CashbackContainer",componentId:"ok71ht-3"})(["&&{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:",";margin-bottom:12px;}&&:hover{color:#f00;}"],(function(e){return e.$shouldShowOld?"4px":"13px"})),v=(0,a.ZP)(f.xv).withConfig({displayName:"StoresList__LatestCashbackAmount",componentId:"ok71ht-4"})(["&&{display:flex;align-items:flex-end;font-family:-apple-system,BlinkMacSystemFont,sans-serif !important;font-size:14px;line-height:17px;color:#212836;}"]),y=(0,a.ZP)(f.xv).withConfig({displayName:"StoresList__CashbackText",componentId:"ok71ht-5"})(["&&{display:flex;margin-left:4px;font-family:-apple-system,BlinkMacSystemFont,sans-serif !important;font-weight:500;font-size:12px;line-height:14px;color:#6b7280;}"]),w=(0,a.ZP)(y).withConfig({displayName:"StoresList__OldCashback",componentId:"ok71ht-6"})(["&&{display:flex;margin-top:4px;font-weight:normal;color:#a7abb4;}"]),_=function(e){var t,n=e.merchants,r=e.utm,a=e.onStoreClick,f=(0,i.v9)(u.q),y=(0,s.z)(),_=(0,i.v9)((function(e){return(0,p.jl)(e)})),k=(0,o.useCallback)((function(e,t){a(e,t),(0,m.xc)({merchant:e,isLoggedIn:_,utmMedium:r,isNewTab:!0,cc:f})}),[f,_,a,r]);return o.createElement(h,null,null===(t=n.map)||void 0===t?void 0:t.call(n,(function(e,t){var n,r,i,s=(0,d.ki)(e),u=null!==(n=null==e?void 0:e.compliancePopupEnabled)&&void 0!==n&&n;return o.createElement(c.Z,{merchant:e,key:null==e?void 0:e.merchantId,disableInAllStatus:!0},o.createElement(g,{key:null==e?void 0:e.merchantId,onClick:function(){u?function(e,t){var n=e.sbWebMerchantUrl;a(e,t),browser.tabs.update(y,{url:n})}(e,t):k(e,t)}},o.createElement(b,{style:{backgroundImage:"url('".concat(e.logoUrl,"')")},title:e.name}),o.createElement(x,{$shouldShowOld:s},o.createElement(v,null,null==e?void 0:e.cashbackAmount),s&&o.createElement(o.Fragment,null,o.createElement(w,null,null==e||null===(r=e.oldCashback)||void 0===r?void 0:r.description),o.createElement(l.Z,{activeTo:null==e||null===(i=e.cashback)||void 0===i?void 0:i.activeTo,customStyle:{position:"absolute",borderRadius:"10px 10px 10px 0",left:0,top:"-4px"},cc:f})))))})))};_.propTypes={merchants:r.array.isRequired,utm:r.string,onStoreClick:r.func},_.defaultProps={utm:"",onStoreClick:null};const k=_},25723:
/*!*******************************************************!*\
  !*** ./src/shared/components/CountdownTimer/index.js ***!
  \*******************************************************/(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),l=n(/*! dayjs */27484),c=n.n(l),s=n(/*! lodash/isEmpty */41609),u=n.n(s),d=n(/*! prop-types */45697),p=n(/*! react */67294),f=n(/*! styled-components */23588),m=n(/*! ../../styledComponents */20136),h=n(/*! ../../utils/datetimeUtils */90105);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={color:"#cf3030"},v={color:"#794D24"},y={color:"#404859"},w=(0,f.ZP)(m.xv).withConfig({displayName:"CountdownTimer__Container",componentId:"sc-1vxvtph-0"})(["&&{padding:2px 8px;border-radius:10px;font-weight:bold;font-size:10px;line-height:12px;}"]),_=function(e){var t=e.activeTo,n=e.customStyle,r=e.cc,o=(0,p.useState)(null),i=a()(o,2),l=i[0],s=i[1],d=(0,p.useState)({}),f=a()(d,2),m=f[0],g=f[1],_=(0,p.useState)(!1),k=a()(_,2),C=k[0],E=k[1],O=(0,p.useCallback)((function(){var e=c()(t),n=c()(),o=e.diff(n)>0;if(!o)return{};var i=e.diff(n,"second"),a=e.diff(n,"minute"),l=e.diff(n,"hour"),s=e.diff(n,"day");return{isLaterThanToday:o,formattedDate:(0,h.e$)(t,r),days:s,hours:l,minutes:a,seconds:i}}),[t,r]),I=(0,p.useCallback)((function(){var e=O(),t=e.days,n=e.hours,r=e.minutes,o=e.seconds,i=e.formattedDate,a=e.isLaterThanToday;if(void 0!==a&&a){if(!(t>30))return 0===t&&0===n?(g(x),59===r&&o>0?void s(browser.i18n.getMessage("ends_in_x_hours","1")):59===r&&0===o?void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(r))):void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(r+1)))):0===t&&n>=1?(s(browser.i18n.getMessage("ends_in_x_hours","".concat(n))),void g(x)):t>=1&&t<=7?(s(browser.i18n.getMessage("ends_in_x_days","".concat(t))),void g(v)):void(t>7&&(s(browser.i18n.getMessage("ends_on_x",i)),g(y)));E(!0)}}),[O]);return(0,p.useEffect)((function(){I()}),[I]),u()(t)||u()(l)||C?null:p.createElement(w,{style:b(b({},m),n)},l)};_.propTypes={customStyle:d.object,activeTo:d.string,cc:d.string.isRequired},_.defaultProps={customStyle:null,activeTo:null};const k=_},31732:
/*!**************************************************************************!*\
  !*** ./src/shared/components/Experiment/MerchantOffExperimentWrapper.js ***!
  \**************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(/*! react-redux */65858),o=n(/*! ../../selectors/activation */83582),i=n(/*! ../../selectors/experiments */6688);const a=function(e){var t=e.children,n=e.merchant,a=e.disableInAllStatus,l=void 0!==a&&a,c=(0,r.v9)((function(e){return(0,i.Zb)(e,{merchantId:null==n?void 0:n.merchantId})})),s=(0,r.v9)((function(e){return(0,o.GM)(e,{merchant:n})||(0,o.tm)(e,{merchant:n})}));return c&&l||c&&!s?null:t}},22314:
/*!*********************************************************************************!*\
  !*** ./src/shared/components/Skeletons/StoresListSkeleton/index.js + 1 modules ***!
  \*********************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(319),o=n.n(r),i=n(67294),a=n(23588),l=n(20136),c=n(64616),s=(0,a.ZP)(l.AE).withConfig({displayName:"MerchantItemSkeleton__Container",componentId:"sc-1v8aawt-0"})(["&&{position:relative;cursor:pointer;width:162px;height:75px;margin:0 0 12px 12px;float:left;display:flex;flex-direction:column;background:#ffffff;box-shadow:0px 4px 16px rgba(64,72,90,0.1);border-radius:8px;align-items:center;}"]);const u=function(){return i.createElement(s,null,i.createElement(c.O,{width:"87.5px",height:"30px",margin:"0 auto",borderRadius:"3px"}),i.createElement(l.NH,{height:"9px"}),i.createElement(c.O,{width:"122px",height:"12px",margin:"0 auto",borderRadius:"3px"}))};var d=a.ZP.div.withConfig({displayName:"StoresListSkeleton__Container",componentId:"c7t8bh-0"})(["&&{flex:1 0 auto;overflow:auto;overflow-x:hidden;min-height:394px;max-width:360px;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}&& table{margin-bottom:20px;}&& ul{list-style:none;font-size:12px;padding:0px;margin:0px;height:100%;outline:none;}&& ul li{padding:8px;color:#777;font-weight:normal;font-size:12px;border-bottom:1px solid #eee;cursor:pointer;}&& ul li:last-child{border:0;}"]),p=o()(Array(10).keys());const f=function(){return i.createElement(d,null,p.map((function(e){return i.createElement(u,{key:e})})))}},71174:
/*!****************************************!*\
  !*** ./src/shared/hooks/useCountry.js ***!
  \****************************************/(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(/*! react-redux */65858),o=n(/*! ../selectors/cc */49485);const i=function(){return(0,r.v9)((function(e){return(0,o.q)(e)}))}},98666:
/*!******************************************************!*\
  !*** ./src/shared/hooks/useMerchantOffExperiment.js ***!
  \******************************************************/(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(/*! react-redux */65858),o=n(/*! ../constants/tabs */18855),i=n(/*! ../selectors/activation */83582),a=n(/*! ../selectors/experiments */6688);const l=function(e,t){var n,l=t.shouldDisplayIn,c=null!==(n=null==e?void 0:e.merchantId)&&void 0!==n?n:null,s=(0,r.v9)((function(e){return(0,a.Zb)(e,{merchantId:c})})),u=(0,r.v9)((function(e){return(0,a.vb)(e,{merchantId:c})}));return(0,r.v9)((function(t){return(0,i.tm)(t,{merchant:e})||(0,i.GM)(t,{merchant:e})}))?l===o.Gy.MERCHANT:s?u?{isMerchantInExperiment:!0,shouldDisplay:l===o.Gy.MERCHANT}:{isMerchantInExperiment:!0,shouldDisplay:l===o.Gy.NON_MERCHANT}:e?{isMerchantInExperiment:!1,shouldDisplay:l===o.Gy.MERCHANT}:{isMerchantInExperiment:!1,shouldDisplay:l===o.Gy.NON_MERCHANT}}},64616:
/*!*************************************************!*\
  !*** ./src/shared/styledComponents/Skeleton.js ***!
  \*************************************************/(e,t,n)=>{n.d(t,{O:()=>i,L:()=>a});var r=n(/*! styled-components */23588),o=(0,r.F4)(["0%{transform:translateX(-100%);}60%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),i=r.ZP.div.withConfig({displayName:"Skeleton",componentId:"edinct-0"})(["&&{width:",";height:",";margin:",";border-radius:",";display:",";background:linear-gradient(90deg,#efefef,transparent);overflow:hidden;}&&:after{width:",";height:",";content:'';animation:"," 1.5s linear 0.5s infinite;background:linear-gradient(90deg,transparent,#f5f5f5,transparent);}"],(function(e){return e.width||"auto"}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.borderRadius||"3px"}),(function(e){return e.display||"flex"}),(function(e){return e.width||"auto"}),(function(e){return e.height}),o),a=(0,r.ZP)(i).withConfig({displayName:"Skeleton__CircleSkeleton",componentId:"edinct-1"})(["&&{border-radius:50%;}"])},90105:
/*!*******************************************!*\
  !*** ./src/shared/utils/datetimeUtils.js ***!
  \*******************************************/(e,t,n)=>{n.d(t,{L0:()=>c,e$:()=>s});var r=n(/*! dayjs */27484),o=n.n(r),i=n(/*! dayjs/plugin/localizedFormat */56176),a=n.n(i),l=n(/*! ../constants/countries */53437);o().extend(a());var c=function(e,t){return o()(e).format(t)},s=function(e,t){var n="en";return n="PH"===t?"ph":browser.i18n.getUILanguage().substring(0,2),o()(e).format(l.bn[n])}}}]);