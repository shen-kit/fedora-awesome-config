"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["taoBaoNavigator","src_shared_utils_activation_js"],{65623:
/*!***************************************************!*\
  !*** ./src/background/events/tabs.js + 5 modules ***!
  \***************************************************/(t,e,r)=>{r.d(e,{ij:()=>at,ul:()=>ot});var n=r(50008),o=r.n(n),i=r(63038),a=r.n(i),c=r(48926),u=r.n(c),s=r(27361),l=r.n(s),f=r(90623),p=r(21934),h=r(83582),d=r(6688),v=r(96965),g=r(26846),m=r(67522),y=r(40062),b=r(7358),E=r(75611);function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var _,x=["images/icon/blink/icon_00.png","images/icon/blink/icon_01.png","images/icon/blink/icon_02.png","images/icon/blink/icon_03.png","images/icon/blink/icon_04.png","images/icon/blink/icon_05.png","images/icon/blink/icon_06.png","images/icon/blink/icon_07.png","images/icon/blink/icon_08.png","images/icon/blink/icon_09.png","images/icon/blink/icon_10.png","images/icon/blink/icon_11.png","images/icon/blink/icon_12.png","images/icon/blink/icon_13.png","images/icon/blink/icon_14.png","images/icon/blink/icon_15.png","images/icon/blink/icon_16.png","images/icon/blink/icon_17.png","images/icon/blink/icon_18.png","images/icon/blink/icon_19.png","images/icon/blink/icon_20.png","images/icon/blink/icon_21.png","images/icon/blink/icon_22.png","images/icon/blink/icon_23.png","images/icon/blink/icon_24.png","images/icon/blink/icon_25.png","images/icon/blink/icon_26.png","images/icon/blink/icon_27.png","images/icon/blink/icon_28.png","images/icon/blink/icon_29.png","images/icon/blink/icon_30.png","images/icon/blink/icon_31.png","images/icon/blink/icon_32.png","images/icon/blink/icon_33.png","images/icon/blink/icon_34.png","images/icon/blink/icon_35.png","images/icon/blink/icon_36.png","images/icon/blink/icon_37.png","images/icon/blink/icon_38.png","images/icon/blink/icon_39.png"],O=["images/icon/compliance/Friendly_00.png","images/icon/compliance/Friendly_01.png","images/icon/compliance/Friendly_02.png","images/icon/compliance/Friendly_03.png","images/icon/compliance/Friendly_04.png","images/icon/compliance/Friendly_05.png","images/icon/compliance/Friendly_06.png","images/icon/compliance/Friendly_07.png","images/icon/compliance/Friendly_08.png","images/icon/compliance/Friendly_09.png","images/icon/compliance/Friendly_10.png","images/icon/compliance/Friendly_11.png","images/icon/compliance/Friendly_12.png","images/icon/compliance/Friendly_13.png","images/icon/compliance/Friendly_14.png","images/icon/compliance/Friendly_15.png","images/icon/compliance/Friendly_16.png","images/icon/compliance/Friendly_17.png","images/icon/compliance/Friendly_18.png","images/icon/compliance/Friendly_19.png","images/icon/compliance/Friendly_20.png","images/icon/compliance/Friendly_21.png","images/icon/compliance/Friendly_22.png","images/icon/compliance/Friendly_23.png","images/icon/compliance/Friendly_24.png","images/icon/compliance/Friendly_25.png","images/icon/compliance/Friendly_26.png","images/icon/compliance/Friendly_27.png","images/icon/compliance/Friendly_28.png","images/icon/compliance/Friendly_29.png","images/icon/compliance/Friendly_30.png","images/icon/compliance/Friendly_31.png","images/icon/compliance/Friendly_32.png","images/icon/compliance/Friendly_33.png","images/icon/compliance/Friendly_34.png","images/icon/compliance/Friendly_35.png","images/icon/compliance/Friendly_36.png","images/icon/compliance/Friendly_37.png","images/icon/compliance/Friendly_38.png","images/icon/compliance/Friendly_39.png"],T=[255,255,255,0],k=function(){var t=u()(w().mark((function t(e){var r,n,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.text,n=void 0===r?"":r,o=e.color,i=void 0===o?T:o,browser.action.setBadgeText({text:n}),browser.action.setBadgeBackgroundColor({color:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){clearInterval(_),k({text:"",color:T})},N=function(t){clearInterval(_);var e=0,r=0;_=setInterval((function(){browser.action.setIcon({path:t[e++]}),e===t.length&&(e=0,r++),5===r&&clearInterval(_)}),50)},I=function(){k({text:"",color:T}),N(x)},L=function(){browser.action.setIcon({path:"images/icon/Red-32.png"}),k({text:"",color:T})},S=function(){return browser.action.setIcon({path:"images/icon/Permission.png"})},A=function(){P(),browser.action.setIcon({path:"images/icon/Grey-44.png"})},C=function(){P(),S()},R=function(t,e){return function(r,n){p.ZP.info(t,"CHECK_ICON tabId ".concat(e)),P();var o=t.getState(),i=(0,h.GM)(o,{merchant:r}),a=(0,g.cY)(o,{merchant:r,url:n}),c=(0,g.Mp)(o,{id:null==r?void 0:r.merchantId}),u=(0,m.nu)(o),s=(0,E.gN)(n),l=(0,y.Bp)(o),w=(0,b.wi)(o,{hostname:s,url:n}),_=(0,b._S)(o,{merchantName:w}),x=l&&w&&(null==_?void 0:_.apiStatus)!==f.j5,A=(0,d.Zb)(o,{merchantId:null==r?void 0:r.merchantId}),C=(0,d.vb)(o,{merchantId:null==r?void 0:r.merchantId})||(0,v.v6)(o,{merchant:r});return r||x?C&&!i?(browser.action.setIcon({path:"images/icon/disable.png"}),N(O),k({text:"!",color:"#e0311e"}),void browser.action.setBadgeTextColor({color:"#ffffff"})):A&&!i?(L(),void p.ZP.info(t,"it is an off merchant, icon reset")):u?(S(),void p.ZP.info(t,"there is invalid permission")):i&&a?(I(),void p.ZP.info(t,"it was activated and it is confirm page now, start blink")):i&&c?(browser.action.setIcon({path:"images/icon/Green-32.png"}),k({text:"",color:T}),void p.ZP.info(t,"it is activated and product has cashback, icon green")):c||x?(I(),void p.ZP.info(t,"it has cashback, icon start blink")):(L(),void p.ZP.info(t,"it hasn't cashback, icon reset")):(L(),void p.ZP.info(t,"it is not merchant, icon reset"))}},j=r(34363),F=function(t){return function(e){return browser.permissions.contains({origins:["http://*/*","https://*/*"]}).catch((function(){return Promise.resolve(!0)})).then(function(t,e){return function(r){p.ZP.info(t,"CHECK_PERMISSION");var n=t.getState();return r?((0,m.nu)(n)&&(p.ZP.info(t,"clear invalid permission"),t.dispatch((0,j.VL)())),Promise.resolve()):e?((0,m.V7)(n,{merchant:e})?t.dispatch((0,j.Lu)(e)):t.dispatch((0,j.lR)(e)),p.ZP.error(t,"No permission and this tab is merchant page"),Promise.reject(new Error("No permission and this tab is merchant page"))):((0,m.nu)(n)||t.dispatch((0,j.lR)()),p.ZP.error(t,"No permission and this tab is not merchant page"),Promise.reject(new Error("No permission and this tab is not merchant page")))}}(t,e)).catch((function(){return C(),Promise.reject(new Error("no permissions"))}))}},U=r(88213),D=r(45887);function M(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var B=function(t){return function(e){return(0,g._t)(t.getState(),{url:e})}},G=function(){var t=u()(M().mark((function t(e,r,n){var o,i,a,c,u,s,f;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,D.jv)(o,{tabId:r}),a=i,c=B(e)(n),u=l()(c,"merchantId"),s=l()(c,"name"),f=(0,h.lE)(o,{merchant:c}),(0,E._d)(n)&&e.dispatch((0,U.f$)({tabId:r})),t.abrupt("return",e.dispatch((0,U.iM)({tabId:r,url:n,merchantId:u,merchantName:s,shoppingtripId:f,prevUrl:a})));case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),H=r(86329),X=r(23028),V=r(9274),K=r(11713),q=r(62620),Z=r(91369),Y=r(68093),W=r(89489),z=r(20045),Q=r(11775),J=r(34575),$=r.n(J),tt=r(93913),et=r.n(tt),rt=function(){function t(e,r){$()(this,t),this.name=e,this.observers=null!=r?r:[]}return et()(t,[{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){this.observers=this.observers.filter((function(e){return e!==t}))}},{key:"notify",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];p.ZP.info(t,"EventManager ".concat(this.name," tabId:").concat((null===(e=n[0])||void 0===e?void 0:e.tabId)||"N/A"," data:"),n),this.observers.forEach((function(e){e.apply(void 0,[t].concat(n))}))}}]),t}();function nt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var ot=new rt("onTabUrlChange"),it=new rt("onTabUpdateOrTabFocus"),at="URL_CHANGE";ot.addObserver((function(t,e){var r=e.tabId,n=e.url,o=t.getState();browser.tabs.sendMessage(r,{action:at,tabId:r,url:n}).catch((function(t){t.message.includes("Receiving end does not exist")||p.ZP.error(o,t.message)}))}));var ct=function(t){return function(){var e=u()(nt().mark((function e(r){var n,o,i,c,u,s,f,d,v,g,m;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.ZP.info(t,"CHECK_ACTIVATED_STATE"),e.next=3,browser.tabs.query({active:!0,currentWindow:!0});case 3:if(n=e.sent,o=a()(n,1),i=o[0],!r||!(0,Y.ko)(t.getState(),{url:i.url})){e.next=13;break}return c=(0,Y.hc)(t.getState(),{url:i.url,merchant:r}),u=c.sellerId,s=null==r?void 0:r.eOutletId,f=l()(t.getState().amsNotifier.settings,[s,u],{}).activatedAt,d=q.Dwi,f&&(new Date).getTime()-f>d&&(p.ZP.warn(t,"deactivate seller id: ".concat(u)),t.dispatch((0,X.Mq)({eOutletId:s,sellerId:u}))),e.abrupt("return",Promise.resolve());case 13:return r&&(v=t.getState(),(0,h.GM)(v,{merchant:r})&&(g=r.isTaobao?q._lx:q.BFS,(m=(0,h.B4)(v,{merchant:r}))&&(new Date).getTime()-m>g&&(p.ZP.warn(t,"deactivate merchant id: ".concat(r.merchantId)),t.dispatch((0,V.JA)(r))))),e.abrupt("return",Promise.resolve());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ut=function(t,e,r,n){p.ZP.info(t,"DEACTIVATE_AND_REFRESH_TAOBAO_PRODUCT");var o=e[r].activatedAt;o&&(new Date).getTime()-o>n&&(p.ZP.warn(t,"deactivate taobao product id: ".concat(r)),t.dispatch((0,K.cK)(r)),t.dispatch((0,K.gh)({productId:r,from:Z.Uc})))},st=function(t){return function(e,r){p.ZP.info(t,"CHECK_TAOBAO_PRODUCT_ACTIVATE_STATE");var n=t.getState();if(e&&e.isTaobao){var o=(0,Q.Ne)(n),i=(0,Q.Vj)(n),a=i.timeToDeactivateTaoBaoProduct,c=i.standDownTaoBaoNotifierTimerMs;if((0,Q.Dp)(n,{url:r})){var u=(0,Q.n2)(n,{url:r}),s=(0,Q.n6)(n);p.ZP.info(t,"hit taobao product page: ".concat(r)),p.ZP.info(t,"taobao product id: ".concat(u)),o[u]&&ut(t,o,u,a),s&&(new Date).getTime()-s>c&&t.dispatch((0,K.Xq)())}else(0,Q.BJ)(n,{url:r})&&(p.ZP.info(t,"hit taobao shopping cart page: ".concat(r)),Object.keys(o).forEach((function(e){ut(t,o,e,a)})))}return Promise.resolve()}},lt=function(){var t=u()(nt().mark((function t(e){var r;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState(),!(0,W.wJ)(r)){t.next=5;break}return A(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var t=u()(nt().mark((function t(e){var r;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState(),(0,z.g6)(r)){t.next=5;break}return C(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pt=function(t,e){return function(r){p.ZP.info(t,"CHECK_CLOSE_TAB");var n=t.getState(),o=(0,D.k3)(n,{tabId:e}),i=(0,g.Lz)(n,{id:o}),a=(0,h.GM)(n,{merchant:i});i&&a&&(0,D.ed)(n,{tabId:e})&&(R(t,e)(i,r),t.dispatch((0,U.on)({tabId:e})))}},ht=function(){var t=u()(nt().mark((function t(e){return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft(e);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lt(e);case 6:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),dt=function(){var t=u()(nt().mark((function t(e,r,n){var o,i,a;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,D.k3)(o,{tabId:n}),a=(0,g.Lz)(o,{id:i}),t.next=5,F(e)(a);case 5:return t.next=7,ct(e)(a);case 7:return t.next=9,st(e)(a,r);case 9:it.notify(e,{tabId:n,url:r,merchant:a}),R(e,n)(a,r);case 11:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),vt=function(){var t=u()(nt().mark((function t(e,r){var n,o,i;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),(0,D.Lo)(n,{tabId:r})){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return t.next=5,browser.tabs.get(r);case 5:return o=t.sent,i=o.url,t.abrupt("return",G(e,r,i));case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),gt={handleActivated:function(t){return function(){var e=u()(nt().mark((function e(r){var n,o,i;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.tabId,e.prev=1,o=t.getState(),i=(0,D.jv)(o,{tabId:n}),e.next=6,ht(t);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,vt(t,n);case 10:return e.next=12,dt(t,i,n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),p.ZP.error(t,e.t0.stack);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}};gt.handleCreated=function(t){return function(e){var r=e.id,n=e.openerTabId;!function(t,e){var r=e.tabId,n=e.openerTabId,o=(0,D.jv)(t.getState(),{tabId:n});t.dispatch((0,U.ZW)({tabId:r,url:null,openerUrl:o}))}(t,{tabId:r,openerTabId:n})}},gt.handleUpdated=function(t){return function(){var e=u()(nt().mark((function e(r,n){var o,i,c,u,s,l,f;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=(o=n||{}).status,!(c=o.url)){e.next=8;break}if(u=t.getState(),(0,D.jv)(u,{tabId:r})===c){e.next=8;break}return e.next=8,G(t,r,c);case 8:if("loading"!==i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,ht(t);case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,browser.tabs.query({currentWindow:!0,active:!0});case 16:if(s=e.sent,l=a()(s,1),f=l[0]){e.next=21;break}return e.abrupt("return");case 21:if(pt(t,r)(f.url),r!==f.id){e.next=25;break}return e.next=25,dt(t,f.url,r);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),p.ZP.error(t,e.t0.stack);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,r){return e.apply(this,arguments)}}()},gt.handleRemove=function(t){return function(e){t.dispatch((0,H.br)(e)),t.dispatch((0,U.on)({tabId:e}))}}},51949:
/*!**************************************!*\
  !*** ./src/content/contentLoader.js ***!
  \**************************************/(t,e,r)=>{r.d(e,{YU:()=>y,B6:()=>b,Ad:()=>E,Sc:()=>w,v:()=>_});var n=r(/*! @babel/runtime/helpers/typeof */50008),o=r.n(n),i=r(/*! @babel/runtime/helpers/defineProperty */59713),a=r.n(i),c=r(/*! @babel/runtime/helpers/objectWithoutProperties */6479),u=r.n(c),s=r(/*! @babel/runtime/helpers/asyncToGenerator */48926),l=r.n(s),f=r(/*! ../shared/utils/runtimeMessageUtils */8439),p=["store","merchant","tabId"];function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var v=new Set,g=new Map,m=null,y=function(){var t=l()(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v.has(e)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,f.Qb)(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(t,e){g.set(t,e)},E=function(t){return function(e){v.add(t),e(m.store,m)}},w=function(t){if(!g.has(t))throw new Error("'content module failed when connected to store, can not find the key:', ".concat(t,", plz set the connect function first by calling 'setConnectFunc'."));return v.add(t),g.get(t)},_=function(t){var e=t.store,r=t.merchant,n=t.tabId,o=u()(t,p);m=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({store:e,merchant:r,tabId:n},o)}},56102:
/*!*********************************************************!*\
  !*** ./src/content/settingPanel/utils/snoozeWrapper.js ***!
  \*********************************************************/(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(/*! @babel/runtime/helpers/objectWithoutProperties */6479),o=r.n(n),i=r(/*! lodash/noop */50308),a=r.n(i),c=r(/*! react-redux */65858),u=["children","selectorFn"];const s=function(t){var e=t.children,r=t.selectorFn,n=void 0===r?a():r,i=o()(t,u);return(0,c.v9)((function(t){return n(t,i)})).active?null:e}},38594:
/*!*******************************************************************************!*\
  !*** ./src/content/taoBaoNavigator/containers/TaoBaoNavigator.js + 8 modules ***!
  \*******************************************************************************/(t,e,r)=>{r.d(e,{Z:()=>Lt});var n=r(50008),o=r.n(n),i=r(59713),a=r.n(i),c=r(48926),u=r.n(c),s=r(34575),l=r.n(s),f=r(93913),p=r.n(f),h=r(2205),d=r.n(h),v=r(78585),g=r.n(v),m=r(29754),y=r.n(m),b=r(45697),E=r.n(b),w=r(67294),_=r(65858),x=r(41438),O=r(23588),T=r(56102),k=r(11713),P=r(62620),N=r(91369),I=r(88968),L=r(83582),S=r(51693),A=r(26846),C=r(93367),R=r(40062),j=r(11775),F=r(45786),U=r(91228),D=r(8439),M=r(80351),B=r(95163);function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g()(this,r)}}var V="taobao_cashback_notifier",K="taobao_navigator";const q=function(t){return function(t){d()(r,t);var e=X(r);function r(){var t;l()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).trackTaoBaoCashbackNotifierActivateEvent=function(e){t.trackExtClickNotifier({screen_name:V,feature_name:"cashback_activate",feature_destination_url:e})},t.trackTaoBaoCashbackNotifierLoginEvent=function(e){t.trackExtClickNotifier({screen_name:"".concat(V,"_login"),feature_name:"login_to_activate",feature_destination_url:e})},t.trackTaoBaoLoginUserCloseNotifier=function(){t.trackExtClickNotifier({screen_name:V,feature_name:"close"})},t.trackTaoBaoToggleToCloseStatusBar=function(){t.trackExtClickNotifier({screen_name:K,feature_name:"cashback_status_button",feature_type:"close"})},t.trackTaoBaoToggleToOpenStatusBar=function(){t.trackExtClickNotifier({screen_name:K,feature_name:"cashback_status_button",feature_type:"open"})},t.trackTaobaoNavigatorPrompt=function(e){t.trackExtViewNotifierEvent(H({screen_name:K},e))},t.trackTaobaoCashbackNotifierPrompt=function(e){t.trackExtViewNotifierEvent(H({screen_name:V},e))},t.trackTaoBaoConfirmationNotifierPrompt=function(){t.trackExtViewNotifierEvent({screen_name:"taobao_confirmation_notifier"})},t.trackClickHelpEvent=function(){t.trackExtClickNotifier({screen_name:K,feature_name:"Guide",feature_type:""})},t}return p()(r)}((0,B.Z)(t))};var Z=r(9274),Y=r(78504),W=browser.runtime.getURL("images/common/close2.png");const z=(0,O.ZP)(Y.Z).withConfig({displayName:"CloseButton__StyledCloseButton",componentId:"sc-17mzwiw-0"})(["&&{top:6px;right:6px;width:12px;height:12px;background-image:url(",");}"],W);var Q=function(t){var e=(0,_.I0)(),r=t.isConfirmationNotifierOpened,n=t.isConfirmationPage,o=t.isActivated,i=t.onClose,a=t.merchantId,c=t.trackTaoBaoConfirmationNotifierPrompt,u=(0,w.useRef)(!1),s=(0,w.useRef)(!1);(0,w.useEffect)((function(){n&&o&&(s.current=o,e((0,Z.jm)(a)))}),[]);var l=s.current;return n&&l?(u.current||(c(),u.current=!0),r&&w.createElement("div",{className:"taobao-confirmation-notifier"},w.createElement("div",{className:"taobao-confirmation-notifier-icon"}),w.createElement("div",{className:"taobao-confirmation-notifier-content"},w.createElement("div",{className:"taobao-confirmation-notifier-title"},browser.i18n.getMessage("taobao_confirmation_notifier_title")),w.createElement("div",{className:"taobao-confirmation-notifier-desc"},browser.i18n.getMessage("taobao_confirmation_notifier_desc"))),w.createElement("div",{className:"taobao-confirmation-notifier-button",onClick:i},browser.i18n.getMessage("taobao_confirmation_notifier_button")),w.createElement(z,{onClick:i}))):null};Q.propTypes={isConfirmationNotifierOpened:b.bool.isRequired,isConfirmationPage:b.bool.isRequired,isActivated:b.bool.isRequired,onClose:b.func.isRequired,merchantId:b.number.isRequired,trackTaoBaoConfirmationNotifierPrompt:b.func.isRequired};const J=Q;var $=browser.runtime.getURL("images/NavigatorNotifier/navigator-shopback-spark-logo.svg"),tt=function(t){var e=t.cashbackStatus,r=t.isProductPage,n=t.handleToggleNotifierIcon,o=t.handleOpenGuidePage;return w.createElement("div",{className:"taobao-navigator-btns"},w.createElement("div",{className:"taobao-navigator-logo"},w.createElement("img",{src:$,alt:"shopback logo",className:"taobao-navigator-logo-img"})),w.createElement("div",{className:"taobao-navigator-btns-container"},r&&w.createElement("div",{className:"taobao-navigator-indicator-".concat(e),onClick:n}),w.createElement("div",{className:"taobao-navigator-help",onClick:o})))};tt.propTypes={cashbackStatus:b.string.isRequired,isProductPage:b.bool.isRequired,handleToggleNotifierIcon:b.func.isRequired,handleOpenGuidePage:b.func.isRequired};const et=tt;var rt=function(t){var e=t.onClose;return w.createElement("div",{className:"taobao-api-down-notifier"},w.createElement("div",{className:"taobao-api-down-notifier-icon"}),w.createElement("div",{className:"taobao-api-down-notifier-content"},w.createElement("div",{className:"taobao-api-down-notifier-title"},browser.i18n.getMessage("taobao_api_down_title")),w.createElement("div",{className:"taobao-api-down-notifier-desc"},browser.i18n.getMessage("taobao_api_down_desc"))),w.createElement("div",{className:"taobao-api-down-notifier-button",onClick:e},browser.i18n.getMessage("taobao_api_down_button")),w.createElement(z,{onClick:e}))};rt.propTypes={onClose:E().func.isRequired};const nt=rt;var ot;function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g()(this,r)}}var ut=(ot={},a()(ot,P.ibe,"has_cashback"),a()(ot,P.x7b,"has_cashback"),a()(ot,P.NBx,"no_cashback"),a()(ot,P.MXk,"error_from_merchant"),ot),st=function(t){d()(r,t);var e=ct(r);function r(t){var n;return l()(this,r),(n=e.call(this,t)).state={has:new Date},n}return p()(r,[{key:"componentDidMount",value:function(){this.props.shouldNotifierDisplay&&this.props.cashbackStatus!==P.Ai9&&this.trackTaobaoCashbackNotifierPrompt({cashback_status_type:ut[this.props.cashbackStatus]})}},{key:"componentDidUpdate",value:function(t){!t.shouldNotifierDisplay&&this.props.shouldNotifierDisplay&&this.props.cashbackStatus!==P.Ai9&&this.trackTaobaoCashbackNotifierPrompt({cashback_status_type:ut[this.props.cashbackStatus]}),t.cashbackStatus===P.Ai9&&this.props.cashbackStatus!==P.Ai9&&this.trackTaobaoCashbackNotifierPrompt({cashback_status_type:ut[this.props.cashbackStatus]})}},{key:"render",value:function(){var t=this.props,e=t.shouldNotifierDisplay,r=t.cashbackStatus,n=t.isLoggedIn,o=t.activateProduct,i=t.onClose,a=t.activateDesc;if(!e)return null;if(r===P.MXk)return w.createElement(nt,{onClose:i});var c="cashback-".concat(r),u=browser.i18n.getMessage("taobao_notifier_cashback_fetching"),s=null;return r===P.ibe?(u=browser.i18n.getMessage("taobao_notifier_cashback_available"),s=n?w.createElement("div",{className:"taobao-notifier-activate-button",onClick:o},w.createElement("span",{className:"taobao-notifier-activate-desc"},a)):w.createElement("div",{className:"taobao-notifier-login-button",onClick:o},w.createElement("span",{className:"taobao-notifier-login-desc"},browser.i18n.getMessage("taobao_notifier_cashback_available_login")))):r===P.x7b?(u=browser.i18n.getMessage("taobao_notifier_cashback_activated_desc"),s=w.createElement("div",{className:"taobao-notifier-activated-button"},w.createElement("div",{className:"taobao-notifier-activated-check"}),w.createElement("div",{className:"taobao-notifier-activated-desc"},browser.i18n.getMessage("taobao_notifier_cashback_activated")))):r===P.NBx&&(u=browser.i18n.getMessage("taobao_notifier_cashback_unavailable")),w.createElement("div",{className:"taobao-notifier"},w.createElement("div",{className:"taobao-notifier-icon ".concat(c)}),w.createElement("div",{className:"taobao-notifier-content ".concat(c)},w.createElement("div",{className:"taobao-notifier-desc"},u),s),w.createElement(z,{onClick:i}))}}]),r}(q(w.Component));st.propTypes={shouldNotifierDisplay:E().bool.isRequired,isLoggedIn:E().bool.isRequired,onClose:E().func.isRequired,activateProduct:E().func.isRequired,cashbackStatus:E().string.isRequired,activateDesc:E().string.isRequired,merchant:E().object.isRequired};const lt=(0,_.$j)(null,(function(t){return at(at({},(0,x.bindActionCreators)({},t)),{},{dispatch:t})}))(st);var ft=r(33646),pt=browser.runtime.getURL("images/NavigatorNotifier/cashback-available.gif"),ht=browser.runtime.getURL("images/NavigatorNotifier/cashback-unavailable.svg"),dt=browser.runtime.getURL("images/NavigatorNotifier/cashback-activated.svg"),vt=browser.runtime.getURL("images/NavigatorNotifier/ic-spinner.png"),gt=browser.runtime.getURL("images/NavigatorNotifier/navigator-help.png"),mt=browser.runtime.getURL("images/NavigatorNotifier/icon-check.png"),yt=browser.runtime.getURL("images/NavigatorNotifier/cashback-notifier-for-product-available.svg"),bt=browser.runtime.getURL("images/NavigatorNotifier/cashback-notifier-for-product-activated.svg"),Et=browser.runtime.getURL("images/NavigatorNotifier/cashback-notifier-for-product-unavailable.svg"),wt=browser.runtime.getURL("images/taobao/confirmation.png"),_t=browser.runtime.getURL("images/taobao/taobao-cry.png"),xt=(browser.runtime.getURL("images/subscription/subscription_background.png"),browser.runtime.getURL("images/subscription/subscription_logo.png"),(0,O.ZP)(ft.Z).withConfig({displayName:"styles__TaoBaoNavigatorContainer",componentId:"soukr8-0"})(["&&{box-sizing:content-box !important;position:fixed !important;border-radius:3px !important;box-shadow:0px 3px 8px 2px rgba(0,0,0,0.3) !important;font-size:100% !important;z-index:2147483647 !important;background-color:#f5f5f5 !important;border:0 !important;max-width:500px !important;top:150px !important;right:40px !important;position:relative;}&& *{font-family:Roboto,Helvetica,arial,sans-serif !important;}&& .taobao-navigator-container{display:flex;background-color:#efefef !important;border-radius:3px !important;font-family:Roboto,Helvetica,arial,sans-serif !important;font-size:14px !important;font-weight:normal;font-style:normal !important;font-stretch:normal !important;line-height:normal !important;letter-spacing:0.1px !important;text-align:center !important;color:#5a6274 !important;}&& .taobao-navigator-container .taobao-notifier{display:flex;align-items:center;box-sizing:border-box !important;box-shadow:0 2px 10px 0 rgba(0,0,0,0.5);background-color:#ffffff;position:relative;min-width:364px;min-height:114px;border-radius:3px;padding:14px 24px 0 14px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-icon{width:100px !important;height:100px !important;margin-right:20px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-icon.cashback-available{width:100px !important;height:100px !important;background-size:contain;background-repeat:no-repeat !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-icon.cashback-activated{width:100px !important;height:100px !important;background-size:contain;background-repeat:no-repeat !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-icon.cashback-unavailable{width:100px !important;height:100px !important;background-size:contain;background-repeat:no-repeat !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-icon.cashback-fetching{margin:0 38px !important;object-fit:contain;animation:rotation 2s linear infinite;width:22px !important;height:22px !important;background-size:contain;background-repeat:no-repeat !important;background-image:url(",") !important;}@keyframes rotation{from{transform:rotate(0deg);}to{transform:rotate(359deg);}}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content{flex:1;padding-bottom:18px;font-size:14px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-desc{letter-spacing:0.2px;color:#40485a;inline-size:215px;word-break:normal;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-activate-button{min-width:249px;height:32px;line-height:32px;color:#ffffff;text-align:center;border-radius:3px;background-color:#ff3407;cursor:pointer !important;margin-top:10px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-login-button{min-width:249px;height:32px;color:#ffffff;text-align:center;border-radius:3px;background-color:#ff3407;cursor:pointer !important;margin-top:10px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-login-button .taobao-notifier-login-desc{position:relative;top:25%;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-activated-button{display:flex;justify-content:center;align-items:center;height:32px;color:#3ac88e;text-align:center;border-style:solid;border-radius:3px;border-width:1px;border-color:#3ac88e;background-color:#ffffff;margin-top:10px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-activated-button .taobao-notifier-activated-check{-webkit-mask-image:url(",") !important;background-color:#3ac88e;width:24px;height:24px;}&& .taobao-navigator-container .taobao-notifier .taobao-notifier-content .taobao-notifier-activated-button .taobao-notifier-activated-desc{margin-left:10px;}&& .taobao-navigator-container .taobao-navigator-btns{width:40px;}&& .taobao-navigator-container .taobao-navigator-btns .item-selected{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-logo{background-color:#ff3407;height:42px !important;border-top-left-radius:3px !important;border-top-right-radius:3px !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-logo-img{margin-top:8px;margin-left:4px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-btns-container{margin:-9px 3px 4px 4px;border-radius:3px;background-color:#ffffff;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-unavailable{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-size:17px !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-unavailable:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-available{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-image:url(",") !important;background-size:21px !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-available:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-activated{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-size:17px !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-activated:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-fetching{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-size:17px !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-fetching:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-down{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-size:17px !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-indicator-down:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-help{background-position:center !important;background-repeat:no-repeat !important;height:30px !important;padding:2px 0 1px 0;opacity:1;cursor:pointer !important;opacity:0.84 !important;background-size:17px !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-navigator-btns .taobao-navigator-help:hover{background-color:#f5f5f5 !important;opacity:1 !important;border-radius:3px;}&& .taobao-navigator-container .taobao-confirmation-notifier{box-sizing:border-box !important;box-shadow:0 2px 10px 0 rgba(0,0,0,0.5);background-color:#ffffff;min-width:278px;min-height:308px;border-radius:3px;padding:16px;display:flex;flex-direction:column;align-items:center;padding:24px;}&& .taobao-navigator-container .taobao-confirmation-notifier .taobao-confirmation-notifier-icon{margin-top:4px;width:120px;height:100px;background-size:contain;background-repeat:no-repeat !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-confirmation-notifier .taobao-confirmation-notifier-content{margin-top:32px;}&& .taobao-navigator-container .taobao-confirmation-notifier .taobao-confirmation-notifier-content .taobao-confirmation-notifier-title{width:230px;height:38px;font-weight:bold;}&& .taobao-navigator-container .taobao-confirmation-notifier .taobao-confirmation-notifier-content .taobao-confirmation-notifier-desc{width:230px;height:58px;}&& .taobao-navigator-container .taobao-confirmation-notifier .taobao-confirmation-notifier-button{display:flex;justify-content:center;align-items:center;margin-top:16px;width:72px;height:32px;border-radius:3px;border:solid 1px #d6d6d6;background-color:#ffffff;cursor:pointer !important;}&& .taobao-navigator-container .taobao-api-down-notifier{box-sizing:border-box !important;box-shadow:0 2px 10px 0 rgba(0,0,0,0.5);background-color:#ffffff;min-width:308px;min-height:283px;border-radius:3px;padding:16px;display:flex;flex-direction:column;align-items:center;}&& .taobao-navigator-container .taobao-api-down-notifier .taobao-api-down-notifier-icon{margin-top:40px;width:81px;height:91px;background-size:81px 91px;background-repeat:no-repeat !important;background-image:url(",") !important;}&& .taobao-navigator-container .taobao-api-down-notifier .taobao-api-down-notifier-content{margin-top:16px;}&& .taobao-navigator-container .taobao-api-down-notifier .taobao-api-down-notifier-content .taobao-api-down-notifier-title{width:276px;height:21px;font-weight:bold;}&& .taobao-navigator-container .taobao-api-down-notifier .taobao-api-down-notifier-content .taobao-api-down-notifier-desc{width:276px;height:19px;}&& .taobao-navigator-container .taobao-api-down-notifier .taobao-api-down-notifier-button{display:flex;justify-content:center;align-items:center;margin-top:16px;width:72px;height:32px;border-radius:3px;border:solid 1px #d6d6d6;background-color:#ffffff;cursor:pointer !important;}"],yt,bt,Et,vt,mt,ht,pt,dt,ht,ht,gt,wt,_t));function Ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g()(this,r)}}var Nt=O.ZP.div.withConfig({displayName:"TaoBaoNavigator__NavigatorContent",componentId:"sc-19978zv-0"})(["&&{position:absolute;right:calc(100% + 8px);display:flex;flex-direction:column;pointer-events:none;}&& > *{pointer-events:auto;}&& > div + div{margin-top:5px;}"]),It=function(t){d()(r,t);var e=Pt(r);function r(){var t;l()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={in:!1,shouldNotifierMounted:!0},t.open=function(){return t.setState({in:!0})},t.getProduct=function(){var e=t.props.productId;return t.props.taoBao.products[e]},t.getMerchant=function(){return t.props.merchant},t.handleTooltipsRef=function(){var e=u()(kt().mark((function e(r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tooltipRef){e.next=2;break}return e.abrupt("return");case 2:return t.tooltipRef=r,e.t0=t,e.next=6,r.shouldOpen();case 6:e.t1=e.sent,e.t2={tooltip_shown:e.t1},e.t0.trackTaobaoNavigatorPrompt.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleCloseNotifier=function(){var e=t.props,r=e.closeNotifier;e.loggedIn&&t.trackTaoBaoLoginUserCloseNotifier(),r()},t.handleCloseConfirmationNotifier=function(){(0,t.props.closeConfirmationNotifier)()},t.handleToggleNotifierIcon=function(){var e=t.props,r=e.openNotifier;e.isNotifierOpened&&t.state.shouldNotifierMounted?(t.trackTaoBaoToggleToCloseStatusBar(),t.unmountNotifier()):(t.trackTaoBaoToggleToOpenStatusBar(),r(),t.mountNotifier())},t.unmountNotifier=function(){t.setState((function(){return{shouldNotifierMounted:!1}}))},t.mountNotifier=function(){t.setState((function(){return{shouldNotifierMounted:!0}}))},t.uninstallSelf=function(){(0,t.props.unMount)(),(0,D.M1)()},t.handleActivateProduct=function(){var e=t.props,r=e.productId,n=e.loggedIn,o=e.merchant,i=e.cc,a=e.tabId;n?t.trackTaoBaoCashbackNotifierActivateEvent(o.activateUrl):t.trackTaoBaoCashbackNotifierLoginEvent(o.activateUrl),(0,U.le)({merchant:o,productId:r,tabId:a,utmMedium:n?P._lE:P.iQM,isLoggedIn:n,cc:i})},t.handleOpenGuidePage=function(){var e=t.props.guideUrl;t.trackClickHelpEvent(),window.open(e)},t.getCashbackStatus=function(){var e=t.getProduct(),r=e&&!!e.fromAiTaoBaoSearch,n=e&&!!e.activatedFromSB;if(!(r||(0,M.L_)(e)||n))return P.Ai9;if(e){if(e.activateState===P.bL_)return P.x7b;if(e.hasCashback)return P.ibe;if(e.apiError)return P.MXk}return P.NBx},t.renderNavigatorContent=function(){var e=t.props,r=e.isProductPage,n=e.isNotifierOpened,o=e.isConfirmationNotifierOpened,i=e.isConfirmationPage,a=e.loggedIn,c=e.merchant,u=e.cashbackNotifierTooltipEnabled,s=e.isActivated,l=n&&r&&t.state.shouldNotifierMounted;return w.createElement(Nt,null,w.createElement(lt,{key:"taoBao_notifier",shouldNotifierDisplay:l,isLoggedIn:a,onClose:t.handleCloseNotifier,activateProduct:t.handleActivateProduct,cashbackStatus:t.getCashbackStatus(),activateDesc:c.activateX,merchant:c}),w.createElement(J,{key:"taoBao_confirmation_notifier",isConfirmationNotifierOpened:o,onClose:t.handleCloseConfirmationNotifier,isConfirmationPage:i,isActivated:s,merchantId:c.merchantId,trackTaoBaoConfirmationNotifierPrompt:t.trackTaoBaoConfirmationNotifierPrompt}),u&&w.createElement(I.Z,{name:"taobao_navigator_tooltip",ref:t.handleTooltipsRef,merchant:c,uninstallSelf:t.uninstallSelf}))},t}return p()(r,[{key:"componentDidMount",value:function(){var t=this.props,e=t.productId,r=t.shouldGetTaoBaoProductStatus,n=t.getTaoBaoProductCashbackStatus,o=t.openConfirmationNotifier,i=t.isProductPage,a=t.productFromSearch,c=t.setProductFromAiTaoBaoSearchToActivated,u=t.loggedIn,s=t.cashbackNotifierTooltipEnabled,l=t.shouldOpen,f=t.display;l&&o(),i&&f&&(r?n(e,N.YX):a&&u&&c(e)),this.open(),s||this.trackTaobaoNavigatorPrompt({tooltip_shown:!1})}},{key:"render",value:function(){var t=this.props,e=t.display,r=t.isProductPage,n=t.unMount;return e?w.createElement(T.Z,{selectorFn:j.cK},w.createElement(xt,{isOpen:this.state.in,onExited:n},w.createElement("div",{className:"taobao-navigator-container"},this.renderNavigatorContent(),w.createElement(et,{cashbackStatus:this.getCashbackStatus(),isProductPage:r,handleToggleNotifierIcon:this.handleToggleNotifierIcon,handleOpenGuidePage:this.handleOpenGuidePage})))):null}}]),r}(q(w.Component));It.propTypes={url:E().string.isRequired,tabId:E().number.isRequired,activateProduct:E().func.isRequired,loggedIn:E().bool.isRequired,isActivated:E().bool.isRequired,shouldOpen:E().bool.isRequired,merchant:E().object,cc:E().string.isRequired,taoBao:E().object.isRequired,getTaoBaoProductCashbackStatus:E().func.isRequired,setProductFromAiTaoBaoSearchToActivated:E().func.isRequired,unMount:E().func.isRequired,dispatch:E().func.isRequired,isProductPage:E().bool.isRequired,isConfirmationPage:E().bool.isRequired,productId:E().string.isRequired,shouldGetTaoBaoProductStatus:E().bool.isRequired,urlHasAliTrackParam:E().bool.isRequired,productFromSearch:E().bool.isRequired,isNotifierOpened:E().bool.isRequired,isConfirmationNotifierOpened:E().bool.isRequired,openNotifier:E().func.isRequired,closeNotifier:E().func.isRequired,openConfirmationNotifier:E().func.isRequired,closeConfirmationNotifier:E().func.isRequired,display:E().bool.isRequired,guideUrl:E().string.isRequired,extVersion:E().string.isRequired,cashbackNotifierTooltipEnabled:E().bool},It.defaultProps={merchant:null};const Lt=(0,_.$j)((function(t,e){var r=e.url,n=document.referrer,o=(0,A._t)(t,e),i=(0,A.cY)(t,{merchant:o,url:r}),a=(0,j.Dp)(t,{url:r}),c=(0,j.n2)(null,{url:r}),u=(0,j.wm)(t,{url:r,referrer:n}),s=(0,j.lQ)(t,{url:r}),l=(0,j.x6)(t,{url:r,referrer:n}),f=(0,j.Vj)(t),p=(0,S.bo)(t);return{merchant:o,isConfirmationPage:i,cc:t.cc,loggedIn:(0,F.jl)(t),isActivated:(0,L.GM)(t,{merchant:o}),shouldOpen:(0,C.qF)(t,{merchant:o}),taoBao:t.taoBao,productId:c,shouldGetTaoBaoProductStatus:u,urlHasAliTrackParam:s,productFromSearch:l,isProductPage:a,display:(0,j.xg)(null,{merchant:o}),isNotifierOpened:(0,j.xK)(t),isConfirmationNotifierOpened:(0,j.tf)(t),guideUrl:f.guideUrls[t.cc.toLowerCase()],cashbackNotifierTooltipEnabled:(0,R.OY)(),extVersion:p}}),(function(t){return Tt(Tt({},(0,x.bindActionCreators)({setProductFromAiTaoBaoSearchToActivated:k.V0,getTaoBaoProductCashbackStatus:k.Fv,openNotifier:k.Xq,closeNotifier:k._w,openConfirmationNotifier:k.Sk,closeConfirmationNotifier:k.lk},t)),{},{dispatch:t})}))(It)},40965:
/*!**********************************************!*\
  !*** ./src/content/taoBaoNavigator/index.js ***!
  \**********************************************/(t,e,r)=>{var n=r(/*! ../../shared/constants */62620),o=r(/*! ../../shared/constants/lazyModule */58950),i=r(/*! ../../shared/loggers/logger */21934),a=r(/*! ../../shared/utils/polyfillI18n */38156),c=r(/*! ../../shared/utils/renderContainerUtils */34103),u=r(/*! ../../shared/utils/taoBaoUtils */80351);(0,r(/*! ../contentLoader */51949).Sc)(o.qr)((function(t,e){var o=e.tabId,s=t.getState();(0,a.f)(s.cc);var l=window.location.href;(0,u.gc)(t,l,o).then((function(e){if(!e){var a=r(/*! ./containers/TaoBaoNavigator */38594).Z;i.ZP.info(t,n.hLt),(0,c.s)(t,a,n.hLt,{tabId:o})}}))}))},86329:
/*!********************************************************!*\
  !*** ./src/shared/actionCreators/affiliateTopology.js ***!
  \********************************************************/(t,e,r)=>{r.d(e,{K9:()=>o,br:()=>i});var n=r(/*! ../constants */62620),o=function(t){return{type:n.F8F,payload:{tabId:t}}},i=function(t){return{type:n.yw4,payload:{tabId:t}}}},23028:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/amsNotifier.js ***!
  \**************************************************/(t,e,r)=>{r.d(e,{wJ:()=>o,JX:()=>i,B_:()=>a,V5:()=>c,vx:()=>u,Dn:()=>s,l5:()=>l,Fq:()=>f,Mq:()=>p,c8:()=>h});var n=r(/*! ../constants/amsNotifier */41822),o=(r(/*! ../urls */4536),r(/*! ../utils/fetchUtils */28392),function(t,e,r){return{type:n.Sk,payload:{eOutletId:t,sellerIds:e,tabId:r}}}),i=function(t,e){return{type:n.Hn,payload:{eOutletId:t,sellerId:e}}},a=function(t,e){return{type:n.Rq,payload:{eOutletId:t,sellerId:e}}},c=function(t){var e=t.eOutletId,r=t.sellerId,o=t.position;return{type:n.l8,payload:{eOutletId:e,sellerId:r,position:o}}},u=function(t){return{type:n.an,payload:{tabId:t}}},s=function(t){var e=t.eOutletId,r=t.sellerId,o=t.skuId,i=t.isAmsSku;return{type:n.nj,payload:{eOutletId:e,sellerId:r,skuId:o,isAmsSku:i}}},l=function(t){var e=t.eOutletId,r=t.sellerId,o=t.activatedAt,i=t.activateState;return{type:n.m$,payload:{eOutletId:e,sellerId:r,activatedAt:o,activateState:i}}},f=function(t){var e=t.eOutletId,r=t.sellerId;return{type:n.Wh,payload:{eOutletId:e,sellerId:r}}},p=function(){return{type:n._t}},h=function(){return{type:n.CV}}},19664:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/application.js ***!
  \**************************************************/(t,e,r)=>{r.d(e,{nD:()=>o,GP:()=>i});var n=r(/*! ../constants */62620),o=function(t){var e=t.tag,r=t.message;return{type:n.Shd,payload:{tag:e,message:r}}},i=function(t){var e=t.merchantId,r=t.productId,o=t.tabId;return{type:n.eqT,payload:{merchantId:e,productId:r,tabId:o}}}},9274:
/*!************************************************************!*\
  !*** ./src/shared/actionCreators/merchants.js + 3 modules ***!
  \************************************************************/(t,e,r)=>{r.d(e,{Hp:()=>F,bE:()=>C,dj:()=>A,jm:()=>R,JA:()=>j,SH:()=>U,Kw:()=>N,vu:()=>S,NI:()=>k,lQ:()=>I,kH:()=>L,zo:()=>D});var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(59713),u=r.n(c),s=r(62620),l=r(91227),f=(r(21934),r(83582),r(49485)),p=r(26846),h=function(t){return t.settings.merchantCacheTTL||0},d=r(45786),v=r(4536),g=r(28392),m=r(63038),y=r.n(m),b=r(53437),E=function(t){var e=browser.i18n.getUILanguage();if(t===b.od.HK){var r=browser.i18n.getUILanguage().split("-"),n=y()(r,1)[0];e="".concat(n,"-HK")}return{headers:{"X-Shopback-Locale":e}}};function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){u()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e){return{type:l.AV,payload:{merchants:t,cc:e}}}function T(t,e){return{type:l.BX,payload:{merchants:t,cc:e}}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:l.Xc,payload:{merchantIds:t,meta:e}}}var P=function(t){return"canceled"===t.message};function N(t){var e=t.payload,r=e.merchantIds,n=e.meta,o=void 0!==n&&n;return function(){var t=a()(w().mark((function t(e,n){var i,a,c,u,s,m,y;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(o?{type:l.cs}:{type:l.iG}),i=n(),a=(0,f.q)(i),c=h(i),u=x({url:(0,v.A2)(r,a),params:{meta:o},throttling:c>0&&!o?{throttlingInterval:c,throttlingKey:"merchant-api-".concat(r.join("-"))}:null},E(a)),t.prev=5,!(0,d.jl)(i)){t.next=12;break}return t.next=9,g.E.get(u,i,e);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,g.Z.get(u,i);case 14:t.t0=t.sent;case 15:if(s=t.t0,m=s.data,!o){t.next=19;break}return t.abrupt("return",e(T(m,a)));case 19:return t.abrupt("return",e(O(m,a)));case 22:if(t.prev=22,t.t1=t.catch(5),!P(t.t1)){t.next=28;break}return i=n(),y=r.map((function(t){return(0,p.Lz)(i,{id:t})})),t.abrupt("return",e(O(y,a)));case 28:if(!o){t.next=30;break}return t.abrupt("return",e({type:l.FV,err:t.t1}));case 30:return t.abrupt("return",e({type:l.a_,err:t.t1}));case 31:case"end":return t.stop()}}),t,null,[[5,22]])})));return function(e,r){return t.apply(this,arguments)}}()}function I(){return{type:l.Se}}function L(){return{type:l._x}}function S(t){return{type:l.A4,payload:{merchantId:t}}}function A(t){return{type:l.en,payload:{merchantId:t}}}function C(t){return{type:l.xH,payload:{merchantId:t}}}function R(t){return{type:s.dcW,payload:{merchantId:t}}}function j(t){return{type:s.iYg,payload:{merchant:t}}}function F(t){return{type:s.PVA,payload:{merchantId:t}}}function U(t){return{type:s.Uor,payload:x({},t)}}function D(t){return{type:s.Wgb,merchant:t}}},34363:
/*!*************************************************************!*\
  !*** ./src/shared/actionCreators/permission.js + 1 modules ***!
  \*************************************************************/(t,e,r)=>{r.d(e,{Lu:()=>l,VL:()=>s,Ni:()=>u,lR:()=>c});var n=r(62620),o="DETECT_PERMISSION_CHANGE",i="CLEAN_INVALID_PERMISSION",a=r(67522);function c(){return{type:o,payload:{merchantId:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{merchantId:-1}).merchantId}}}function u(t){return{type:n.BDI,payload:{merchantId:t,ts:Date.now()}}}function s(){return{type:i,payload:{}}}function l(t){return function(e,r){var o,i=r();return(0,a.Cx)(i,{merchant:t})&&e((o=t.merchantId,{type:n.JxL,payload:{merchantId:o}})),Promise.resolve()}}},88213:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/tabs.js + 1 modules ***!
  \*******************************************************/(t,e,r)=>{r.d(e,{f$:()=>E,on:()=>w,ZW:()=>y,gZ:()=>g,iM:()=>m,G_:()=>b});var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(9274),u=r(26846);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var m={};l(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=p(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),l(E,u,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}const l={fetchMerchantById:function(){var t=a()(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch((0,c.Kw)({payload:{merchantIds:[r]}}));case 2:return t.abrupt("return",(0,u.Lz)(e.getState(),{id:r}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()};var f=r(65623),p=r(18855),h=r(21934),d=r(45887);function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function g(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:d,configurable:!0}),d.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var g=function(t){var e=t.openUrl,r=t.active,n=t.autoClose,o=void 0===n||n;return{type:p.Th,openUrl:e,active:r,autoClose:o}},m=function(t){var e=t.tabId,r=t.url,n=t.merchantId,o=t.merchantName,i=t.shoppingtripId,c=t.prevUrl;return function(){var t=a()(v().mark((function t(a,s){var g,m,y,b;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g=s(),m=(0,d.jv)(g,{tabId:e}),a({type:p.YI,payload:{tabId:e,url:r,merchantId:n,merchantName:o,shoppingtripId:i,prevUrl:c}}),!r||m===r){t.next=11;break}if(y={dispatch:a,getState:s},!(b=(0,u.Lz)(g,{id:n}))){t.next=10;break}return t.next=9,l.fetchMerchantById(y,n).catch((function(t){return h.ZP.error(g,t.stack)}));case 9:b=t.sent;case 10:f.ul.notify(y,{tabId:e,url:r,merchant:b});case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},y=function(t){var e=t.tabId,r=t.url,n=t.openerUrl;return{type:p.Hl,payload:{tabId:e,url:r,openerUrl:n}}},b=function(t){var e=t.tabId,r=t.affiliateLinkId,n=t.shoppingtripId;return{type:p.uE,payload:{tabId:e,affiliateLinkId:r,shoppingtripId:n}}},E=function(t){var e=t.tabId;return{type:p.V1,payload:{tabId:e}}},w=function(t){var e=t.tabId;return function(t,r){return browser.tabs.remove(e).catch((function(t){return h.ZP.warn(r(),t.message)})).then((function(){return t({type:p.wk,payload:{tabId:e}})}))}}},11713:
/*!*********************************************!*\
  !*** ./src/shared/actionCreators/taoBao.js ***!
  \*********************************************/(t,e,r)=>{r.d(e,{Xq:()=>l,_w:()=>f,lk:()=>p,Sk:()=>h,gh:()=>m,Fv:()=>y,cK:()=>b,V0:()=>E,qQ:()=>w});var n=r(/*! @babel/runtime/helpers/typeof */50008),o=r.n(n),i=r(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=r.n(i),c=r(/*! ../constants */62620),u=r(/*! ../utils/taoBaoUtils */80351);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var m={};l(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=p(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),l(E,u,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function l(){return{type:c.Jkz}}function f(){return{type:c.usU}}function p(){return{type:c.OO5}}function h(){return{type:c.IKz}}function d(t){return{type:c.q9M,payload:{productId:t}}}function v(t){return{type:c.aTr,payload:{productId:t}}}function g(t,e){return{type:c.RzL,payload:{productId:t,hasCashback:e}}}function m(t){var e=t.productId;return function(){var t=a()(s().mark((function t(r,n){var o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n(),i=o.cc,r(v(e)),t.prev=3,t.next=6,(0,u.aT)(e,i,o);case 6:a=t.sent,r(g(e,a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),r(d(e));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}()}function y(t,e){return{type:c.ow$,productId:t,from:e}}function b(t){return{type:c.NVs,payload:{productId:t}}}function E(t){return{type:c.slH,payload:{productId:t}}}function w(t){return{type:c.fk6,payload:{productId:t}}}},1019:
/*!*************************************************!*\
  !*** ./src/shared/actionCreators/trackingV2.js ***!
  \*************************************************/(t,e,r)=>{r.r(e),r.d(e,{trackExtUpdated:()=>g,trackExtInstalled:()=>m,trackExtOpenMenu:()=>y,trackExtLoadMenu:()=>b,trackExtViewScreenMenu:()=>E,trackExtSearchMenu:()=>w,trackExtClickMenu:()=>_,trackExtClickContent:()=>x,trackExtClickContentMenu:()=>O,trackExtInteractContentMenu:()=>T,trackExtInteractContent:()=>k,trackExtInteractDialogMenu:()=>P,trackExtInteractMenu:()=>N,trackExtHoverMenu:()=>I,trackExtHoverContent:()=>L,trackExtClickBottomNavigationMenu:()=>S,trackExtError:()=>A,trackExtExtractStart:()=>C,trackExtExtractOrder:()=>R,trackExtExtractCrawl:()=>j,trackExtExtractUpload:()=>F,trackExtViewMerchantPage:()=>U,trackExtViewInActivatedNotifier:()=>D,trackExtViewActivatedNotifier:()=>M,trackExtViewNotifier:()=>B,trackExtClickNotifier:()=>G,trackExtInteractNotifier:()=>H,trackExtHoverNotifier:()=>X,trackExtViewSerp:()=>V,trackExtClickSerp:()=>K,trackExtSaveSuccess:()=>q,trackExtRemoveSuccess:()=>Z,trackExtLoadSavedTab:()=>Y,trackExtHover:()=>W,trackExtErrorOccurred:()=>z,trackSystemLogout:()=>Q});var n=r(/*! @babel/runtime/helpers/defineProperty */59713),o=r.n(n),i=r(/*! ../constants */62620),a=r(/*! ../constants/eventsV2 */44340);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s={current_url:null,referrer_url:null,destination_url:null},l={merchant_id:null,merchant_name:null},f={screen_name:null,screen_type:null,page_type:null},p={ui_element_id:null,ui_element_name:null,ui_element_type:null,ui_element_position:null},h={feature_id:null,feature_name:null,feature_type:null,feature_position:null},d={serp_domain:null},v=function(t){var e=t.eventName,r=t.properties;return{type:i.MTw,payload:{eventName:e,properties:r}}},g=function(){return v({eventName:a.C4.EXT_UPDATED,properties:{installation_medium:"little_whale_grow"}})},m=function(t){return v({eventName:a.C4.EXT_INSTALLED,properties:u({installation_medium:"cute_whale_born",current_url:null,utm_source:null,utm_medium:null},t)})},y=function(t){return v({eventName:a.C4.EXT_OPEN_MENU,properties:u(u(u({},s),l),t)})},b=function(t){return v({eventName:a.C4.EXT_LOAD_MENU,properties:u(u(u({},s),l),t)})},E=function(t){return v({eventName:a.C4.EXT_VIEW_SCREEN_MENU,properties:u(u(u(u({},s),l),f),t)})},w=function(t){return v({eventName:a.C4.EXT_SEARCH_MENU,properties:u(u(u(u({},s),l),f),t)})},_=function(t){return v({eventName:a.C4.EXT_CLICK_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},x=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},O=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},T=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},k=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},P=function(t){return v({eventName:a.C4.EXT_INTERACT_DIALOG_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},N=function(t){return v({eventName:a.C4.EXT_INTERACT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},I=function(t){return v({eventName:a.C4.EXT_HOVER_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},L=function(t){return v({eventName:a.C4.EXT_HOVER_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},S=function(t){return v({eventName:a.C4.EXT_CLICK_BOTTOM_NAVIGATION_MENU,properties:u(u(u(u(u({},s),l),f),h),t)})},A=function(t){return v({eventName:a.C4.EXT_ERROR,properties:t})},C=function(t){return v({eventName:a.C4.EXT_EXTRACT_START,properties:t})},R=function(t){return v({eventName:a.C4.EXT_EXTRACT_ORDER,properties:t})},j=function(t){return v({eventName:a.C4.EXT_EXTRACT_CRAWL,properties:t})},F=function(t){return v({eventName:a.C4.EXT_EXTRACT_UPLOAD,properties:t})},U=function(t){return v({eventName:a.C4.EXT_VIEW_MERCHANT_PAGE,properties:u(u(u({},s),l),t)})},D=function(t){return v({eventName:a.C4.EXT_VIEW_INACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},M=function(t){return v({eventName:a.C4.EXT_VIEW_ACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},B=function(t){return v({eventName:a.C4.EXT_VIEW_NOTIFIER,properties:u(u(u({},s),l),t)})},G=function(t){return v({eventName:a.C4.EXT_CLICK_NOTIFIER,properties:u(u(u({current_url:null,referrer_url:null},h),{},{feature_destination_url:null},l),{},{screen_name:null},t)})},H=function(t){return v({eventName:a.C4.EXT_INTERACT_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},X=function(t){return v({eventName:a.C4.EXT_HOVER_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},V=function(t){return v({eventName:a.C4.EXT_VIEW_SERP,properties:u(u({},d),t)})},K=function(t){return v({eventName:a.C4.EXT_CLICK_SERP,properties:u(u({},d),{},{feature_type:null,feature_destination_url:null,merchant_id:null},t)})},q=function(t){return v({eventName:a.C4.EXT_SAVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,save_from:null},t)})},Z=function(t){return v({eventName:a.C4.EXT_REMOVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,remove_from:null},t)})},Y=function(t){return v({eventName:a.C4.EXT_LOAD_SIDE_PANEL,properties:u(u({},l),{},{current_url:window.location.href},t)})},W=function(t){return v({eventName:a.C4.EXT_HOVER,properties:u(u(u({},l),h),{},{current_url:window.location.href},t)})},z=function(t){return v({eventName:a.C4.EXT_ERROR_OCCURRED,properties:t})},Q=function(t){return v({eventName:a.C4.SYSTEM_LOGOUT,properties:t})}},95346:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/user.js + 1 modules ***!
  \*******************************************************/(t,e,r)=>{r.d(e,{xD:()=>d,kS:()=>h,Vz:()=>p,ol:()=>v,w2:()=>y,MY:()=>g,G3:()=>m});r(59713),r(50308);var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(49485),u=r(4536),s=r(28392);function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=p(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}r(88213),r(1019);var f=r(62620);r(45887),r(45786);function p(t){return{type:f.idx,payload:{token:t}}}function h(t){var e={cc:t};return{type:f.Nve,payload:e}}function d(t){var e=t.cc;return function(t){return browser.cookies.remove({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN}).then((function(){return t({type:f.vgW})})).catch((function(){return t({type:f.vgW})}))}}function v(t){var e=t.cc,r=t.accessToken;return function(t){return browser.cookies.set({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN,value:r,expirationDate:parseInt(Date.now()/1e3,10)+f.Jyn,secure:!0}).then((function(){t({type:f.tz7}),t(function(){var t=a()(l().mark((function t(e,r){var n,o,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r(),o=(0,c.q)(n),i=(0,u.vo)(o),a={url:i},s.Z.get(a,n);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})).catch((function(){return t({type:f.xMg})}))}}function g(){return{type:f.kfr}}function m(t){return{type:f.kpX,cc:t}}function y(){return{type:f.S0K}}},78504:
/*!**********************************************!*\
  !*** ./src/shared/components/CloseButton.js ***!
  \**********************************************/(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(/*! prop-types */45697),o=r(/*! react */67294),i=r(/*! styled-components */23588),a=r(/*! ../../assets/shared/close1.png */19683),c=i.ZP.div.withConfig({displayName:"CloseButton__Close",componentId:"sc-1vaeuwh-0"})(["&&{position:absolute;width:10px;height:10px;top:6px;right:6px;background-image:url(",");background-size:contain;background-repeat:no-repeat;cursor:pointer;transition:opacity 300ms ease-in-out;}&&:hover{opacity:0.8;}"],a),u=function(t){var e=t.className,r=t.onClick;return o.createElement(c,{className:e,onClick:r})};u.defaultProps={className:""},u.propTypes={className:n.string,onClick:n.func.isRequired};const s=u},95163:
/*!************************************************************************!*\
  !*** ./src/shared/components/EventTracking/notifierTrackingWrapper.js ***!
  \************************************************************************/(t,e,r)=>{r.d(e,{Z:()=>b});var n=r(/*! @babel/runtime/helpers/defineProperty */59713),o=r.n(n),i=r(/*! @babel/runtime/helpers/createClass */93913),a=r.n(i),c=r(/*! @babel/runtime/helpers/classCallCheck */34575),u=r.n(c),s=r(/*! @babel/runtime/helpers/inherits */2205),l=r.n(s),f=r(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),p=r.n(f),h=r(/*! @babel/runtime/helpers/getPrototypeOf */29754),d=r.n(h),v=r(/*! ../../actionCreators/trackingV2 */1019);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}const b=function(t){return function(t){l()(r,t);var e=y(r);function r(){var t;u()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).getType=function(){return t.props.activated?"activated_notifier":t.props.loggedIn?"cashback_notifier":"login_notifier"},t.getFeatureName=function(){return t.props.loggedIn?"cashback_activate":"login_to_activate"},t.getMerchantPropertiesForTracking=function(){var e=t.props.merchant,r=e.merchantId,n=e.name,o=e.cashback;return{merchant_id:r||null,merchant_name:n||null,is_affiliate_merchant:!!parseFloat(null==o?void 0:o.amount)||!1}},t.trackExtClickNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.getMerchantPropertiesForTracking(),n=t.props.tabId;t.props.dispatch((0,v.trackExtClickNotifier)(m(m({feature_type:"cta",tab_id:n,current_url:window.location.href},r),e)))},t.trackClickActivateBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(m({screen_name:t.getType(),feature_name:t.getFeatureName()},e))},t.trackClickLoginToActivateBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(m({screen_name:t.getType(),feature_name:t.getFeatureName()},e))},t.trackClickCloseBtnEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.trackExtClickNotifier(m({screen_name:t.getType(),feature_name:"close"},e))},t.trackExtViewNotifierEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.getMerchantPropertiesForTracking(),n=t.props.tabId;t.props.dispatch((0,v.trackExtViewNotifier)(m(m({screen_name:t.getType(),current_url:window.location.href,tab_id:n},r),e)))},t.trackExtInteractNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.getMerchantPropertiesForTracking();t.props.dispatch((0,v.trackExtInteractNotifier)(m(m({screen_name:t.getType(),current_url:window.location.href,feature_type:"cta"},r),e)))},t.trackExtHoverNotifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.getMerchantPropertiesForTracking();t.props.dispatch((0,v.trackExtHoverNotifier)(m(m({screen_name:t.getType(),current_url:window.location.href,feature_type:"cta"},r),e)))},t}return a()(r)}(t)}},33646:
/*!***********************************************************************!*\
  !*** ./src/shared/components/TransitionNotifier/index.js + 1 modules ***!
  \***********************************************************************/(t,e,r)=>{r.d(e,{Z:()=>f});var n=r(45697),o=r(67294),i=r(23588),a=r(66007),c=(a.ZP.UNMOUNTED,a.ZP.EXITED,a.ZP.ENTERING,a.ZP.ENTERED,a.ZP.EXITING,function(t){var e=t.children,r=t.isOpen,n=t.timeout,i=t.mountOnEnter,c=t.unmountOnExit,u=t.onExited;return o.createElement(a.ZP,{in:r,timeout:n,onEnter:function(t){return t&&t.scrollTop},onExited:u,mountOnEnter:i,unmountOnExit:c,appear:!0},(function(t){return e(t)}))});c.propTypes={children:n.func.isRequired,isOpen:n.bool.isRequired,timeout:n.number,mountOnEnter:n.bool,unmountOnExit:n.bool,onExited:n.func},c.defaultProps={timeout:500,mountOnEnter:!0,unmountOnExit:!0,onExited:void 0};const u=c;var s=i.ZP.div.withConfig({displayName:"TransitionNotifier__Wrapper",componentId:"sc-1nvi1ks-0"})(["&&{position:fixed;top:10px;right:10px;display:flex;border-radius:4px;box-shadow:0px 6px 8px 0px rgba(0,0,0,0.3);opacity:0;transition:opacity 0.5s ease-in-out;z-index:2147483647;}"]),l=function(t){var e=t.children,r=t.isOpen,n=t.Container,i=t.className,a=t.defaultStyle,c=t.transitionStyle,s=t.onExited;return o.createElement(u,{isOpen:r,onExited:s},(function(t){return o.createElement(n,{className:i,style:Object.assign({},a,c[t])},e)}))};l.propTypes={children:n.node.isRequired,isOpen:n.bool.isRequired,Container:n.elementType,className:n.string,defaultStyle:n.object,transitionStyle:n.object,onExited:n.func},l.defaultProps={Container:s,className:"",defaultStyle:{},transitionStyle:{entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},onExited:void 0};const f=l},5272:
/*!***********************************************!*\
  !*** ./src/shared/components/errorWrapper.js ***!
  \***********************************************/(t,e,r)=>{r.d(e,{Z:()=>y});var n=r(/*! @babel/runtime/helpers/classCallCheck */34575),o=r.n(n),i=r(/*! @babel/runtime/helpers/createClass */93913),a=r.n(i),c=r(/*! @babel/runtime/helpers/inherits */2205),u=r.n(c),s=r(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),l=r.n(s),f=r(/*! @babel/runtime/helpers/getPrototypeOf */29754),p=r.n(f),h=r(/*! prop-types */45697),d=r.n(h),v=r(/*! react */67294),g=r(/*! shared/constants/runtimeMessageEvent */92671);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var o=p()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var y=function(t){u()(r,t);var e=m(r);function r(t){var n;return o()(this,r),(n=e.call(this,t)).state={hasError:!1},n}return a()(r,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0}),browser.runtime.sendMessage({errorMessage:t.message,extra:e,action:g.o3}).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),r}(v.Component);y.propTypes={children:d().any},y.defaultProps={children:null}},41822:
/*!*********************************************!*\
  !*** ./src/shared/constants/amsNotifier.js ***!
  \*********************************************/(t,e,r)=>{r.d(e,{Sk:()=>n,Hn:()=>o,Rq:()=>i,an:()=>a,l8:()=>c,B5:()=>u,Z_:()=>s,nj:()=>l,Wh:()=>f,_t:()=>p,m$:()=>h,CV:()=>d});var n="UI_FETCH_AMS_BRANDS_ACTIVE_TIER",o="OPEN_AMS_NOTIFIER",i="CLOSE_AMS_NOTIFIER",a="SET_AMS_API_IDLE",c="CHANGE_AMS_NOTIFIER_POSITION",u=36e5,s="be_ams_notifier",l="FETCH_AMS_E_OUTLET_SELLER_CASHBACK_SUCCESS",f="ACTIVATED_AMS_E_OUTLET_SELLER",p="DEACTIVATE_ALL_AMS_E_OUTLET_SELLER",h="UPDATE_AMS_E_OUTLET_SELLER_ACTIVATION_STATE",d="ENABLE_AMS_SYNC_USER_FROM_SB_DOMAIN"},90623:
/*!*******************************************!*\
  !*** ./src/shared/constants/apiStatus.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{WI:()=>n,dF:()=>o,UP:()=>i,j5:()=>a});var n="idle",o="loading",i="success",a="error"},53437:
/*!*******************************************!*\
  !*** ./src/shared/constants/countries.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{od:()=>n,zO:()=>o,fR:()=>a,bn:()=>c,ZP:()=>u});var n={AU:"AU",DE:"DE",HK:"HK",ID:"ID",KR:"KR",MY:"MY",PH:"PH",SG:"SG",TH:"TH",TW:"TW",NZ:"NZ"},o=Object.values(n),i=Object.values({VN:"VN"}),a=([].concat(o,i),{AU:"en-AU",DE:"de",HK:"en",ID:"id",MY:"ms-MY",PH:"en",SG:"en-SG",TH:"th",TW:"en",KR:"ko-KR",NZ:"en-NZ"}),c={en:"D MMM YYYY",id:"D MMM YYYY",ko:"YYYY\ub144 M\uc6d4 D\uc77c",th:"DD/MM/YYYY",zh:"YYYY\u5e74M\u6708D\u65e5",ph:"MMM DD, YYYY",de:"dd/mm/YYYY"};const u=n},44340:
/*!******************************************!*\
  !*** ./src/shared/constants/eventsV2.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{C4:()=>a});var n,o=r(/*! @babel/runtime/helpers/defineProperty */59713),i=r.n(o),a={EXT_INSTALLED:"Extension.Install",EXT_UPDATED:"Extension.Update.Version",EXT_ERROR_OCCURRED:"Extension.Error",EXT_OPEN_MENU:"Extension.Open.Menu",EXT_LOAD_MENU:"Extension.Load.Menu",EXT_VIEW_SCREEN_MENU:"Extension.View.Screen.Menu",EXT_SEARCH_MENU:"Extension.Search.Menu",EXT_CLICK_MENU:"Extension.Click.Menu",EXT_CLICK_CONTENT:"Extension.Click.Content",EXT_CLICK_CONTENT_MENU:"Extension.Click.Content.Menu",EXT_INTERACT_CONTENT_MENU:"Extension.Interact.Content.Menu",EXT_INTERACT_DIALOG_MENU:"Extension.Interact.Dialog.Menu",EXT_INTERACT_CONTENT:"Extension.Interact.Content",EXT_INTERACT_MENU:"Extension.Interact.Menu",EXT_HOVER_MENU:"Extension.Hover.Menu",EXT_HOVER_CONTENT:"Extension.Hover.Content",EXT_CLICK_BOTTOM_NAVIGATION_MENU:"Extension.Click.BottomNavigation.Menu",EXT_EXTRACT_START:"Extension.Extract.Start",EXT_EXTRACT_ORDER:"Extension.Extract.Order",EXT_EXTRACT_CRAWL:"Extension.Extract.Crawl",EXT_EXTRACT_UPLOAD:"Extension.Extract.Upload",EXT_VIEW_MERCHANT_PAGE:"Extension.View.Screen.MerchantPage",EXT_VIEW_INACTIVATED_NOTIFIER:"Extension.Prompt.Notifier",EXT_VIEW_ACTIVATED_NOTIFIER:"Extension.View.ActivatedNotifier",EXT_CLICK_NOTIFIER:"Extension.Click.Notifier",EXT_VIEW_NOTIFIER:"Extension.View.Notifier",EXT_INTERACT_NOTIFIER:"Extension.Interact.Notifier",EXT_HOVER_NOTIFIER:"Extension.Hover.Notifier",EXT_VIEW_SERP:"Extension.View.Screen.SERP",EXT_CLICK_SERP:"Extension.Click.SERP",EXT_HOVER:"Extension.Hover",EXT_DRAG_NOTIFIER:"Extension.Drag.Notifier",EXT_SAVE_PRODUCT_SUCCESS:"Extension.Save.Success",EXT_REMOVE_PRODUCT_SUCCESS:"Extension.Remove.Success",SYSTEM_LOGOUT:"System.Logout"},c=(Object.values(a),"To report version update for product analytics. For more information, please visit"),u="To report ShopBack installs for product analytics. For more information, please visit",s="To report when ShopBack is not performing as expected. For more information, please visit",l="To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",f="To report ShopBack manually opened for product analytics. For more information, please visit",p="To report interactions with ShopBack for product analytics. For more information, please visit",h="To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",d="To report first interaction with ShopBack for product analytics. For more information, please visit";n={},i()(n,a.EXT_UPDATED,c),i()(n,a.EXT_INSTALLED,u),i()(n,a.EXT_OPEN_MENU,f),i()(n,a.EXT_LOAD_MENU,p),i()(n,a.EXT_VIEW_SCREEN_MENU,p),i()(n,a.EXT_SEARCH_MENU,p),i()(n,a.EXT_CLICK_MENU,p),i()(n,a.EXT_CLICK_CONTENT_MENU,p),i()(n,a.EXT_INTERACT_MENU,p),i()(n,a.EXT_CLICK_BOTTOM_NAVIGATION_MENU,p),i()(n,a.EXT_VIEW_MERCHANT_PAGE,h),i()(n,a.EXT_VIEW_INACTIVATED_NOTIFIER,d),i()(n,a.EXT_VIEW_ACTIVATED_NOTIFIER,l),i()(n,a.EXT_CLICK_NOTIFIER,p),i()(n,a.EXT_VIEW_NOTIFIER,d),i()(n,a.EXT_VIEW_SERP,p),i()(n,a.EXT_CLICK_SERP,p),i()(n,a.EXT_DRAG_NOTIFIER,p),i()(n,a.EXT_HOVER,p),i()(n,a.EXT_ERROR_OCCURRED,s)},62620:
/*!***************************************!*\
  !*** ./src/shared/constants/index.js ***!
  \***************************************/(t,e,r)=>{r.d(e,{T$R:()=>a.T$,VKh:()=>a.VK,LaO:()=>a.L,oiE:()=>a.oi,TjR:()=>a.Tj,gz$:()=>a.gz,kLJ:()=>a.kL,DXw:()=>a.DX,HRN:()=>a.HR,yeY:()=>a.ye,Pnd:()=>a.Pn,Mfi:()=>a.Mf,pAz:()=>a.pA,CG1:()=>a.CG,UOx:()=>a.UO,_lE:()=>a._l,iQM:()=>a.iQ,BFS:()=>s,Dwi:()=>l,_lx:()=>f,NkW:()=>p,utx:()=>h,kqf:()=>d,fk6:()=>v,RzL:()=>g,ow$:()=>m,PVA:()=>y,iYg:()=>b,Wgb:()=>E,gkN:()=>w,RR:()=>_,NVs:()=>x,yw4:()=>O,BDI:()=>T,JxL:()=>k,S0K:()=>P,Uor:()=>N,eqT:()=>I,vgW:()=>L,tz7:()=>S,xMg:()=>A,ulW:()=>C,kfr:()=>R,Shd:()=>j,kpX:()=>F,dcW:()=>U,F8F:()=>D,Nve:()=>M,SdJ:()=>c.Sd,idx:()=>B,MTw:()=>G,UFS:()=>H,ilb:()=>X,tQi:()=>V,Zr5:()=>K,PJX:()=>q,NBx:()=>Z,ibe:()=>Y,x7b:()=>W,Ai9:()=>z,MXk:()=>Q,QaO:()=>J,Km:()=>$,bL_:()=>tt,slH:()=>et,Jkz:()=>rt,usU:()=>nt,IKz:()=>ot,OO5:()=>it,q9M:()=>at,aTr:()=>ct,YKA:()=>ut,P1k:()=>st,CER:()=>lt,c$Z:()=>ft,AuS:()=>pt,kQ1:()=>ht,hLt:()=>dt,C22:()=>vt,D1p:()=>gt,G9E:()=>mt,P0H:()=>yt,Jyn:()=>bt,obn:()=>Et,HRF:()=>wt});var n=r(/*! bowser */51206),o=r.n(n),i=r(/*! ../envConfig */5281),a=r(/*! ./utmMedium */76551),c=r(/*! ./tabs */18855),u=o().getParser(navigator.userAgent).getBrowserName(),s=i.Z.ACTIVATED_EXPIRED_MS,l=i.Z.ACTIVATED_EXPIRED_MS_FOR_AMS,f=i.Z.ACTIVATED_EXPIRED_MS_FOR_TAOBAO,p=i.Z.PERMISSION_NOTIFIER_TTL,h="Roboto, Helvetica, arial, sans-serif",d="SF Pro Display, Helvetica, arial, sans-serif",v="ACTIVATE_TAOBAO_PRODUCT_FROM_SB",g="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS",m="UI_FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS",y="CLOSE_ACTIVATED_MERCHANT_NOTIFIER",b="DELETE_EXPIRED_ACTIVATED_MERCHANT",E="UI_VISIT_ACTIVATED_MERCHANT_NOTIFIER",w="OPT_IN_PERMISSION_NOTIFIER_SHOWN",_="UPDATE_USER_PREFERENCES",x="DEACTIVATE_TAOBAO_PRODUCT",O="pwd",T="CLOSE_PERMISSION_NOTIFIER",k="RESET_PERMISSION_NOTIFIER",P="UI_FETCH_USER_INFO_SUCCESS",N="DETECT_SB_REDIRECT_PAGE",I="DEEP_LINK_REDIRECT",L="DROP_COOKIE_DONE",S="SET_COOKIE_DONE",A="SET_COOKIE_FAIL",C="SHOW_DISABLE_NOTIFIER",R="UI_FETCH_USER_INFO",j="LOG_FOR_TRACK",F="UI_SWITCH_USER",U="DE_ACTIVATE",D="mv",M="LOGOUT",B="REFRESH_ACCESS_TOKEN_SUCCESS",G="EVENT_EXT_TRACKING",H="AU",X=3e5,V=6e4,K=36e5,q=36e5,Z="unavailable",Y="available",W="activated",z="fetching",Q="down",J="ACTIVATE_STATE_NOT_ACTIVATED",$="ACTIVATE_STATE_ACTIVATING",tt="ACTIVATE_STATE_ACTIVATED",et="TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED",rt="TAOBAO_OPEN_NOTIFIER",nt="TAOBAO_CLOSE_NOTIFIER",ot="TAOBAO_OPEN_CONFIRMATION_NOTIFIER",it="TAOBAO_CLOSE_CONFIRMATION_NOTIFIER",at="TAOBAO_OPEN_API_DOWN_NOTIFIER",ct="TAOBAO_CLOSE_API_DOWN_NOTIFIER",ut="shopback-taobao-cart",st=2,lt=[".ebates-serp","#gym_serp"],ft="shopback-cashback-notifier",pt="shopback-confirmation-notifier",ht="shopback-popup-search-input-box",dt="shopback-taobao-navigator",vt="shopback-opt-in-permission-notifier",gt=u===o().BROWSER_MAP.firefox,mt=u===o().BROWSER_MAP.chrome,yt=u===o().BROWSER_MAP.edge,bt=31536e3,Et={X_SHOPBACK_LAST_CC:"X-SHOPBACK-LAST-CC",X_SHOPBACK_IRONGATE_ENABLED:"X-SHOPBACK-IRONGATE-ENABLED",X_SHOPBACK_DOMAIN:"X-SHOPBACK-DOMAIN",X_SHOPBACK_EXTENSION_VERSION:"X-SHOPBACK-EXTENSION-VERSION",X_SHOPBACK_CLIENT_USER_AGENT:"X-SHOPBACK-CLIENT-USER-AGENT",X_SHOPBACK_ACCESS_TOKEN:"X-SHOPBACK-ACCESS-TOKEN",X_SHOPBACK_REFRESH_TOKEN:"X-SHOPBACK-REFRESH-TOKEN",X_SHOPBACK_EVENT_NAME:"X-SHOPBACK-TRACKING-EVENT-NAME",X_SHOPBACK_INTERNAL:"X-SHOPBACK-INTERNAL",X_SHOPBACK_AGENT:"X-SHOPBACK-AGENT",X_SHOPBACK_ENVIRONMENT:"X-Shopback-Environment",CONTENT_TYPE:"Content-Type",ACCEPT:"Accept",AUTHORIZATION:"Authorization"},wt={ACCESS_TOKEN:"sbet",REFRESH_TOKEN:"sbrefresh"}},58950:
/*!********************************************!*\
  !*** ./src/shared/constants/lazyModule.js ***!
  \********************************************/(t,e,r)=>{r.d(e,{Rd:()=>n,sw:()=>o,rm:()=>i,zo:()=>a,Zn:()=>c,AU:()=>u,gQ:()=>s,J9:()=>l,Db:()=>f,qr:()=>p,ot:()=>h,HT:()=>d,KP:()=>v,FN:()=>g,Uo:()=>m});var n="aliExpressNavigator",o="aliExpressCartPageIndicator",i="amsNotifier",a="disableNotifier",c="permissionNotifier",u="postInstallTooltip",s="serp",l="notifier",f="taoBaoCheckoutPage",p="taoBaoNavigator",h="taoBaoCartCashbackStatus",d="optInPermissionNotifier",v="settingPanel",g="dogfoodReport",m="voucherNotifier"},91227:
/*!*******************************************!*\
  !*** ./src/shared/constants/merchants.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{Xc:()=>n,iG:()=>o,AV:()=>i,a_:()=>a,cs:()=>c,BX:()=>u,FV:()=>s,xH:()=>l,en:()=>f,Se:()=>p,_x:()=>h,Dc:()=>d,A4:()=>v,nz:()=>g,bI:()=>m,Y4:()=>y,s1:()=>b});var n="UI_FETCH_MERCHANTS",o="FETCH_MERCHANTS_LOADING",i="FETCH_MERCHANTS_SUCCESS",a="FETCH_MERCHANTS_ERROR",c="FETCH_MERCHANTS_META_LOADING",u="FETCH_MERCHANTS_META_SUCCESS",s="FETCH_MERCHANTS_META_ERROR",l="CLOSE_MERCHANT_DISABLE_NOTIFIER",f="CLOSE_MERCHANT_NOTIFIER",p="UI_FETCH_TOP_MERCHANTS",h="UI_FETCH_UPSIZED_MERCHANTS",d="UI_FETCH_PERSONAL_RECOMMENDATION_MERCHANTS",v="UI_FETCH_MERCHANT_TNC",g="UI_FETCH_WATCH_MERCHANT_LIST",m="UI_CREATE_WATCH_MERCHANT",y="UI_DELETE_WATCH_MERCHANT",b="UI_FETCH_WATCH_RECOMMENDATION_MERCHANT"},92671:
/*!*****************************************************!*\
  !*** ./src/shared/constants/runtimeMessageEvent.js ***!
  \*****************************************************/(t,e,r)=>{r.d(e,{ue:()=>n,PX:()=>o,Z$:()=>i,Dy:()=>a,BN:()=>c,s0:()=>u,Ax:()=>s,ci:()=>l,G3:()=>f,I9:()=>p,Kb:()=>h,Rt:()=>d,o3:()=>v,wP:()=>g});var n="GET_TAB_OF_CONTENT_SCRIPT",o="OPEN_BROWSER_SETTING_PAGE",i="OPEN_BROWSER_OPTIONS_PAGE",a="ACTIVATE_CASHBACK_EVENT",c="ACTIVATE_AMS_CASHBACK_EVENT",u="ACTIVATE_TAOBAO_CASHBACK_EVENT",s="UNINSTALL_SELF",l="LOAD_MODULE",f="FETCH_TAOBAO_PRODUCT_DEEPLINK_EVENT",p="DETECT_BACKGROUND",h="OPEN_NEW_TAB",d="CAPTURE_TAB",v="SENTRY_ERROR_LOGGING",g="SHOW_DOGFOOD_REPORT"},18855:
/*!**************************************!*\
  !*** ./src/shared/constants/tabs.js ***!
  \**************************************/(t,e,r)=>{r.d(e,{Th:()=>n,YI:()=>o,wk:()=>i,uE:()=>a,Hl:()=>c,V1:()=>u,Sd:()=>s,si:()=>l,yV:()=>f,qq:()=>p,vo:()=>h,y2:()=>d,UW:()=>v,xE:()=>g,tz:()=>m,Si:()=>y,LL:()=>b,QS:()=>E,Gy:()=>w,uB:()=>_,Ly:()=>x,fP:()=>O,m7:()=>T,Ys:()=>k,PL:()=>P,kE:()=>N,E:()=>I,P:()=>L,mK:()=>S,DR:()=>A,F2:()=>C,nP:()=>R,DV:()=>j,Zj:()=>F});var n="TABS/UI_OPEN_NEW_TAB",o="TABS/UPDATE_TAB",i="TABS/CLOSE_TAB",a="TABS/UPDATE_TAB_ACTIVATE_INFO",c="TABS/CREATE_TAB",u="TABS/CLEAR_OPENERURL",s="home",l="saved",f="account",p="notification",h="cashbackNotifier",d="educationNotifier",v="tncNotifier",g="complianceInfo",m="dealOfTheDay",y="upsizedFlashDeals",b="recommendation",E="watchList",w={MERCHANT:"merchantPage",NON_MERCHANT:"nonMerchantPage"},_="voucher",x="topStores",O="errorPage",T="joinShopBackPlus",k="lifeTimeEarnings",P="cashbackOverview",N="recentCashback",I="referFriend",L="reviewUs",S="helpCenter",A="countryDropdown",C="manageSubscriptionButton",R="logoutButton",j="loginPage",F="watchListMerchant"},91369:
/*!****************************************!*\
  !*** ./src/shared/constants/taobao.js ***!
  \****************************************/(t,e,r)=>{r.d(e,{YX:()=>n,OZ:()=>o,W5:()=>i,Uc:()=>a});var n="taobao_notifier",o="taobao_cartpage",i="taobao_checkoutpage",a="taobao_tabupdate"},76551:
/*!*******************************************!*\
  !*** ./src/shared/constants/utmMedium.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{T$:()=>n,oi:()=>o,UO:()=>i,L:()=>a,gz:()=>c,iQ:()=>u,_l:()=>s,k4:()=>l,xi:()=>f,kL:()=>p,ye:()=>h,DX:()=>d,HR:()=>v,Pn:()=>g,Mf:()=>m,R7:()=>y,KK:()=>b,Hq:()=>E,V_:()=>w,pA:()=>_,CG:()=>x,Ol:()=>O,G0:()=>T,VK:()=>k,Tj:()=>P});var n="be_aliexpress_checkout_notifier",o="be_aliexpress_checkout_login_to_activate",i="be_cashback_notifier",a="be_disable_notifier",c="be_login_notifier",u="be_taobao_login_cashback_notifier",s="be_taobao_cashback_notifier",l="be_aliexpress_notifier",f="be_aliexpress_login_notifier",p="be_menu_getcashback",h="be_menu_logintogetcashback",d="be_menu_dealoftheday",v="be_menu_dealoftheday_nonlogin",g="be_menu_recommendedstore",m="be_menu_recommendedstore_nonlogin",y="be_menu_store",b="be_menu_store_nonlogin",E="be_menu_store_search",w="be_menu_store_search_nonlogin",_="be_menu_upsizeflashdeals",x="be_menu_upsizeflashdeals_nonlogin",O="be_watchlist_merchant",T="be_watchlist_recommended_merchant",k="be_confirmation_notifier",P="be_login_confirmation_notifier"},88968:
/*!*****************************************************************************!*\
  !*** ./src/shared/containers/CashbackNotifierTooltip/index.js + 10 modules ***!
  \*****************************************************************************/(t,e,r)=>{r.d(e,{Z:()=>Et});var n=r(65858),o=r(41438),i=r(22222),a=r(1019),c=r(67154),u=r.n(c),s=r(67294);const l=function(t){return t.displayName||t.name||"Component"};var f=r(63038),p=r.n(f),h=r(45697),d=r(25903),v=r.n(d),g=r(51693),m=r(89489),y=function(){var t=(0,n.v9)((function(t){return(0,g.bo)(t)})),e=(0,n.v9)((function(t){return(0,m.jM)(t)})),r=(0,s.useState)(null),o=p()(r,2),i=o[0],a=o[1],c=(0,s.useState)(!0),u=p()(c,2),l=u[0],f=u[1];return(0,s.useEffect)((function(){browser.runtime.sendMessage("djjjmdgomejlopjnccoejdhgjmiappap",{type:"GET_UNIFY_EXTENSION_VERSION"}).then((function(t){return t.version})).catch((function(){return null})).then((function(r){var n=v()(t,e)?t:r;a(n),f(!1)}))}),[a,f,t,e]),[i,l]},b=function(t){var e=t.children,r=y(),n=p()(r,2),o=n[0];return n[1]?null:e(o)};b.propTypes={children:h.func.isRequired};const E=b;const w=function(t){var e=l(t),r=(0,s.forwardRef)((function(e,r){return s.createElement(E,null,(function(n){return s.createElement(t,u()({},e,{ref:r,unifyExtensionVersion:n}))}))}));return r.displayName="WithUnifyExtensionVersion(".concat(e,")"),r};var _=r(96965),x=r(27361),O=r.n(x),T=r(21544),k=r.n(T),P=Object.freeze({GENERAL:"general",INSTALL:"install",UNINSTALL:"uninstall",AUTO_UNINSTALL:"autoUninstall"}),N=Object.freeze({GENERAL:"taobao_general",INSTALL:"taobao_install",UNINSTALL:"taobao_uninstall",AUTO_UNINSTALL:"taobao_autoUninstall"}),I=(0,i.P1)(m.Gw,(function(t){return t.cashbackNotifierTooltips})),L=(0,i.P1)(I,g.bo,(function(t,e){return e.unifyExtensionVersion}),m.jM,_.Iw,(function(t,e,r,n,o){var i=o?N:P;return!r||k()(r,n)?t.find((function(t){return t.type===i.INSTALL})):r!==e?t.find((function(t){return t.type===i.UNINSTALL||t.type===i.AUTO_UNINSTALL})):t.find((function(t){return t.type===i.GENERAL}))})),S=(0,i.P1)(L,(function(t){return!!t})),A=(0,i.P1)(L,(function(t){return O()(t,"type","")})),C=(0,i.P1)(L,(function(t){return O()(t,"imgUrl","")})),R=(0,i.P1)(L,(function(t){return O()(t,"imgTargetUrl","")})),j=(0,i.P1)(L,(function(t){return O()(t,"footer",null)})),F=r(50008),U=r.n(F),D=r(59713),M=r.n(D),B=r(48926),G=r.n(B),H=r(34575),X=r.n(H),V=r(93913),K=r.n(V),q=r(2205),Z=r.n(q),Y=r(78585),W=r.n(Y),z=r(29754),Q=r.n(z),J=r(23588),$=r(14284),tt=r(60722),et=J.ZP.span.withConfig({displayName:"Footer__ClickableMsg",componentId:"sc-1msap4w-0"})(["&&{display:inline-block;height:16px;line-height:16px;font-size:14px;font-weight:500;vertical-align:top;color:#286fdc;cursor:pointer;transition:opacity 300ms ease-out;}&&:hover{opacity:0.8;}"]),rt=J.ZP.div.withConfig({displayName:"Footer__Container",componentId:"sc-1msap4w-1"})(["&&{width:100%;height:48px;padding-top:8px;margin-top:-20px;border-radius:3px;box-sizing:border-box;text-align:center;background-color:#ffffff;}"]),nt=function(t){var e=t.message,r=t.handleClick;return s.createElement(rt,{onClick:r},s.createElement(et,null,e))};nt.propTypes={message:h.string.isRequired,handleClick:h.func.isRequired};const ot=nt;var it,at=Object.freeze({DONT_SHOW_IN_X_HOURS:"dontShowInXHours",LINK:"link"}),ct=Object.freeze((it={},M()(it,at.DONT_SHOW_IN_X_HOURS,"don't_show"),M()(it,at.LINK,"link"),it));function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(r),!0).forEach((function(e){M()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new T(o||[]);return n(a,"_invoke",{value:w(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==e&&r.call(m,i)&&(v=m);var y=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==U()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,c,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Q()(t);if(e){var o=Q()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var pt=[P.GENERAL,N.GENERAL],ht=[P.AUTO_UNINSTALL,N.AUTO_UNINSTALL],dt=J.ZP.img.withConfig({displayName:"CashbackNotifierTooltip__Image",componentId:"x80qlt-0"})(["&&{width:100%;height:auto;z-index:-1;}"]),vt=J.ZP.a.withConfig({displayName:"CashbackNotifierTooltip__Link",componentId:"x80qlt-1"})(["&&{display:flex;}"]),gt=J.ZP.div.withConfig({displayName:"CashbackNotifierTooltip__Container",componentId:"x80qlt-2"})(["&&{align-self:flex-end;width:100%;border-radius:0 0 3px 3px;background-color:#ffffff;z-index:1;margin-top:5px;}"]),mt=function(t){Z()(n,t);var e,r=ft(n);function n(){var t;X()(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=r.call.apply(r,[this].concat(o))).state={isOpen:!1},t.shouldOpen=G()(lt().mark((function e(){var r,n,o,i,a,c,u,s,l,f;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,n=r.hasTooltip,o=r.previousVersion,i=r.type,a=r.footer,c=void 0===a?{}:a,u=O()(c,"type"),e.next=4,$.Z.get(tt.J);case 4:if(s=e.sent,l=s.visited,f=s.closeAt,n){e.next=9;break}return e.abrupt("return",!1);case 9:if(u!==at.DONT_SHOW_IN_X_HOURS){e.next=11;break}return e.abrupt("return",t.hasDontShowExpired(f));case 11:if(pt.includes(i)){e.next=13;break}return e.abrupt("return",!0);case 13:return e.abrupt("return",!(o||l));case 14:case"end":return e.stop()}}),e)}))),t.hasDontShowExpired=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=(t.props.footer||{}).hours,n=void 0===r?0:r;return!e||Date.now()>e+60*n*60*1e3},t.handleImageClick=function(e){var r=t.props,n=r.type,o=r.imgUrl,i=r.imgTargetUrl,a=r.uninstallSelf;i||e.preventDefault(),t.trackExtClickNotifier({featureName:o}),t.close(),ht.includes(n)&&a()},t.handleFooterClick=function(){var e=t.props.footer||{},r=e.type,n=e.link,o=r===at.DONT_SHOW_IN_X_HOURS?Date.now():0;r===at.LINK&&window.open(n),t.trackExtClickNotifier({featureName:ct[r]}),t.close({closeAt:o})},t.trackExtClickNotifier=function(e){var r,n=e.featureName;if(n){var o=t.props,i=o.name,a=o.trackExtClickNotifier,c=o.merchant,u={merchant_id:c.merchantId||null,merchant_name:c.name||null,is_affiliate_merchant:!!parseFloat(null===(r=c.cashback)||void 0===r?void 0:r.amount)||!1};a(st({screen_name:i,feature_name:n,feature_type:"cta",current_url:window.location.href},u))}},t.open=function(){return t.setState({isOpen:!0})},t.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setState({isOpen:!1}),$.Z.update(tt.J,st(st({},e),{},{visited:!0}))},t}return K()(n,[{key:"componentDidMount",value:(e=G()(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.shouldOpen();case 2:t.sent&&this.open();case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,e=t.imgUrl,r=t.imgTargetUrl,n=t.footer,o=this.state.isOpen,i=(n||{}).message;return o?s.createElement(gt,null,s.createElement(vt,{href:r,target:"_blank",onClick:this.handleImageClick},s.createElement(dt,{src:e})),n&&s.createElement(ot,{message:i,handleClick:this.handleFooterClick})):null}}]),n}(s.PureComponent);mt.defaultProps={footer:null,merchant:{}},mt.propTypes={name:h.string.isRequired,previousVersion:h.string.isRequired,hasTooltip:h.bool.isRequired,type:h.string.isRequired,imgUrl:h.string.isRequired,imgTargetUrl:h.string.isRequired,footer:(0,h.shape)({type:(0,h.oneOf)(Object.values(at)).isRequired,message:h.string.isRequired,hours:h.number,link:h.string}),merchant:h.object,trackExtClickNotifier:h.func.isRequired,uninstallSelf:h.func.isRequired};const yt=mt;var bt=(0,i.zB)({previousVersion:g.Gw,hasTooltip:S,type:A,imgUrl:C,imgTargetUrl:R,footer:j,merchantId:_._P});const Et=(0,o.compose)(w,(0,n.$j)(bt,(function(t){return(0,o.bindActionCreators)({trackExtClickNotifier:a.trackExtClickNotifier},t)}),null,{forwardRef:!0}))(yt)},5281:
/*!*********************************!*\
  !*** ./src/shared/envConfig.js ***!
  \*********************************/(t,e,r)=>{r.d(e,{Z:()=>n});const n=r(/*! ../../env/production.json */47776)},21934:
/*!**************************************************!*\
  !*** ./src/shared/loggers/logger.js + 1 modules ***!
  \**************************************************/(t,e,r)=>{r.d(e,{ZP:()=>E});var n=r(59713),o=r.n(n),i=r(50008),a=r.n(i),c=r(27484),u=r.n(c),s=r(41609),l=r.n(s),f=r(14293),p=r.n(f);r(20820),r(94500),r(71171);var h,d=r(62620),v=r(51693),g="info",m="warn",y="error",b=function(t,e,r,n){var o,i=(null===(o=t.getState)||void 0===o?void 0:o.call(t))||t;if(!l()(i)&&(0,v.hn)(i)){var c=n||{},s=c.isCollapsed,f=c.properties,h=u()().format("YYYY-MM-DDTHH:mm:ss:SSS"),d="[".concat("shopback","][").concat(h,"] ").concat("object"===a()(r)?JSON.stringify(r):r);if(s)p()(f)?console.groupCollapsed(d):console.groupCollapsed(d,f),console.trace(),console[e](r),console.groupEnd();else{var g,m=p()(f)?[d]:[d,f];(g=console)[e].apply(g,m)}}};const E=(h={},o()(h,g,(function(t,e,r){b(t,g,e,{isCollapsed:!0,properties:r})})),o()(h,m,(function(t,e,r){b(t,m,e,{isCollapsed:d.D1p,properties:r})})),o()(h,y,(function(t,e,r){b(t,y,e,{isCollapsed:!1,properties:r})})),h)},16730:
/*!****************************************************************************!*\
  !*** ./src/shared/providers/TanStackQueryProvider/fetchers.js + 1 modules ***!
  \****************************************************************************/(t,e,r)=>{r.d(e,{lQ:()=>w,b5:()=>_});var n=r(50008),o=r.n(n),i=r(59713),a=r.n(i),c=r(48926),u=r.n(c),s=r(65858),l=r(62620),f=r(49485),p=r(4536),h=r(28392),d=r(63038),v=r.n(d),g=r(96486),m=function(t){return"".concat(t.reduce((function(t,e){if(Array.isArray(e))return"".concat(t,"/").concat(e.join("/"));if((0,g.isPlainObject)(e)&&(i=e,Object.values(i).every((function(t){return"number"==typeof t||"string"==typeof t||Array.isArray(t)})))){var r=(n=e,o=new URLSearchParams,Object.entries(n).forEach((function(t){var e=v()(t,2),r=e[0],n=e[1];Array.isArray(n)?n.forEach((function(t){return o.append(r,t.toString())})):o.append(r,n.toString())})),o.toString());return"".concat(t,"?").concat(r.toString())}var n,o,i;return"".concat(t,"/").concat(e)})))};function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var w=function(t){return function(){var e=u()(E().mark((function e(r){var n,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.queryKey,e.prev=1,e.next=4,h.Z.get({url:"".concat((0,p.XF)(t),"/").concat(m(n)),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.Eu)(t)),ignoreCC:!0});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},_=function(){var t=(0,s.v9)(f.q),e=(0,s.I0)(),r=(0,s.oR)(),n=function(){var n=u()(E().mark((function n(){var o,i,c,u,s,f,d,v=arguments;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(o=v.length>0&&void 0!==v[0]?v[0]:{method:"post"}).url,c=o.body,u=o.method,s=void 0===u?"post":u,n.prev=1,f={get:h.E.get,post:h.E.post,put:h.E.put,delete:h.E.delete,patch:h.E.patch}[s.toLowerCase()],n.next=5,f(b(b({url:"".concat((0,p.XF)(t),"/").concat(i),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.Eu)(t))},c?{data:c}:{}),{},{ignoreCC:!0}),r.getState(),e);case 5:return d=n.sent,n.abrupt("return",d.data);case 9:throw n.prev=9,n.t0=n.catch(1),n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();return{defaultMutationFnWithToken:n}}},83582:
/*!********************************************!*\
  !*** ./src/shared/selectors/activation.js ***!
  \********************************************/(t,e,r)=>{r.d(e,{EJ:()=>s,B4:()=>l,fK:()=>f,r6:()=>p,aI:()=>h,GM:()=>d,tm:()=>v,pK:()=>m,_f:()=>y,lE:()=>b});var n=r(/*! lodash/get */27361),o=r.n(n),i=r(/*! reselect */22222),a=r(/*! shared/constants */62620),c=r(/*! ./merchant */96965),u=function(t){return t.activation.byExt},s=(0,i.P1)(u,c._P,(function(t,e){return t[e]})),l=(0,i.P1)(s,(function(t){return o()(t,"activatedAt",null)})),f=(0,i.P1)(s,(function(t){return o()(t,"visited",null)})),p=(0,i.P1)(f,(function(t){return t===a.P1k})),h=(0,i.P1)(s,(function(t){return o()(t,"activatingId",null)})),d=(0,i.P1)(s,(function(t){return!!o()(t,"activated",null)})),v=((0,i.P1)(u,(function(t){return Object.keys(t).filter((function(e){return t[e].activated}))})),(0,i.P1)(s,(function(t){return null!=o()(t,"partnershipId")}))),g=(0,i.P1)(s,(function(t){return!(!o()(t,"disabled")||!o()(t,"focusing"))})),m=(0,i.P1)(s,(function(t){return!!o()(t,"disabled")})),y=((0,i.P1)(m,g,(function(t,e){return t&&!e})),(0,i.P1)(d,s,(function(t,e){return t?e:null}))),b=(0,i.P1)(s,(function(t){return o()(t,"shoppingtripId")}))},68093:
/*!*********************************************!*\
  !*** ./src/shared/selectors/amsNotifier.js ***!
  \*********************************************/(t,e,r)=>{r.d(e,{ko:()=>f,hc:()=>p,Im:()=>v,d3:()=>g,FU:()=>m,Ee:()=>b,Re:()=>E,mU:()=>w,MW:()=>_,F5:()=>T,A1:()=>k});var n=r(/*! reselect */22222),o=r(/*! ./settings/websitePatterns */80905),i=r(/*! ./settings/serviceEnableCountry */40062),a=r(/*! ../constants/amsNotifier */41822),c=r(/*! ../constants/apiStatus */90623),u=r(/*! ../constants/index */62620),s=r(/*! ../utils/commonUtils */26426),l=(0,n.P1)(o.SL,(function(t){return null==t?void 0:t.amsNotifier})),f=(0,n.P1)(l,(function(t,e){return e.url}),(function(t,e){return t.urls.some((function(t){return!!t&&new RegExp(t).test(e)}))})),p=(0,n.P1)(l,(function(t,e){return e}),(function(t,e){var r=e.url,n=e.merchant,o=(null==t?void 0:t.productPageUrls[null==n?void 0:n.urlDomain])||[],i=null;return o.forEach((function(t){var e,n=new RegExp(t),o=r.match(n);null!=o&&null!==(e=o.groups)&&void 0!==e&&e.sid&&(i=o.groups.sid)})),{isProductPage:!!i,sellerId:i}})),h=function(t){return t.amsNotifier},d=(0,n.P1)(h,(function(t){return t.eOutlets})),v=(0,n.P1)(d,(function(t,e){return e}),(function(t,e){var r=e.eOutletId,n=e.sellerId,o=t[r];return o?o[n]:{}})),g=(0,n.P1)(h,(function(t,e){return e}),(function(t,e){var r;return(null===(r=t.tabs[e.tabId])||void 0===r?void 0:r.apiStatus)||c.WI})),m=(0,n.P1)((function(t){return t}),i.Cq,p,(function(t,e){return e}),(function(t,e,r,n){var o=r.isProductPage,i=r.sellerId,a=n.merchant;if(!e||!o)return!1;var c=v(t,{sellerId:i,eOutletId:null==a?void 0:a.eOutletId});return!(null==c||!c.amount)})),y=(0,n.P1)(h,(function(t,e){return null==e?void 0:e.eOutletId}),(function(t,e){return t.settings[e]})),b=(0,n.P1)(y,(function(t,e){return null==e?void 0:e.sellerId}),(function(t,e){return t?t[e]:{}})),E=(0,n.P1)(b,(function(t){return null==t||!t.closeAt||(0,s.Dy)()-(null==t?void 0:t.closeAt)>a.B5})),w=(0,n.P1)(b,(function(t){var e;return null!==(e=null==t?void 0:t.position)&&void 0!==e?e:{y:.2}})),_=(0,n.P1)(h,(function(t){var e,r=t.settings;return null!==(e=null==r?void 0:r.snoozed)&&void 0!==e?e:{}})),x=(0,n.P1)(v,(function(t){return null==t?void 0:t.skuIds})),O=(0,n.P1)(x,(function(t,e){return e}),(function(t,e){return!!t&&t.includes(null==e?void 0:e.skuId)})),T=(0,n.P1)(O,b,(function(t,e){return t&&(null==e?void 0:e.activationState)===u.bL_})),k=((0,n.P1)(h,(function(t,e){return e}),(function(t,e){var r;return(null===(r=t.sellers[e.sellerId])||void 0===r?void 0:r.activationState)===u.bL_})),(0,n.P1)(h,(function(t){var e=t.settings;return Object.keys(e).some((function(t){var r=e[t];return Object.keys(r).some((function(t){var e;return(null===(e=r[t])||void 0===e?void 0:e.activationState)===u.bL_}))}))})));(0,n.P1)(h,(function(t){return null==t?void 0:t.enableAmsSyncUserFromShopBack}))},49485:
/*!************************************!*\
  !*** ./src/shared/selectors/cc.js ***!
  \************************************/(t,e,r)=>{r.d(e,{q:()=>n});var n=function(t){return t.cc}},6688:
/*!*********************************************!*\
  !*** ./src/shared/selectors/experiments.js ***!
  \*********************************************/(t,e,r)=>{r.d(e,{Zb:()=>f,Qr:()=>p,k:()=>h,IM:()=>d,vb:()=>v});var n=r(/*! reselect */22222),o=r(/*! ./settings */89489),i=r(/*! ./cc */49485);function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=function(t){return t.experiments},s="extension-merchant-off",l=((0,n.P1)(o.TQ,(function(t){var e=[],r=[s];return t.some((function(t){return e.some((function(e){return t===e}))||r.some((function(e){return t.includes(e)}))}))})),(0,n.P1)(u,(function(t){return 0!==Object.keys(t).length})),(0,n.P1)(o.TQ,u,(function(t,e){return Object.keys(e).filter((function(e){return!t.includes(e)}))})),(0,n.P1)(o.TQ,u,i.q,(function(t,e){return e.merchantId}),(function(t,e,r,n){if(!n)return!1;var o,i=t.filter((function(t){return t.includes(s)})),c=a(i);try{for(c.s();!(o=c.n()).done;){var u,l,f,p=a((null===(u=e[o.value])||void 0===u||null===(l=u.payload)||void 0===l?void 0:l[r])||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;if(h.id===n)return h}}catch(t){p.e(t)}finally{p.f()}}}catch(t){c.e(t)}finally{c.f()}return null}))),f=(0,n.P1)(l,(function(t){return!!t&&!t.on})),p=(0,n.P1)(l,(function(t){return!!t})),h=(0,n.P1)(o.TQ,u,i.q,(function(t,e,r){return t.filter((function(t){return t.includes(s)})).reduce((function(t,n){var o,i,a=((null===(o=e[n])||void 0===o||null===(i=o.payload)||void 0===i?void 0:i[r])||[]).filter((function(t){return!t.on})).map((function(t){return t.id}));return t.concat(a)}),[])})),d=(0,n.P1)(l,f,(function(t,e){return!!t&&(e&&Boolean(t.friendlyNotifierEnabled))})),v=(0,n.P1)(l,f,(function(t,e){return!!t&&(e&&Boolean(t.compliancePopupEnabled))}))},51693:
/*!***********************************************!*\
  !*** ./src/shared/selectors/extensionMeta.js ***!
  \***********************************************/(t,e,r)=>{r.d(e,{hn:()=>i,bo:()=>a,Gw:()=>c});var n=r(/*! reselect */22222),o=function(t){return null==t?void 0:t.extension},i=(0,n.P1)(o,(function(t){return!(null==t||!t.loggerEnabled)})),a=(0,n.P1)(o,(function(t){return null==t?void 0:t.version})),c=(0,n.P1)(o,(function(t){return(null==t?void 0:t.previousVersion)||""}));(0,n.P1)(o,(function(t){return(null==t?void 0:t.sbExtId)||""}))},96965:
/*!******************************************!*\
  !*** ./src/shared/selectors/merchant.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{_P:()=>s,$K:()=>l,RX:()=>h,v6:()=>d,Jz:()=>v,wA:()=>g,hY:()=>m,hA:()=>b,V2:()=>E,Iw:()=>w,ki:()=>_,FK:()=>x});var n=r(/*! lodash/get */27361),o=r.n(n),i=r(/*! reselect */22222),a=r(/*! ../constants */62620),c=r(/*! ../utils/commonUtils */26426),u=function(t,e){return e.merchant},s=(0,i.P1)(u,(function(t){return o()(t,"merchantId",-1)})),l=(0,i.P1)(u,(function(t){return o()(t,"name","")})),f=(0,i.P1)(u,(function(t){return o()(t,"cashbackNotifierClosedAt",null)})),p=(0,i.P1)(u,(function(t){return!!o()(t,"popupEnabled")})),h=(0,i.P1)(u,(function(t){return o()(t,"friendlyNotifierEnabled",!1)})),d=(0,i.P1)(u,(function(t){return o()(t,"compliancePopupEnabled",!1)})),v=(0,i.P1)(u,p,(function(t,e){return!!o()(t,"cashbackNotifierEnabled",e)})),g=(0,i.P1)(u,(function(t){return!!o()(t,"confirmationPopupEnabled")})),m=(0,i.P1)(u,(function(t){return!!o()(t,"standDown",!1)})),y=(0,i.P1)(u,(function(t){return o()(t,"cashback",null)})),b=(0,i.P1)(y,(function(t){return Boolean(t&&parseFloat(t.amount))})),E=(0,i.P1)(f,(function(t){if(!t)return!0;var e=(0,c.Dy)();return"number"==typeof t&&e-t>a.PJX})),w=(0,i.P1)(u,(function(t){return!!o()(t,"isTaobao")})),_=function(t){var e,r;if(null==t||!t.oldCashback)return!1;var n=parseFloat(null===(e=t.cashback)||void 0===e?void 0:e.amount),o=parseFloat(null===(r=t.oldCashback)||void 0===r?void 0:r.amount);return n>0&&o>0&&n>o},x=(0,i.P1)(u,(function(t){return o()(t,"disableNotifierOpened",!1)}));(0,i.P1)(u,(function(t){return o()(t,"inBrowserCrawlerEnabled",!1)}))},26846:
/*!*******************************************!*\
  !*** ./src/shared/selectors/merchants.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{pF:()=>O,FO:()=>T,go:()=>k,BD:()=>N,Lz:()=>A,_t:()=>C,Ci:()=>R,cY:()=>j,Ay:()=>F,Mp:()=>U,yn:()=>D,BF:()=>M,_P:()=>B,hq:()=>G,hb:()=>H,kS:()=>X,j_:()=>V,f6:()=>K,NQ:()=>q,WZ:()=>Z,UE:()=>Y,hv:()=>W});var n=r(/*! @babel/runtime/helpers/defineProperty */59713),o=r.n(n),i=r(/*! @babel/runtime/helpers/slicedToArray */63038),a=r.n(i),c=r(/*! lodash/cloneDeep */50361),u=r.n(c),s=r(/*! lodash/get */27361),l=r.n(s),f=r(/*! lodash/isEmpty */41609),p=r.n(f),h=r(/*! lodash/isEqual */18446),d=r.n(h),v=r(/*! reselect */22222),g=r(/*! reselect */44815),m=r(/*! ../constants/apiStatus */90623),y=r(/*! ./tabs */45887),b=r(/*! ../urls */4536),E=r(/*! ./activation */83582),w=r(/*! ./experiments */6688),_=r(/*! ./merchant */96965);function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var O=function(t){return t.merchants},T=(0,v.P1)(O,(function(t){var e=t.byId;return u()(e)})),k=(0,v.P1)(O,T,(function(t,e){return t.all.map((function(t){return e[t]})).filter(Boolean)})),P=(0,v.P1)(O,T,(function(t,e){return t.topIds.map((function(t){return e[t]})).filter(Boolean)})),N=(0,v.P1)(O,T,(function(t,e){return t.personalRecommendationIds.map((function(t){return e[t]})).filter(Boolean)})),I=function(t,e){return e.url},L=function(t,e){return null==e?void 0:e.id};var S,A=(0,v.P1)(T,L,(function(t,e){return t[e]})),C=((0,v.P1)([k],(function(t){return t.filter((function(t){return t.isTaobao}))})),(0,v.wN)(g.PW,d())([k,I,function(t,e){return(0,b.lb)(e.url)}],(function(t,e,r){if(r){var n=a()(r,2),o=n[0],i=n[1],c=t.filter((function(t){var r=t.urlPattern?new RegExp(t.urlPattern):null;return(o.indexOf(t.urlDomain)>=0||i.indexOf(t.urlDomain)>=0)&&r&&r.test(e)}));if(c.length)return u=c,s=a()(u,1)[0],u.forEach((function(t){t.rx>s.rx&&(s=t)})),s}var u,s;return null}))),R=(0,v.P1)((function(t,e){return e.merchant}),I,y.jv,(function(t,e,r){var n=e||r;return t&&t.metadata&&t.metadata.confirmationUrlsAndPatterns&&Array.isArray(t.metadata.confirmationUrlsAndPatterns)&&t.metadata.confirmationUrlsAndPatterns.find((function(t){return!!t&&!!t.confirmationUrlPattern&&new RegExp(t.confirmationUrlPattern).test(n)}))||{}})),j=(0,v.P1)([R],(function(t){return!p()(t)})),F=((0,v.P1)([function(t){return t},k,I],(function(t,e,r){return e.find((function(e){return j(t,{merchant:e,url:r})}))})),(0,v.P1)(A,(function(t){return t})),(0,v.P1)([k,L],(function(t,e){return t.find((function(t){var r=Object.keys(t.partnershipStores);return r.length>0&&r.indexOf("".concat(e))>-1}))})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.merchant}],(function(t,e,r){var n;if(null==r||null===(n=r.metadata)||void 0===n||!n.checkReferrer)return!1;if(!e)return!0;var o=C(t,{url:e});return!((0,b.Sj)(t.cc,e)||(null==o?void 0:o.merchantId)===r.merchantId)})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.currentUrl},function(t,e){return e.merchant}],(function(t,e,r,n){var o;if(null==n||null===(o=n.metadata)||void 0===o||!o.checkReferrer)return!1;if(!e)return!0;var i=(0,b.Sj)(t.cc,e),a="booking-com"===n.shortname,c=Boolean(new URL(e).searchParams.get("aid")),u=Boolean(new URL(r).searchParams.get("aid"));return!(i||!a)&&!(c&&u)})),(0,v.P1)([function(t,e){return e.merchant},E.tm,E.EJ],(function(t,e,r){if(!t||!e)return t;var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),i=t.partnershipStores[r.partnershipId];return n.activationUrl=i.activationUrl,n.activationUrl=i.activationUrl,n.cashbackAmount=i.cashbackAmount,n.cashbackAmount=i.cashbackAmount,n.cashbackHeader=i.cashbackHeader,n.reActivateX=i.reActivateX,n.cashbackTiers=i.cashbackTiers,n.cashbackTiers=i.cashbackTiers,n.cashback=i.cashback,n}))),U=((0,v.P1)([function(t,e){return e.merchant}],(function(t){return t&&t.metadata.reloadTabs})),(0,v.P1)(A,(function(t){return t&&t.standDownAt})),(0,v.P1)(A,(function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)}))),D=(0,v.P1)([P],(function(t){return t.filter((function(t){var e;return!!parseFloat(null==t||null===(e=t.cashback)||void 0===e?void 0:e.amount)}))})),M=(0,v.P1)([function(t,e){return e.elements.filter((function(t){return!t.getAttribute("shopback-serp")}))},function(t,e){return e.serpDomainObj},function(t){return t}],(function(t,e,r){var n=[];return t.forEach((function(t){var o,i,c=null!==(o=null===(i=t.querySelector(e.serpLinkPattern))||void 0===i?void 0:i.textContent)&&void 0!==o?o:"",u=c.split("\u203a"),s=a()(u,1)[0].trim();"yahoo"===e.domain||"naver"===e.domain?c="https://".concat(s):"google"===e.domain&&(c=s);var l=C(r,{url:c}),f=(0,w.Zb)(r,{merchantId:null==l?void 0:l.merchantId});l&&!1!==l.isSerpEnabled&&!f&&n.push({searchItemElement:t,merchant:l})})),n})),B=((0,v.P1)([k],(function(t){var e={};return t.forEach((function(t){e[t.merchantId]={logoUrl:t.logoUrl,activationUrl:t.activationUrl,hasCashback:!!t.cashback&&!!parseFloat(t.cashback.amount)}})),e})),(0,v.P1)(k,(function(t,e){return e.affiliateId}),(function(t,e){return t.find((function(t){return t.affiliatedId===e}))})),(0,v.P1)([C],(function(t){return t?t.merchantId:-1}))),G=(0,v.P1)(O,(function(t){return l()(t,"stats")})),H=(0,v.P1)(G,(function(t){return l()(t,"topMerchantsApiStatus",m.WI)})),X=(0,v.P1)(G,(function(t){return l()(t,"isPersonalRecommendationLoading",!1)})),V=(0,v.P1)(A,(function(t){return l()(t,"tnc")})),K=(0,v.P1)(G,(function(t){return l()(t,"isTnCLoading",!1)})),q=(0,v.P1)(G,(function(t){return l()(t,"tncApiStatus",m.WI)})),Z=((0,v.P1)(G,(function(t){return l()(t,"merchantsDetailApiStatus",m.WI)})),(0,v.P1)(A,(function(t){return l()(t,"currentOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"betterComparisonOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"worseComparisonOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"matchedPrograms",[])})),(0,v.P1)((S=A,function(t,e){return p()(t)?null:S(t,e)}),(function(t,e){return e.merchant}),(function(t,e){var r=t||e||{},n=r.merchantId,o=r.name,i=r.cashback;return{merchant_id:n||null,merchant_name:o||null,is_affiliate_merchant:!!parseFloat(null==i?void 0:i.amount)||!1}}))),Y=(0,v.P1)(O,T,(function(t,e){var r,n=t.upsizedIds;return(null==n||null===(r=n.map)||void 0===r?void 0:r.call(n,(function(t){return null==e?void 0:e[t]})).filter((function(t){return!!t&&(0,_.ki)(t)})))||[]})),W=(0,v.P1)(G,(function(t){return l()(t,"isUpsizedMerchantsLoading",!1)}));(0,v.P1)(G,(function(t){return l()(t,"upsizedMerchantApiStatus",m.WI)})),(0,v.P1)(O,(function(t){return t.etag}))},93367:
/*!******************************************!*\
  !*** ./src/shared/selectors/notifier.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{qF:()=>l,TU:()=>f,LA:()=>p,if:()=>h});var n=r(/*! reselect */22222),o=r(/*! ./activation */83582),i=r(/*! ./amsNotifier */68093),a=r(/*! ./experiments */6688),c=r(/*! ./merchant */96965),u=r(/*! ./permission */67522),s=(0,n.P1)(o.pK,u.V7,c.hY,c.hA,(function(t,e,r,n){return!(t||e||r||!n)})),l=(0,n.P1)(s,c.wA,(function(t,e){return t&&e})),f=(0,n.P1)(u.V7,c.hY,c.wA,i.A1,(function(t,e,r,n){return!t&&!e&&(n&&r)})),p=(0,n.P1)(s,c.Jz,c.V2,o.r6,i.FU,(function(t,e,r,n,o){return t&&e&&r&&!n&&!o})),h=((0,n.P1)(s,c.Jz,(function(t,e){return t&&e})),(0,n.P1)(c.RX,a.IM,c.V2,o.GM,(function(t,e,r,n){return(t||e)&&r&&!n})));(0,n.P1)([function(t){return t.standDownAffiliateNetworks},function(t,e){return e.tabId}],(function(t,e){return t[e]}))},67522:
/*!********************************************!*\
  !*** ./src/shared/selectors/permission.js ***!
  \********************************************/(t,e,r)=>{r.d(e,{nu:()=>a,V7:()=>c,Cx:()=>u});var n=r(/*! reselect */22222),o=r(/*! ../constants */62620),i=function(t,e){if(e.merchant)return t.permission[e.merchant.merchantId]},a=function(t){return Object.keys(t.permission).length>0},c=(0,n.P1)([i],(function(t){return!!t})),u=(0,n.P1)([i],(function(t){if(t){if(!t.ts)return!0;var e=t.ts;return Date.now()-e>o.NkW}return!1}))},89489:
/*!************************************************!*\
  !*** ./src/shared/selectors/settings/index.js ***!
  \************************************************/(t,e,r)=>{r.d(e,{Gw:()=>s,nz:()=>l,jM:()=>f,wJ:()=>h,bS:()=>d,hT:()=>v,kv:()=>g,TQ:()=>m});var n=r(/*! reselect */22222),o=r(/*! semver/functions/lt */21544),i=r.n(o),a=r(/*! shared/urls */4536),c=r(/*! ../cc */49485),u=r(/*! ../extensionMeta */51693),s=function(t){return t.settings},l=(0,n.P1)(s,(function(t){return t.cashbackDisableReasons||[]})),f=(0,n.P1)(s,(function(t){return t.minSupportVersion})),p=(0,n.P1)(s,(function(t){return!!t.showNonFunctionalIcon})),h=(0,n.P1)(u.bo,f,p,(function(t,e,r){return i()(t,e)&&r})),d=(0,n.P1)(s,(function(t){return t.postInstallUrl||a.UL})),v=(0,n.P1)(s,c.q,(function(t,e){return t.postInstallTooltipImgUrl||a.lq[e.toUpperCase()]})),g=(0,n.P1)(c.q,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SG";return a.y7[t]})),m=((0,n.P1)(s,(function(t){return t&&t.trackingSessionTimeout})),(0,n.P1)(s,(function(t){return t.amplitudeExperimentsKeys||[]})));(0,n.P1)(s,(function(t){return t.optInPermissionNotifierShown})),(0,n.P1)(s,(function(t){return t.etag}))},40062:
/*!***************************************************************!*\
  !*** ./src/shared/selectors/settings/serviceEnableCountry.js ***!
  \***************************************************************/(t,e,r)=>{r.d(e,{OY:()=>f,tV:()=>p,CW:()=>h,Cq:()=>d,Bp:()=>v,OU:()=>g,G$:()=>m,y8:()=>y});var n=r(/*! lodash/get */27361),o=r.n(n),i=r(/*! reselect */22222),a=r(/*! semver/functions/gte */25903),c=r.n(a),u=r(/*! shared/constants */62620),s=r(/*! ../extensionMeta */51693),l=r(/*! ./ */89489),f=function(){return u.G9E},p=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.aliExpress)})),h=(0,i.P1)(l.bS,s.bo,l.jM,(function(t,e,r){return u.G9E&&window.location.pathname===t&&c()(e,r)})),d=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.showAmsNotifier)})),v=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableVoucher)})),g=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableWatchlist)})),m=((0,i.P1)(l.Gw,(function(t){return o()(t,"enableInBrowserCrawler",!1)})),(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableLogForTrack)})),(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableNewRegion)})),(0,i.P1)(l.Gw,(function(t){return new Set(t.enableCountries)}))),y=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorInContent)}));(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorWithWebMessage)}))},20045:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/userPreferences.js ***!
  \**********************************************************/(t,e,r)=>{r.d(e,{nl:()=>i,g6:()=>a});var n=r(/*! reselect */22222),o=r(/*! ./ */89489),i=(0,n.P1)(o.Gw,(function(t){return t.userPreferences})),a=(0,n.P1)(i,(function(t){return t.cookiesEnabled}));(0,n.P1)(i,(function(t){return t.eventsEnabled})),(0,n.P1)(i,(function(t){return t.personalDataEnabled}))},80905:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/websitePatterns.js ***!
  \**********************************************************/(t,e,r)=>{r.d(e,{SL:()=>a,KT:()=>c,Ql:()=>s,wg:()=>l,xf:()=>h,am:()=>v,WW:()=>g});var n=r(/*! reselect */22222),o=r(/*! ../tabs */45887),i=r(/*! ./ */89489),a=(0,n.P1)(i.Gw,(function(t){return t.websitePatterns})),c=(0,n.P1)(a,(function(t){return t.aliExpressNavigator})),u=((0,n.P1)(c,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),(0,n.P1)(c,(function(t){var e=t.productPageUrls;return e.length?e.map((function(t){return new RegExp(t)})):[]}))),s=(0,n.P1)(u,o.jv,(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),l=(0,n.P1)(u,o.jv,(function(t,e){return e.url}),(function(t,e,r){var n=r||e;if(!t.length)return null;for(var o=null,i=0;i<t.length&&!(o=n.match(t[i]));++i);return o&&o.groups?o.groups.pid:null})),f=(0,n.P1)(a,(function(t){return t.aliExpressCartPageIndicator})),p=(0,n.P1)(f,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),h=(0,n.P1)(p,(function(t,e){return e.url}),(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),d=(0,n.P1)(f,(function(t){return t.cssSelectors||{}})),v=(0,n.P1)(d,(function(t){return t.productField})),g=(0,n.P1)(d,(function(t){return t.productLink}))},45887:
/*!**************************************!*\
  !*** ./src/shared/selectors/tabs.js ***!
  \**************************************/(t,e,r)=>{r.d(e,{jv:()=>c,f4:()=>u,k3:()=>s,ed:()=>l,Lo:()=>f});var n=r(/*! lodash/get */27361),o=r.n(n),i=r(/*! reselect */22222),a=(0,i.P1)((function(t){return t.tabs}),(function(t,e){return e.tabId}),(function(t,e){return t[e]})),c=(0,i.P1)(a,(function(t){return o()(t,"url",null)})),u=(0,i.P1)(a,(function(t){return(null==t?void 0:t.prevUrl)||(null==t?void 0:t.openerUrl)||null})),s=((0,i.P1)(a,(function(t){return o()(t,"openerUrl",null)})),(0,i.P1)(a,(function(t){return o()(t,"merchantId",null)}))),l=((0,i.P1)(a,(function(t){return o()(t,"merchantName",null)})),(0,i.P1)(a,(function(t){return o()(t,"shoppingtripId",null)})),(0,i.P1)(a,(function(t){return!!o()(t,"autoClose",!1)}))),f=(0,i.P1)(a,(function(t){return void 0===t}))},11775:
/*!****************************************!*\
  !*** ./src/shared/selectors/taoBao.js ***!
  \****************************************/(t,e,r)=>{r.d(e,{Vj:()=>c,rA:()=>s,oF:()=>l,n2:()=>f,xK:()=>p,tf:()=>h,Ne:()=>v,Dp:()=>g,lQ:()=>m,xg:()=>y,x6:()=>_,wm:()=>x,BJ:()=>O,n6:()=>T,cK:()=>k});var n=r(/*! reselect */22222),o=function(t,e){return e.url},i=function(t,e){return e.referrer},a=function(t){return t.taoBao},c=function(t){return t.settings.taoBao2021},u=(0,n.P1)([c],(function(t){return t.productPagePatterns})),s=(0,n.P1)([c],(function(t){return t.shoppingCartPagePatterns})),l=(0,n.P1)([a,function(t,e){return e.tabId}],(function(t,e){return t.activatedProductIdInTab[e]})),f=(0,n.P1)([o],(function(t){return new URL(t).searchParams.get("id")||""})),p=(0,n.P1)([a],(function(t){return!!t.notifierOpened})),h=(0,n.P1)([a],(function(t){return!!t.confirmationNotifierOpened})),d=(0,n.P1)([a,f],(function(t,e){return t.products[e]})),v=(0,n.P1)([a],(function(t){return t.products})),g=((0,n.P1)([a],(function(t){return Object.keys(t.products)})),(0,n.P1)([u,f,o],(function(t,e,r){return!!(e&&t&&t.some((function(t){return new RegExp(t).test(r)})))}))),m=(0,n.P1)([c,o],(function(t,e){var r=new URL(e);return r.searchParams.has(t.aliTrackIdParamKey)&&r.searchParams.get(t.aliTrackIdParamKey).startsWith(t.aliTrackIdParamValue)})),y=(0,n.P1)([function(t,e){return e.merchant}],(function(t){return!(!t||!t.popupEnabled)})),b=(0,n.P1)([i],(function(t){return!(!t||!new URL(t).searchParams.get("key"))})),E=(0,n.P1)([c,i],(function(t,e){return new RegExp(t.aiTaoBaoSearchPattern).test(e)})),w=(0,n.P1)([c,i],(function(t,e){return new RegExp(t.taoBaoCouponPageUrlPattern).test(e)})),_=(0,n.P1)([m,E,w,b],(function(t,e,r,n){return!(!t||!(e&&n||r))})),x=(0,n.P1)([g,d,_],(function(t,e,r){return!(!t||r||e&&!e.apiError)})),O=(0,n.P1)([s,o],(function(t,e){return t.some((function(t){return new RegExp(t).test(e)}))})),T=(0,n.P1)([a],(function(t){return t.closeTaoBaoNotifierAt})),k=(0,n.P1)([a],(function(t){var e,r;return null!==(e=null==t||null===(r=t.settings)||void 0===r?void 0:r.snoozed)&&void 0!==e?e:{}}))},45786:
/*!**************************************!*\
  !*** ./src/shared/selectors/user.js ***!
  \**************************************/(t,e,r)=>{r.d(e,{jl:()=>c,Yv:()=>u,bG:()=>s,zw:()=>l,kv:()=>f,UN:()=>p,dC:()=>h});var n=r(/*! reselect */22222),o=r(/*! ../constants/apiStatus */90623),i=function(t){return t.user},a=function(t,e){return e.cc},c=(0,n.P1)([i],(function(t){return!!t.token})),u=(0,n.P1)([i,a],(function(t,e){return!!t.loginHistories[e]})),s=((0,n.P1)([i,a],(function(t,e){return t.loginHistories[e]})),(0,n.P1)(i,(function(t){return null==t?void 0:t.token})),(0,n.P1)(i,(function(t){return null==t?void 0:t.refreshToken})),(0,n.P1)(i,(function(t){return null==t?void 0:t.info}))),l=((0,n.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.id})),(0,n.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.uuid})),(0,n.P1)(s,(function(t){return(null==t?void 0:t.cashbacks)||[]}))),f=((0,n.P1)(s,(function(t){var e,r;return(null==t||null===(e=t.programs)||void 0===e||null===(r=e.subscription)||void 0===r?void 0:r.is_enrolled)||!1})),(0,n.P1)(i,(function(t){return(null==t?void 0:t.isFetchingUserInfo)||!1}))),p=(0,n.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsFetching)||!1})),h=(0,n.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsError)||!1}));(0,n.P1)(i,(function(t){return(null==t?void 0:t.recentCbsAPIStatus)||o.WI})),(0,n.P1)(i,(function(t){return(null==t?void 0:t.accountAPIStatus)||o.WI}))},7358:
/*!******************************************!*\
  !*** ./src/shared/selectors/vouchers.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{Fq:()=>s,wi:()=>f,_S:()=>p,op:()=>h,AI:()=>d,vh:()=>v,u7:()=>g});var n=r(/*! lodash/isObject */13218),o=r.n(n),i=r(/*! reselect */22222),a=r(/*! ../constants/apiStatus */90623),c=function(t){return t.vouchers},u=function(t){return t.vouchers.settings},s=(0,i.P1)((function(t){return t.settings}),(function(t){return(null==t?void 0:t.voucherMerchants)||{}})),l=function(t,e){return e.merchantName},f=(0,i.P1)([s,function(t,e){return e.url}],(function(t,e){var r;if(!e)return"";var n=new URL(e),o=n.hostname,i=n.pathname;if(1===(null==t||null===(r=t[o])||void 0===r?void 0:r.length))return t[o][0].merchantName;if(o in t){var a=t[o],c="".concat(o).concat(i),u=a.find((function(t){return t.merchantUrl.replace(/^https?:\/\//,"").split("/").every((function(t){return c.indexOf(t)>-1}))}));if(u)return(null==u?void 0:u.merchantName)||""}return""})),p=(0,i.P1)([c,l],(function(t,e){return o()(t)&&e in t?t[e]:{}})),h=(0,i.P1)([u,l],(function(t,e){var r,n;return null===(r=null==t||null===(n=t[e])||void 0===n?void 0:n.display)||void 0===r||r})),d=(0,i.P1)([c,l],(function(t,e){var r;return(null==t||null===(r=t[e])||void 0===r?void 0:r.apiStatus)||a.WI})),v=(0,i.P1)([u,l],(function(t,e){var r,n;return null!==(r=null==t||null===(n=t[e])||void 0===n?void 0:n.position)&&void 0!==r?r:{y:.1}})),g=(0,i.P1)([u],(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}}))},4536:
/*!****************************!*\
  !*** ./src/shared/urls.js ***!
  \****************************/(t,e,r)=>{r.d(e,{Pr:()=>f,UL:()=>p,lq:()=>h,y7:()=>v,Sj:()=>g,XF:()=>m,Eu:()=>y,yw:()=>b,kJ:()=>E,lb:()=>w,tn:()=>_,n1:()=>x,W4:()=>O,ub:()=>T,oq:()=>k,Mv:()=>P,qq:()=>N,U:()=>I,iq:()=>L,A2:()=>S,vo:()=>A});var n=r(/*! lodash/isArray */1469),o=r.n(n),i=r(/*! ./constants */62620),a=r(/*! ./constants/countries */53437),c=r(/*! ./envConfig */5281),u=(r(/*! ./utils/qs */31541),c.Z.API_HOST_XX),s=c.Z.EXTENSION_STORES,l=c.Z.HELP_CENTER,f=(c.Z.SAFARI_EXTENSION_HELP_CENTER_PAGE,c.Z.URL_COUNTRY_CODE,c.Z.URL_SIGN_UP),p=c.Z.URL_AFTER_INSTALL,h=c.Z.POST_INSTALL_TOOLTIP_IMG_URL,d=c.Z.SB_WEBSITE_XX,v=c.Z.ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL;c.Z.POST_UNINSTALL_URL;var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(d[t]))},m=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{api:!0}).api?u:d;return"https://".concat(e[function(t){return u[t]?t:i.UFS}(t)])},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return d[t]},b=function(){return i.P0H?s.EDGE:i.D1p?s.FIREFOX:i.G9E?s.CHROME:""},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return l[t]},w=function(){return/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}))},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/login")},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/logout")},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/payment")},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/cashback")},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/account/subscription")},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return t===a.ZP.DE?"".concat(m(t,{api:!1}),"/freunde-werben"):"".concat(m(t,{api:!1}),"/referral/invite")},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;if(e){var r=new URL(e),n="".concat(r.pathname).concat(r.search),o=encodeURIComponent(n);return"".concat(m(t,{api:!1}),"/login?redirect=").concat(o)}return"".concat(m(t,{api:!1}),"/login")},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(m(t),"/whale/taobao/item-info/").concat(e)},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.UFS,r=new URL("".concat(m(e),"/whale/merchants"));return o()(t)&&t.length>0&&r.searchParams.set("merchantIds",t.join(",")),r.toString()},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(m(t,{api:!1}),"/health")}},91228:
/*!****************************************************!*\
  !*** ./src/shared/utils/activation.js + 2 modules ***!
  \****************************************************/(t,e,r)=>{r.d(e,{UO:()=>p,xc:()=>f,le:()=>h});r(50008),r(63038),r(48926);var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(44340),u=[c.C4.EXT_OPEN_MENU,c.C4.EXT_VIEW_MERCHANT_PAGE,c.C4.EXT_PROMPT_NOTIFIER_COMPARISON],s=function(t){var e=Math.floor(Date.now()/1e3);return{sessionId:t?t+e.toString():function(t){if(void 0!==t&&"number"==typeof t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="abcdefghijklmnopqrstuvwxyz",o=0;o<t-1;o++)e+=r.charAt(36*Math.random()%36);return e+n.charAt(26*Math.random()%26)}}(6)+e.toString(),createdAt:e}};new(function(){function t(){o()(this,t),this.sessionId=null,this.createdAt=-1,this.sessionTimeout=300}return a()(t,[{key:"checkAndGetSessionId",value:function(t,e){return!this.sessionId||this.isSessionExpired()?function(t){return u.includes(t)}(t)?(this.renew(e),this.sessionId):(this.revoke(),this.sessionId):(this.refresh(),this.sessionId)}},{key:"setTimeout",value:function(t){this.sessionTimeout=t}},{key:"renew",value:function(t){var e=s(t),r=e.sessionId,n=e.createdAt;this.sessionId=r,this.createdAt=n}},{key:"refresh",value:function(){this.createdAt=Math.floor(Date.now()/1e3)}},{key:"revoke",value:function(){this.sessionId=null,this.createdAt=-1}},{key:"isSessionExpired",value:function(){return Math.floor(Date.now()/1e3)-this.createdAt>this.sessionTimeout}},{key:"debug",value:function(){console.log("sessionId",this.sessionId),console.log("createAt",this.createdAt),console.log("sessionTimeout",this.sessionTimeout)}}]),t}());r(11713),r(62620);var l=r(92671);r(51693),r(45786),r(4536);var f=function(t){var e=t.merchant,r=t.utmMedium,n=t.cc,o=t.deeplink,i=t.isLoggedIn,a=t.isNewTab,c=t.unfocusedActivation;browser.runtime.sendMessage({merchant:e,utmMedium:r,cc:n,deeplink:o,isLoggedIn:i,isNewTab:a,unfocusedActivation:c,action:l.Dy})},p=function(t){var e=t.merchant,r=t.utmMedium,n=t.cc,o=t.deeplink,i=t.isLoggedIn,a=t.isNewTab,c=t.unfocusedActivation,u=t.sellerId,s=t.redirectUrl;browser.runtime.sendMessage({merchant:e,utmMedium:r,cc:n,deeplink:o,isLoggedIn:i,isNewTab:a,unfocusedActivation:c,sellerId:u,redirectUrl:s,action:l.BN})},h=function(t){var e=t.tabId,r=t.productId,n=t.merchant,o=t.utmMedium,i=t.cc,a=t.isLoggedIn;browser.runtime.sendMessage({tabId:e,productId:r,merchant:n,utmMedium:o,cc:i,isLoggedIn:a,action:l.s0})}},26426:
/*!*****************************************!*\
  !*** ./src/shared/utils/commonUtils.js ***!
  \*****************************************/(t,e,r)=>{r.d(e,{Dy:()=>n});r(/*! @babel/runtime/helpers/typeof */50008),r(/*! @babel/runtime/helpers/asyncToGenerator */48926),r(/*! @babel/runtime/helpers/defineProperty */59713),r(/*! lodash/isArray */1469),r(/*! lodash/merge */82492);var n=function(){return Date.now()}},51905:
/*!******************************************!*\
  !*** ./src/shared/utils/countryUtils.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{$A:()=>o});var n=r(/*! ../constants/countries */53437),o=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.zO.includes(null==e||null===(t=e.toUpperCase)||void 0===t?void 0:t.call(e))}},28392:
/*!**********************************************************!*\
  !*** ./src/shared/utils/fetchUtils/index.js + 7 modules ***!
  \**********************************************************/(t,e,r)=>{r.d(e,{E:()=>ot,Z:()=>at});var n=r(53131),o=r.n(n),i=r(59713),a=r.n(i),c=r(9669),u=r.n(c),s=r(82492),l=r.n(s),f=r(62620);const p={UNSUPPORTED_ERROR:900};var h=r(21934),d=r(4536),v=r(51905),g=r(8854),m=r(25903),y=r.n(m),b=r(51693),E=r(89489),w=function(t){var e=(0,b.bo)(t),r=(0,E.jM)(t);return y()(e,r)},_=r(50008),x=r.n(_),O=r(48926),T=r.n(O),k=r(94097),P=r.n(k),N=r(85061),I=r.n(N),L=r(36026),S=r.n(L),A=r(15327),C=r.n(A),R=r(64867);function j(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var y=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==x()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,c,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e){return U.apply(this,arguments)}function U(){return(U=T()(j().mark((function t(e,r){var n,o;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:n=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",I()("Network Error",r,null,e));case 9:if(o={ok:n.ok,status:n.status,statusText:n.statusText,headers:new Headers(n.headers),config:r,request:e},!(n.status>=200&&204!==n.status)){t.next=34;break}t.t1=r.responseType,t.next="arraybuffer"===t.t1?14:"blob"===t.t1?18:"json"===t.t1?22:"formData"===t.t1?26:30;break;case 14:return t.next=16,n.arrayBuffer();case 16:case 20:case 24:case 28:case 32:return o.data=t.sent,t.abrupt("break",34);case 18:return t.next=20,n.blob();case 22:return t.next=24,n.json();case 26:return t.next=28,n.formData();case 30:return t.next=32,n.text();case 34:return t.abrupt("return",o);case 35:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function D(t){var e=new Headers(t.headers);if(t.auth){var r=t.auth.username||"",n=t.auth.password?decodeURI(encodeURIComponent(t.auth.password)):"";e.set("Authorization","Basic ".concat(btoa("".concat(r,":").concat(n))))}var o=t.method.toUpperCase(),i={headers:e,method:o};"GET"!==o&&"HEAD"!==o&&(i.body=t.data),t.mode&&(i.mode=t.mode),t.cache&&(i.cache=t.cache),t.integrity&&(i.integrity=t.integrity),t.redirect&&(i.integrity=t.redirect),t.referrer&&(i.referrer=t.referrer),(0,R.isUndefined)(t.withCredentials)||(i.credentials=t.withCredentials?"include":"omit");var a=P()(t.baseURL,t.url),c=C()(a,t.params,t.paramsSerializer);return new Request(c,i)}function M(t){return B.apply(this,arguments)}function B(){return(B=T()(j().mark((function t(e){var r,n,o;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=D(e),n=[F(r,e)],e.timeout&&e.timeout>0&&n.push(new Promise((function(t){setTimeout((function(){var n=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of ".concat(e.timeout,"ms exceeded");t(I()(n,e,"ECONNABORTED",r))}),e.timeout)}))),t.next=5,Promise.race(n);case 5:return o=t.sent,t.abrupt("return",new Promise((function(t,r){o instanceof Error?r(o):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,r,o):S()(t,r,o)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}u().defaults.headers.common[f.obn.X_SHOPBACK_AGENT]="sbconsumeragent/1.0",u().defaults.headers.common[f.obn.X_SHOPBACK_INTERNAL]="682a46b19b953306c9ee2e8deb0dc210",u().defaults.timeout=1e4;var G=function(){return u().create({adapter:M})},H=function(t){return function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{extension:{loggerEnabled:!0}},o=n.cc,i={headers:a()({},f.obn.X_SHOPBACK_DOMAIN,(0,d.Eu)(o))};return Promise.resolve().then((function(){return r.ignoreCC?Promise.resolve():function(t){return new Promise((function(e,r){(0,v.$A)(t)?e():r({errorCode:p.UNSUPPORTED_ERROR,message:"Fetch with unsupported CC: ".concat(t,".")})}))}(o)})).then((function(){return t(l()({method:e},i,r))})).catch((function(t){if(u().isCancel(t))return Promise.reject(t);var e=t.message,o=t.errorCode,i=r.url;return h.ZP.error(n,"".concat(e,", URL: ").concat(i)),t.response?function(t,e){if(w(t)&&e instanceof Error){var r,n=(null===(r=e.response)||void 0===r?void 0:r.data)||{};g.Tb(e,{extra:{responseBody:{error:JSON.stringify(n)}}})}}(n,t):o!==p.UNSUPPORTED_ERROR&&function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(t)&&(e instanceof Error?g.Tb(e,r):e.status?g.uT("Fetch Error: ".concat(e.status," ").concat(e.statusText,", URL: ").concat(e.url),r):"string"==typeof e?g.uT(e,r):g.uT(JSON.stringify(e),r))}(n,"".concat(e,", URL: ").concat(i)),Promise.reject(t)}))}},X=r(1019),V=r(95346);function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Z={};const Y=function(t){return t.interceptors.request.use((function(t){if(t.signal&&t.signal.aborted)return t;var e=new URL(t.url).host,r=new URL(t.url).pathname,n="".concat(e).concat(r),o=Z[n],i=new AbortController;return o&&(Date.now()<o?i.abort():delete Z[n]),q(q({},t),{},{signal:i.signal})})),t.interceptors.response.use((function(t){return t}),(function(t){if(t.response&&(429===t.response.status||503===t.response.status)){var e=function(t){if(t){var e=parseInt(t,10);if(!Number.isNaN(e))return 1e3*e+Date.now();var r=new Date(t);if(!Number.isNaN(r.getTime()))return r}return null}(t.response.headers.get("Retry-After"));if(e){var r=new URL(t.config.url).pathname,n=new URL(t.config.url).host;Z["".concat(n).concat(r)]=e}}return Promise.reject(t)})),t};var W=r(14284);function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var J="throttlingLastFetchTime",$={};W.Z.get(J).then((function(t){t&&($=t)}));var tt=function(t){return t.throttling.throttlingKey||t.url};const et=function(t){return t.interceptors.request.use((function(t){if(!t.throttling)return t;if(t.signal&&t.signal.aborted)return t;var e=t.throttling.throttlingInterval,r=tt(t),n=$[r],o=new AbortController;return n&&Date.now()-n<e&&o.abort(),Q(Q({},t),{},{signal:o.signal})})),t.interceptors.response.use((function(t){var e=t.config;if(e.throttling){var r=tt(e);$[r]=Date.now(),W.Z.debounceSet(J,$)}return t}),(function(t){if(t.config&&t.config.throttling){var e=t.config,r=tt(e);$[r]=Date.now(),W.Z.debounceSet(J,$)}return Promise.reject(t)})),t};var rt=function(t){var e,r,n="";if(null!==(e=t.response.data)&&void 0!==e&&e.errors&&t.response.data.errors.length>0)for(var o=0;o<t.response.data.errors.length;o+=1){var i=t.response.data.errors[o];"x-shopback-access-token"===i.param?n+="a, '".concat(i.value,"' "):"x-shopback-refresh-token"===i.param?n+="r, '".concat(i.value,"' "):n+="u, '".concat(i.value,"' ")}else n=null!==(r=t.response.data)&&void 0!==r&&r.error?t.response.data.error:"unknown error: ".concat(t.message);return n};var nt=function(t){return{get:o()(t,"GET"),post:o()(t,"POST"),put:o()(t,"PUT"),delete:o()(t,"DELETE"),patch:o()(t,"PATCH")}},ot=nt((function(t,e,r,n){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")||(null==r?void 0:r.cc),i=(null==r?void 0:r.user)||{},a=i.token,c=i.refreshToken,u=!!a,s=G();return s=et(s),(s=Y(s)).defaults.headers.common[f.obn.X_SHOPBACK_CLIENT_USER_AGENT]=navigator.userAgent||"extension",n&&s.interceptors.response.use(function(t,e,r){return function(n){var o=((null==n?void 0:n.data)||{}).newAccessToken;return o&&r&&(t((0,V.Vz)(o)),t((0,V.ol)({cc:e,accessToken:o}))),n}}(n,o,u),function(t,e){return function(r){var n;return 401===(null==r||null===(n=r.response)||void 0===n?void 0:n.status)&&(t((0,X.trackSystemLogout)({logout_trigger:rt(r),country_code:e})),t((0,V.kS)(e)),t((0,V.xD)({cc:e}))),Promise.reject(r)}}(n,o)),s.defaults.headers.common[f.obn.X_SHOPBACK_ACCESS_TOKEN]=a||null,s.defaults.headers.common[f.obn.X_SHOPBACK_REFRESH_TOKEN]=c||null,H(s)(t,e,r)})),it=G();it=et(it),it=Y(it);const at=nt(H(it))},38156:
/*!******************************************!*\
  !*** ./src/shared/utils/polyfillI18n.js ***!
  \******************************************/(t,e,r)=>{r.d(e,{f:()=>i});var n=r(/*! lodash/hasIn */79095),o=r.n(n),i=function(t){o()(r.g.browser.i18n,"originalGetMessage")||Object.assign(r.g.browser.i18n,{originalGetMessage:browser.i18n.getMessage});Object.assign(r.g.browser.i18n,{getMessage:browser.i18n.getUILanguage().includes("zh")&&"HK"===t?function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(e=browser.i18n).originalGetMessage.apply(e,["hk_".concat(t)].concat(n))}:browser.i18n.originalGetMessage})}},31541:
/*!********************************!*\
  !*** ./src/shared/utils/qs.js ***!
  \********************************/(t,e,r)=>{r(/*! @babel/runtime/helpers/slicedToArray */63038),r(/*! ../constants */62620)},34103:
/*!**************************************************************!*\
  !*** ./src/shared/utils/renderContainerUtils.js + 1 modules ***!
  \**************************************************************/(t,e,r)=>{r.d(e,{s:()=>E});var n=r(59713),o=r.n(n),i=r(67294),a=r(73935),c=r(65858),u=r(63038),s=r.n(u),l=r(98601),f=r(85945),p=r(45697),h=r(16730),d=function(t){var e=t.children,r=t.cc,n=(0,i.useState)((function(){return new l.S({defaultOptions:{queries:{retry:0,queryFn:(0,h.lQ)(r)}}})})),o=s()(n,1)[0];return(0,i.useEffect)((function(){o.setDefaultOptions({queries:{queryFn:(0,h.lQ)(r)}})}),[r,o]),i.createElement(f.aH,{client:o},e)};d.propTypes={cc:p.string,children:p.node},d.defaultProps={cc:"",children:null};const v=d;var g=r(5272),m=r(21934);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createElement("div");r&&(o.id=r);o.style=["z-index: 2147483647","display: block"].map((function(t){return"".concat(t," !important;")})).join("");var u=function(){return function(t,e){(0,a.unmountComponentAtNode)(e),document.documentElement.removeChild(e),m.ZP.warn(t,"unmount container: ".concat(e.id))}(t,o)};document.documentElement.appendChild(o),m.ZP.info(t,"render container: ".concat(r));var s=b(b({},n),{},{unMount:u,url:window.location.href});return(0,a.render)(i.createElement(c.zt,{store:t},i.createElement(v,{cc:t.getState().cc},i.createElement(g.Z,null,i.createElement(e,s)))),o),u}},8439:
/*!*************************************************!*\
  !*** ./src/shared/utils/runtimeMessageUtils.js ***!
  \*************************************************/(t,e,r)=>{r.d(e,{Xq:()=>p,M1:()=>h,Qb:()=>d,Xx:()=>v,TX:()=>g,JE:()=>m,j_:()=>b,PQ:()=>E});var n=r(/*! @babel/runtime/helpers/typeof */50008),o=r.n(n),i=r(/*! @babel/runtime/helpers/objectWithoutProperties */6479),a=r.n(i),c=r(/*! @babel/runtime/helpers/asyncToGenerator */48926),u=r.n(c),s=(r(/*! ../webextPolyfill */48971),r(/*! ../constants/runtimeMessageEvent */92671)),l=["tabId","action"];function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function v(){}function g(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=p(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var p=function(){return browser.runtime.sendMessage({action:s.ue})},h=function(){return browser.runtime.sendMessage({action:s.Ax})},d=function(t){return browser.runtime.sendMessage({action:s.ci,moduleName:t})},v=function(){return browser.runtime.sendMessage({action:s.Z$})},g=function(){var t=u()(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.G3,productId:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=u()(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.Kb,url:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=u()(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,browser.runtime.sendMessage({action:s.I9});case 2:return e=t.sent,t.abrupt("return",!!e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){return new Promise(function(){var t=u()(f().mark((function t(e,r){var n,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y();case 3:if(!t.sent){t.next=7;break}return e(),t.abrupt("return");case 7:(n=browser.runtime.connect({name:"wakeUp"})).postMessage({message:"wake up!"}),i=function t(){setTimeout((function(){clearTimeout(o),n.onMessage.removeListener(t),e()}),500)},o=setTimeout((function(){n.onMessage.removeListener(i),e()}),5e3),n.onMessage.addListener(i),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r();case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}())},E=function(t){var e=t.tabId,r=t.action,n=a()(t,l);return browser.runtime.sendMessage({tabId:e,action:r,payload:n})}},60722:
/*!***********************************************!*\
  !*** ./src/shared/utils/storage/constants.js ***!
  \***********************************************/(t,e,r)=>{r.d(e,{J:()=>n,H:()=>o});var n="CASHBACK_NOTIFIER_TOOLTIP",o="POST_INSTALL_TOOLTIP"},14284:
/*!*******************************************!*\
  !*** ./src/shared/utils/storage/index.js ***!
  \*******************************************/(t,e,r)=>{r.d(e,{Z:()=>h});var n=r(/*! @babel/runtime/helpers/defineProperty */59713),o=r.n(n),i=r(/*! @babel/runtime/helpers/createClass */93913),a=r.n(i),c=r(/*! @babel/runtime/helpers/classCallCheck */34575),u=r.n(c),s=r(/*! lodash/get */27361),l=r.n(s);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const h=new(a()((function t(){var e=this;u()(this,t),this.get=function(t){return browser.storage.local.get(t).then((function(e){return l()(e,t,{})})).catch((function(t){return console.error(t),{}}))},this.set=function(t,e){return browser.storage.local.set(o()({},t,e)).catch((function(t){return console.error(t)}))},this.debounceSet=function(t,r){e.debounceSetTimeout&&clearTimeout(e.debounceSetTimeout),e.debounceSetTimeout=setTimeout((function(){e.set(t,r)}),1e4)},this.update=function(t,r){return e.get(t).then((function(n){return e.set(t,p(p({},n),r))}))}})))},80351:
/*!*****************************************!*\
  !*** ./src/shared/utils/taoBaoUtils.js ***!
  \*****************************************/(t,e,r)=>{r.d(e,{aT:()=>v,gc:()=>g,Sq:()=>E,L_:()=>w});var n=r(/*! @babel/runtime/helpers/typeof */50008),o=r.n(n),i=r(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=r.n(i),c=r(/*! ../actionCreators/application */19664),u=r(/*! ../constants */62620),s=r(/*! ../selectors/merchants */26846),l=r(/*! ../selectors/taoBao */11775),f=r(/*! ../urls */4536),p=r(/*! ./fetchUtils */28392),h=r(/*! ./runtimeMessageUtils */8439);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=f(t[n],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t,e,r){var n={url:(0,f.iq)(e,t)};return p.Z.get(n,r).then((function(t){return t.data.hasCashback}))},g=function(){var t=a()(d().mark((function t(e,r,n){var o,i,a,f,p,v,g,m,y,b;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getState(),i=(0,s._t)(o,{url:r}),a=(0,l.oF)(o,{tabId:n}),!(i&&i.isTaobao&&a)){t.next=31;break}if(f=(0,l.Vj)(o),p=f.aiTaoBaoSearchPattern,v=f.unidCodes,new RegExp(p).test(r)){t.next=8;break}return t.abrupt("return",!1);case 8:if(g=new URL(r).searchParams.get("unid")){t.next=11;break}return t.abrupt("return",!1);case 11:if(g.startsWith(v.scenarioCodeHomepage)){t.next=13;break}return t.abrupt("return",!1);case 13:if(g=g.replace(v.scenarioCodeHomepage,v.scenarioCodeItem),m=o.taoBao.products[a]){t.next=17;break}return t.abrupt("return",!1);case 17:if(m.activateState===u.Km){t.next=19;break}return t.abrupt("return",!1);case 19:if(!m.redirectedToDeepLink){t.next=21;break}return t.abrupt("return",!1);case 21:return t.next=23,(0,h.TX)(a);case 23:if(y=t.sent){t.next=26;break}return t.abrupt("return",!1);case 26:return e.dispatch((0,c.GP)({productId:a,tabId:n})),(b=new URL(y)).searchParams.append("unid",g),window.location.replace(b.href),t.abrupt("return",!0);case 31:return t.abrupt("return",!1);case 32:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),m=function(t,e){return t.querySelector(e)},y=function(t,e){return t.querySelector(e)},b=function(t){if(!t)return"";var e=t.getAttribute("href");return e.startsWith("//")&&(e="https:".concat(e)),new URL(e).searchParams.get("id")||""},E=function(t,e,r){return t.map((function(t){return{productList:t,productInfo:y(t,r),productId:b(m(t,e)),cartId:(n=t.id,n.split("_")[2].trim())};var n}))},w=function(t){return!(!t||!("activateState"in t&&"hasCashback"in t||t.apiError))}},75611:
/*!**************************************!*\
  !*** ./src/shared/utils/urlUtils.js ***!
  \**************************************/(t,e,r)=>{r.d(e,{oI:()=>i,gJ:()=>a,_d:()=>u,gN:()=>s,WW:()=>l});var n=r(/*! branch-sdk */87860),o=r.n(n),i=(r(/*! ./qs */31541),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(t)}catch(t){return null}}),a=function(t){return browser.runtime.getURL("images/".concat(t))},c=["newtab","new-tab-page"],u=function(t){return!!c.find((function(e){return null==t?void 0:t.includes(e)}))},s=function(t){if(t){var e=new URL(t);return(null==e?void 0:e.hostname)||""}return""},l=function(t){return new Promise((function(e,r){o().link(t,(function(t,n){n?e(n):r(t)}))}))}},48971:
/*!**************************************!*\
  !*** ./src/shared/webextPolyfill.js ***!
  \**************************************/(t,e,r)=>{var n=r(/*! @babel/runtime/helpers/typeof */50008),o=r.n(n),i=r(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=r.n(i),c=r(/*! lodash/hasIn */79095),u=r.n(c);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var m={};l(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==e&&r.call(b,a)&&(m=b);var E=g.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,u){var s=p(t[n],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,n(E,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(E),l(E,u,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var l=function(t,e){return e?"(".concat(t.toString(),")(...").concat(JSON.stringify(e),")"):"(".concat(t.toString(),")()")},f=function(){var t=a()(s().mark((function t(e){var r,n,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.func,n=e.files,o=e.target,i=e.args,a={code:r?l(r,i):void 0,file:n?n[0]:void 0},t.abrupt("return",browser.tabs.executeScript(o.tabId,a).then((function(t){return t.map((function(t){return{result:t}}))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=a()(s().mark((function t(e){var r,n,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.func,n=e.files,o=e.target,i={code:r?l(r):void 0,file:n?n[0]:void 0},t.abrupt("return",browser.tabs.insertCSS(o.tabId,i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();r.g.browser=r(/*! webextension-polyfill */93150),u()(r.g.browser,"scripting.executeScript")||Object.assign(r.g.browser,{scripting:{executeScript:f,insertCSS:p}}),u()(r.g.browser,"action")||Object.assign(r.g.browser,{action:r.g.browser.browserAction})},19683:
/*!**************************************!*\
  !*** ./src/assets/shared/close1.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURf///0dwTPr6+vr6+vv7+/////////r6+v///////1hYgj4AAAAKdFJOU24A5/LWa3/7Hmz2d6waAAAASklEQVQI12MoEAQDdoYWRhAt4MkgoABiMDEyADFQQEGQAUSAOAwgEsRmAImDZIEMQWYDQVQGXAqmGK4dZiDcihCIpaoMCRBnsAEAxIwJcmgf98QAAAAASUVORK5CYII="},47776:
/*!*****************************!*\
  !*** ./env/production.json ***!
  \*****************************/t=>{t.exports=JSON.parse('{"URL_SIGN_UP":"/cashback-button/success-signup","URL_AFTER_INSTALL":"/shopback-button-success-install","URL_COUNTRY_CODE":{"url":"https://api.shopback.sg/whale/cc","headers":{"X-SHOPBACK-DOMAIN":"www.shopback.sg"}},"API_HOST_XX":{"COM":"api.shopback.com","SG":"api.shopback.sg","MY":"api.shopback.my","PH":"api.shopback.ph","ID":"api.shopback.co.id","IN":"api.shopback.in","TW":"api.shopback.com.tw","AU":"api.shopback.com.au","TH":"api.shopback.co.th","KR":"api.shopback.co.kr","HK":"api.shopback.com.hk","DE":"api.shopback.de","NZ":"api.shopback.co.nz"},"SB_WEBSITE_XX":{"COM":"www.shopback.com","SG":"www.shopback.sg","MY":"www.shopback.my","PH":"www.shopback.ph","ID":"www.shopback.co.id","TW":"www.shopback.com.tw","AU":"www.shopback.com.au","TH":"www.shopback.co.th","KR":"www.shopback.co.kr","HK":"www.shopback.com.hk","DE":"www.shopback.de","NZ":"www.shopback.co.nz"},"EXTENSION_STORES":{"CHROME":"https://chrome.google.com/webstore/detail/shopback-button-cashback/djjjmdgomejlopjnccoejdhgjmiappap","FIREFOX":"https://addons.mozilla.org/en-US/firefox/addon/shopback-cashback-button","EDGE":"https://microsoftedge.microsoft.com/addons/detail/shopback-button-cashbac/mppnmimhlcolakeoadpehdjljppkmfda"},"HELP_CENTER":{"SG":"https://support.shopback.sg/hc/en-gb/articles/360046598194-Install-and-use-ShopBack-Button-browser-extension","MY":"https://support.shopback.my/hc/en-gb/articles/360046977313-Install-and-use-the-ShopBack-Button-browser-extension","PH":"https://support.shopback.ph/hc/en-us/articles/360046598234","ID":"https://support.shopback.co.id/hc/id/articles/4401999894035-Apa-itu-Tombol-ShopBack","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174-%E7%8F%BE%E9%87%91%E5%9B%9E%E9%A5%8B%E5%B0%8F%E5%B9%AB%E6%89%8B","AU":"https://support.shopback.com.au/hc/en-gb/articles/360046870814-ShopBack-Button-browser-extension","TH":"https://support.shopback.co.th/hc/th/sections/360005934553-%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%95%E0%B8%B4%E0%B8%94%E0%B8%95%E0%B8%B1-%E0%B8%87%E0%B9%81%E0%B8%A5%E0%B8%B0%E0%B9%83%E0%B8%8A-ShopBack-Button-ShopBack-Extension","KR":"https://support.shopback.co.kr/hc/ko/articles/4401973617299-%EC%83%B5%EB%B0%B1-%EB%B2%84%ED%8A%BC-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95","HK":"https://support.shopback.com.hk/hc/zh-hk/articles/7430915919891-%E5%AE%89%E8%A3%9D%E5%8F%8A%E4%BD%BF%E7%94%A8ShopBack%E5%B0%8F%E5%B9%AB%E6%89%8B","DE":"https://support.shopback.de/hc/de/articles/15928463001107-Installieren-und-verwenden-Sie-die-ShopBack-Button-Browsererweiterung","NZ":"https://support.shopback.co.nz/hc/en-gb/articles/27829878382739-Install-and-use-ShopBack-Button-browser-extension"},"SAFARI_EXTENSION_HELP_CENTER_PAGE":{"SG":"https://support.shopback.sg/hc/en-gb","MY":"https://support.shopback.my/hc/en-gb","PH":"https://support.shopback.ph/hc/en-us","ID":"https://support.shopback.co.id/hc/id","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174","AU":"https://support.shopback.com.au/hc/en-gb","TH":"https://support.shopback.co.th/hc/th","KR":"https://support.shopback.co.kr/hc/ko-kr","HK":"https://support.shopback.com.hk/hc/zh-hk","DE":"https://support.shopback.de/hc/de","NZ":"https://support.shopback.co.nz/hc/en-gb"},"POST_INSTALL_TOOLTIP_IMG_URL":{"COM":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","SG":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","MY":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","PH":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","ID":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/ID.gif","IN":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TW":"https://cloud.shopback.com/image/upload/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TW.gif","AU":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TH":"https://cloud.shopback.com/image/upload/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TH.gif","KR":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/KR.gif","HK":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/HK.gif","DE":"https://cloud.shopback.com/image/upload/v1683121648/extension/%5BDE%5D%20Assets/DE_4.gif","NZ":"https://cloud.shopback.com/image/upload/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif"},"ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL":{"SG":"https://www.shopback.sg/aliexpress-button-guide","MY":"https://www.shopback.my/aliexpress-button-guide","AU":"https://www.shopback.com.au/aliexpress-button-guide","ID":"https://www.shopback.co.id/aliexpress-button-guide","TW":"https://www.shopback.com.tw/aliexpress-button-guide","TH":"https://www.shopback.co.th/aliexpress-button-guide","KR":"https://www.shopback.co.kr/aliexpress-shopback-button-guide","PH":"https://www.shopback.ph/aliexpress-button-guide","HK":"https://www.shopback.com.hk/aliexpress-button-guide","DE":"https://www.shopback.de/aliexpress-shopback-button-guide","NZ":"https://www.shopback.co.nz/aliexpress-button-guide"},"POST_UNINSTALL_URL":{"SG":"https://www.shopback.sg/uninstall","MY":"https://www.shopback.my/uninstall","PH":"https://www.shopback.ph/uninstall","ID":"https://www.shopback.co.id/uninstall","TW":"https://www.shopback.com.tw/uninstall","AU":"https://www.shopback.com.au/uninstall","TH":"https://www.shopback.co.th/uninstall","KR":"https://www.shopback.co.kr/uninstall","HK":"https://www.shopback.com.hk/uninstall","DE":"https://www.shopback.de/uninstall","NZ":"https://www.shopback.co.nz/uninstall"},"ACTIVATED_EXPIRED_MS":3600000,"ACTIVATED_EXPIRED_MS_FOR_AMS":86400000,"ACTIVATED_EXPIRED_MS_FOR_TAOBAO":86400000,"PERMISSION_NOTIFIER_TTL":3600000,"SENTRY_DSN":"https://a7733d60656e4d3bbb5dc92afd0cc5b8@o27075.ingest.sentry.io/1189626","SENTRY_SAMPLE_RATE":0.2}')}},t=>{t.O(0,["vendor"],(()=>{return e=40965,t(t.s=e);var e}));t.O()}]);