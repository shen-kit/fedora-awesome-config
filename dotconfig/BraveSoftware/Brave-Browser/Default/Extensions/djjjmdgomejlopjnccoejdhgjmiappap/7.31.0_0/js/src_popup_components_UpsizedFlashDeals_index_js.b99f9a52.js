"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_popup_components_UpsizedFlashDeals_index_js"],{44928:
/*!*********************************************************************!*\
  !*** ./src/popup/components/UpsizedFlashDeals/index.js + 4 modules ***!
  \*********************************************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var i=n(63038),r=n.n(i),a=n(41609),o=n.n(a),l=n(45697),s=n(67294),c=n(65858),d=n(23588),p=n(63535),f=n(20374),u=n(9274),h=n(319),m=n.n(h),g=n(64616),x=n(20136),y=m()(Array(2).keys()),b=(0,d.ZP)(x.z4).withConfig({displayName:"UpsizedFlashDealsSkeleton__Container",componentId:"cxtjtg-0"})(["&&{width:360px;height:184px;padding:12px 12px 0 12px;}"]),w=(0,d.ZP)(x.zl).withConfig({displayName:"UpsizedFlashDealsSkeleton__ItemContainer",componentId:"cxtjtg-1"})(["&&{width:336px;height:64px;background:#ffffff;box-shadow:0px 4px 16px rgba(64,72,90,0.1);border-radius:16px;}"]),v=(0,d.ZP)(g.O).withConfig({displayName:"UpsizedFlashDealsSkeleton__MerchantIconSkeleton",componentId:"cxtjtg-2"})(["&&{width:48px;height:48px;background:linear-gradient(90deg,#dadada 0%,#efefef 0.01%,rgba(245,245,245,0.4) 100%);margin:8px 0px 8px 11.5px;}"]),_=(0,d.ZP)(g.L).withConfig({displayName:"UpsizedFlashDealsSkeleton__ArrowIcon",componentId:"cxtjtg-3"})(["&&{background:linear-gradient(90deg,#dadada 0%,#efefef 0.01%,rgba(245,245,245,0.4) 100%);width:18px;height:18px;}"]),k=function(){return s.createElement(w,null,s.createElement(v,null),s.createElement(x.Dz,{width:"12.5px"}),s.createElement(x.z4,null,s.createElement(x.NH,{height:"14px"}),s.createElement(g.O,{width:"145px",height:"14px"}),s.createElement(x.NH,{height:"8px"}),s.createElement(g.O,{width:"145px",height:"14px"})),s.createElement(x.Dz,{width:"89.5px"}),s.createElement(x.z4,null,s.createElement(x.NH,{height:"23px"}),s.createElement(_,null),s.createElement(x.NH,{height:"23px"})))},E=function(){return s.createElement(b,null,s.createElement(x.zl,{style:{display:"flex"}},s.createElement(g.O,{width:"107px",height:"16px",margin:"0 4px 0 0"})),y.map((function(e){return s.createElement("div",{key:e},s.createElement(x.NH,{height:"8px"}),s.createElement(k,null))})))};const z=s.memo(E);var C=n(7781),I=n(18855),N=n(43541),P=n(98666),D=n(34267),O=n(49485),Z=n(6688),U=n(26846),M=n(59713),j=n.n(M),L=n(47403),T=n(77959),F=n(25723),S=n(4919),A=n(85352),H=n(46464),R=n(62620),W=n(33999),G=n(40062),q=n(45786),X=n(91228),B=function(e){var t=e.className,n=e.arrowColor;return s.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},s.createElement("path",{d:"M1.99998 11.4001L0.599976 10.0001L4.59998 6.0001L0.599976 2.0001L1.99998 0.600098L7.39998 6.0001L1.99998 11.4001Z",fill:n}))};B.propTypes={className:l.string,arrowColor:l.string},B.defaultProps={className:"",arrowColor:"white"};const V=s.memo(B);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=(0,d.ZP)(L.t7).withConfig({displayName:"UpsizedFlashDealsList__StyledList",componentId:"flkxyp-0"})(["&&{-ms-overflow-style:none;scrollbar-width:none;padding-bottom:12px;}&&::-webkit-scrollbar{display:none;}"]),K=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__Container",componentId:"flkxyp-1"})(["&&{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;padding:0 12px;margin-bottom:8px;}"]),Q=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__Item",componentId:"flkxyp-2"})(["&&{display:flex;cursor:pointer;width:100%;flex-direction:row;background:#ffffff;border:1px solid #f7f7f8;border-radius:8px;box-sizing:border-box;padding:12px;min-height:86px;position:relative;}"]),ee=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__Logo",componentId:"flkxyp-3"})(["&&{flex:0 0 60px;width:60px;height:60px;margin-right:12px;background-color:#fff;background-position:center;background-repeat:no-repeat;background-size:contain;border:1px solid #dddfe3;border-radius:8px;box-sizing:border-box;background-image:url(",");background-size:contain;background-position:center;}"],(function(e){return e.imgUrl})),te=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__UpsizedFlashDealContainer",componentId:"flkxyp-4"})(["&&{flex:1;background:#ffffff;}"]),ne=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedFlashDealsList__MerchantName",componentId:"flkxyp-5"})(["&&{display:block;width:210px;overflow:hidden;text-overflow:ellipsis;word-break:normal;white-space:nowrap;text-align:start;font-family:-apple-system,BlinkMacSystemFont,sans-serif !important;font-weight:bold;font-size:14px;line-height:20px;color:#40485a;}"]),ie=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__Cashback",componentId:"flkxyp-6"})(["&&{display:flex;align-items:center;margin-top:4px;}"]),re=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedFlashDealsList__UpsizedCashback",componentId:"flkxyp-7"})(["&&{font-weight:500;font-size:12px;line-height:16px;color:#6b7280;}"]),ae=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedFlashDealsList__CashbackAmount",componentId:"flkxyp-8"})(["&&{display:inline;font-weight:700;font-size:14px;line-height:16px;color:#212836;}"]),oe=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedFlashDealsList__OldCashback",componentId:"flkxyp-9"})(["&&{margin-right:2px;font-weight:500;font-size:12px;line-height:14px;color:#a7abb4;}"]),le=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__ArrowArea",componentId:"flkxyp-10"})(["&&{display:flex;height:18px;width:18px;background-color:black;border-radius:50%;justify-content:center;align-items:center;align-self:center;}"]),se=d.ZP.div.withConfig({displayName:"UpsizedFlashDealsList__IconArea",componentId:"flkxyp-11"})(["&&{flex:0 0 15px;width:15px;height:15px;}"]),ce=d.ZP.span.withConfig({displayName:"UpsizedFlashDealsList__Badge",componentId:"flkxyp-12"})(["&&{background:#4b4bf4;border-radius:8px 8px 8px 0px;font-style:normal;font-weight:700;font-size:10px;line-height:12px;color:#ffffff;padding:2px 4px;position:absolute;top:-6px;left:0;z-index:5;}"]),de=s.memo((function(e){var t,n,i,r=e.index,a=e.style,o=e.data.upsizedMerchants,l=(0,c.v9)(O.q),d=(0,c.v9)(q.jl),p=(0,T._l)(),u=o[r],h=(0,c.I0)(),m=(0,f.Z)(),g=(0,W.w)(),x=(0,c.v9)(G.OU),y=(0,s.useCallback)((function(){p(Y(Y({},m),{},{current_url:g,ui_element_name:"upsized_flash_deals",feature_name:"upsize_flash_deals",feature_type:"merchant",feature_position:r+1,merchant_id:(null==u?void 0:u.merchantId)||null,merchant_name:(null==u?void 0:u.name)||null})),(0,X.xc)({merchant:u,utmMedium:d?R.pAz:R.CG1,isLoggedIn:d,cc:l,isNewTab:!0})}),[l,g,d,p,r,u,m]),b=(0,T.Il)(),w=(0,s.useCallback)((function(e){e.stopPropagation(),u.isFollowed?h((0,H.ZX)({merchant:u,isShowToast:!0,toast:{iconName:"WatchListIcon",message:browser.i18n.getMessage("removed_from_your_watchlist")}})):h((0,H.U4)({merchant:u,isShowToast:!0,toast:{iconName:"WatchListIcon",textButton:browser.i18n.getMessage("go_to_watchlist"),message:browser.i18n.getMessage("added_to_your_watchlist")}})),b(Y(Y({},m),{},{current_url:g,screen_name:"home",ui_element_name:"upsized_flash_deals",feature_type:"merchant",feature_name:null==u?void 0:u.name,merchant_name:null==u?void 0:u.name,merchant_id:null==u?void 0:u.merchantId,interact_type:null!=u&&u.isFollowed?"unfollow":"follow"}))}),[h,u,b,m,g]);return s.createElement(K,{style:a},null!=u&&u.isLoading?s.createElement(Q,null,s.createElement(A.Z,{size:40})):s.createElement(Q,{onClick:function(){return y()}},null!=u&&u.oldCashback?s.createElement(ce,null,browser.i18n.getMessage("upsized")):null,s.createElement(ee,{imgUrl:u.logoUrl,title:u.name}),s.createElement(te,null,s.createElement(ne,null,u.name),s.createElement(ie,null,s.createElement(oe,null,null===(t=u.oldCashback)||void 0===t?void 0:t.subDescription," \u2192"),s.createElement(re,null,s.createElement(ae,null,null===(n=u.cashback)||void 0===n?void 0:n.subDescription,"\xa0"),browser.i18n.getMessage("cashback"))),s.createElement(F.Z,{activeTo:null==u||null===(i=u.cashback)||void 0===i?void 0:i.activeTo,customStyle:{textAlign:"left",padding:"0",marginTop:"5px"},cc:l})),d&&x?s.createElement(se,{onClick:w},s.createElement(S.Z,{pathStyle:Y(Y({},(null==u?void 0:u.isFollowed)&&{fill:"#ff3407"}),{},{stroke:null!=u&&u.isFollowed?"#ff3407":"#404859"}),heartIconTooltipVisible:!1})):s.createElement(le,null,s.createElement(V,null))))})),pe=function(e){var t=e.upsizedMerchants,n=94*t.length,i=n>600?600:n;return s.createElement(J,{width:"100%",height:i,itemSize:94,itemData:{upsizedMerchants:t},itemCount:t.length},de)};pe.propTypes={upsizedMerchants:l.array.isRequired};const fe=pe;var ue=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedMerchantAmount__Badge",componentId:"sc-1j17ix9-0"})(["&&{font-family:Roboto;font-weight:bold;font-size:10px;line-height:12px;background:#e5faf1;color:#187f55;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:10px;width:28px;height:16px;}"]),he=function(e){var t=e.amount,n=e.className;return s.createElement(ue,{className:n},t)};he.propTypes={className:l.string,amount:l.number.isRequired},he.defaultProps={className:""};const me=he;var ge=d.ZP.div.withConfig({displayName:"UpsizedFlashDeals__TitleArea",componentId:"sc-135pfh9-0"})(["&&{display:flex;padding-left:12px;}"]),xe=(0,d.ZP)(x.xv).withConfig({displayName:"UpsizedFlashDeals__Title",componentId:"sc-135pfh9-1"})(["&&{font-family:Roboto;font-style:normal;font-weight:bold;font-size:14px;line-height:16px;display:flex;align-items:center;flex-direction:row;margin-right:4px;}"]),ye=(0,d.ZP)(C.Z).withConfig({displayName:"UpsizedFlashDeals__Container",componentId:"sc-135pfh9-2"})(["&&{padding-top:12px;}"]),be=function(e){var t=e.selfTabIndex,n=e.selfContentIndex,i=(0,c.I0)(),a=(0,N.O)(),l=(0,c.v9)(Z.k),d=(0,c.v9)(U.UE).filter((function(e){return!(null!=l&&l.includes(e.merchantId))})),h=(0,c.v9)(O.q);(0,s.useEffect)((function(){i((0,u.kH)())}),[i,h]);var m=(null==d?void 0:d.length)||0,g=(0,p.Z)(t,n),y=(0,c.v9)(U.hv),b=(0,D.Z)(y),w=o()(a)&&!o()(d);(0,f.Z)(I.Si,w);var v=(0,s.useState)(!1),_=r()(v,2),k=_[0],E=_[1];return(0,s.useEffect)((function(){b&&!y&&E(!0)}),[b,y]),(0,P.Z)(a,{shouldDisplayIn:I.Gy.NON_MERCHANT}).shouldDisplay?0===d.length&&k?null:s.createElement(ye,{ref:g,full:!0},y&&0===d.length?s.createElement(z,null):s.createElement(s.Fragment,null,s.createElement(ge,null,s.createElement(xe,null,browser.i18n.getMessage("upsized_flash_deals_title")),s.createElement(me,{amount:m})),s.createElement(x.NH,{height:"8px"}),s.createElement(fe,{upsizedMerchants:d}))):null};be.propTypes={selfTabIndex:l.number.isRequired,selfContentIndex:l.number.isRequired};const we=s.memo(be)},25723:
/*!*******************************************************!*\
  !*** ./src/shared/components/CountdownTimer/index.js ***!
  \*******************************************************/(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(/*! @babel/runtime/helpers/defineProperty */59713),r=n.n(i),a=n(/*! @babel/runtime/helpers/slicedToArray */63038),o=n.n(a),l=n(/*! dayjs */27484),s=n.n(l),c=n(/*! lodash/isEmpty */41609),d=n.n(c),p=n(/*! prop-types */45697),f=n(/*! react */67294),u=n(/*! styled-components */23588),h=n(/*! ../../styledComponents */20136),m=n(/*! ../../utils/datetimeUtils */90105);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={color:"#cf3030"},b={color:"#794D24"},w={color:"#404859"},v=(0,u.ZP)(h.xv).withConfig({displayName:"CountdownTimer__Container",componentId:"sc-1vxvtph-0"})(["&&{padding:2px 8px;border-radius:10px;font-weight:bold;font-size:10px;line-height:12px;}"]),_=function(e){var t=e.activeTo,n=e.customStyle,i=e.cc,r=(0,f.useState)(null),a=o()(r,2),l=a[0],c=a[1],p=(0,f.useState)({}),u=o()(p,2),h=u[0],g=u[1],_=(0,f.useState)(!1),k=o()(_,2),E=k[0],z=k[1],C=(0,f.useCallback)((function(){var e=s()(t),n=s()(),r=e.diff(n)>0;if(!r)return{};var a=e.diff(n,"second"),o=e.diff(n,"minute"),l=e.diff(n,"hour"),c=e.diff(n,"day");return{isLaterThanToday:r,formattedDate:(0,m.e$)(t,i),days:c,hours:l,minutes:o,seconds:a}}),[t,i]),I=(0,f.useCallback)((function(){var e=C(),t=e.days,n=e.hours,i=e.minutes,r=e.seconds,a=e.formattedDate,o=e.isLaterThanToday;if(void 0!==o&&o){if(!(t>30))return 0===t&&0===n?(g(y),59===i&&r>0?void c(browser.i18n.getMessage("ends_in_x_hours","1")):59===i&&0===r?void c(browser.i18n.getMessage("ends_in_x_minutes","".concat(i))):void c(browser.i18n.getMessage("ends_in_x_minutes","".concat(i+1)))):0===t&&n>=1?(c(browser.i18n.getMessage("ends_in_x_hours","".concat(n))),void g(y)):t>=1&&t<=7?(c(browser.i18n.getMessage("ends_in_x_days","".concat(t))),void g(b)):void(t>7&&(c(browser.i18n.getMessage("ends_on_x",a)),g(w)));z(!0)}}),[C]);return(0,f.useEffect)((function(){I()}),[I]),d()(t)||d()(l)||E?null:f.createElement(v,{style:x(x({},h),n)},l)};_.propTypes={customStyle:p.object,activeTo:p.string,cc:p.string.isRequired},_.defaultProps={customStyle:null,activeTo:null};const k=_},85352:
/*!************************************************!*\
  !*** ./src/shared/components/Spinner/index.js ***!
  \************************************************/(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(/*! prop-types */45697),r=n(/*! react */67294),a=n(/*! styled-components */23588),o=(0,a.F4)(["100%{transform:rotate(360deg);}"]),l=(0,a.F4)(["0%{stroke-dasharray:1,150;stroke-dashoffset:0;}50%{stroke-dasharray:90,150;stroke-dashoffset:-35;}100%{stroke-dasharray:90,150;stroke-dashoffset:-124;}"]),s=a.ZP.svg.attrs((function(e){var t=e.size;return{viewBox:"0 0 ".concat(t," ").concat(t)}})).withConfig({displayName:"Spinner__StyledSpinner",componentId:"iwbj2y-0"})(["&&{width:","px;height:","px;margin:auto !important;animation:"," 2s linear infinite;will-change:transform;position:relative !important;}&& > circle{stroke:",";stroke-linecap:round;animation:"," 1.5s ease-in-out infinite;will-change:stroke-dasharray,stroke-dashoffset;stroke-width:",";}"],(function(e){return e.size}),(function(e){return e.size}),o,(function(e){return e.color}),l,(function(e){var t=e.strokeWidth;return"".concat(t,"px")})),c=function(e){var t=e.size,n=e.strokeWidth,i=e.color,a=void 0===i?"#ff4e4e":i;return r.createElement(s,{size:t,color:a,strokeWidth:n},r.createElement("circle",{fill:"none",cx:t/2,cy:t/2,r:t/2-n-1,strokeWidth:n}))};c.propTypes={size:i.number,strokeWidth:i.number,color:i.string},c.defaultProps={size:50,strokeWidth:4,color:"#ff4e4e"};const d=c},46464:
/*!*************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/index.js ***!
  \*************************************************************************/(e,t,n)=>{n.d(t,{U4:()=>i.U4,ZX:()=>i.ZX});var i=n(/*! ./merchants */57497);n(/*! ./tabs */67930)},57497:
/*!*****************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/merchants.js ***!
  \*****************************************************************************/(e,t,n)=>{n.d(t,{LV:()=>r,U4:()=>a,ZX:()=>o,MW:()=>l});var i=n(/*! ../../../constants/merchants */91227),r=function(){return{type:i.nz}},a=function(e){return{type:i.bI,payload:e}},o=function(e){return{type:i.Y4,payload:e}},l=function(){return{type:i.s1}}},67930:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/tabs.js ***!
  \************************************************************************/(e,t,n)=>{n.d(t,{g:()=>r});var i=n(/*! ../../../constants/tabs */18855),r=function(e){var t=e.openUrl,n=e.active,r=e.autoClose,a=void 0===r||r;return{type:i.Th,openUrl:t,active:n,autoClose:a}}},98666:
/*!******************************************************!*\
  !*** ./src/shared/hooks/useMerchantOffExperiment.js ***!
  \******************************************************/(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(/*! react-redux */65858),r=n(/*! ../constants/tabs */18855),a=n(/*! ../selectors/activation */83582),o=n(/*! ../selectors/experiments */6688);const l=function(e,t){var n,l=t.shouldDisplayIn,s=null!==(n=null==e?void 0:e.merchantId)&&void 0!==n?n:null,c=(0,i.v9)((function(e){return(0,o.Zb)(e,{merchantId:s})})),d=(0,i.v9)((function(e){return(0,o.vb)(e,{merchantId:s})}));return(0,i.v9)((function(t){return(0,a.tm)(t,{merchant:e})||(0,a.GM)(t,{merchant:e})}))?l===r.Gy.MERCHANT:c?d?{isMerchantInExperiment:!0,shouldDisplay:l===r.Gy.MERCHANT}:{isMerchantInExperiment:!0,shouldDisplay:l===r.Gy.NON_MERCHANT}:e?{isMerchantInExperiment:!1,shouldDisplay:l===r.Gy.MERCHANT}:{isMerchantInExperiment:!1,shouldDisplay:l===r.Gy.NON_MERCHANT}}},64616:
/*!*************************************************!*\
  !*** ./src/shared/styledComponents/Skeleton.js ***!
  \*************************************************/(e,t,n)=>{n.d(t,{O:()=>a,L:()=>o});var i=n(/*! styled-components */23588),r=(0,i.F4)(["0%{transform:translateX(-100%);}60%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),a=i.ZP.div.withConfig({displayName:"Skeleton",componentId:"edinct-0"})(["&&{width:",";height:",";margin:",";border-radius:",";display:",";background:linear-gradient(90deg,#efefef,transparent);overflow:hidden;}&&:after{width:",";height:",";content:'';animation:"," 1.5s linear 0.5s infinite;background:linear-gradient(90deg,transparent,#f5f5f5,transparent);}"],(function(e){return e.width||"auto"}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.borderRadius||"3px"}),(function(e){return e.display||"flex"}),(function(e){return e.width||"auto"}),(function(e){return e.height}),r),o=(0,i.ZP)(a).withConfig({displayName:"Skeleton__CircleSkeleton",componentId:"edinct-1"})(["&&{border-radius:50%;}"])},90105:
/*!*******************************************!*\
  !*** ./src/shared/utils/datetimeUtils.js ***!
  \*******************************************/(e,t,n)=>{n.d(t,{L0:()=>s,e$:()=>c});var i=n(/*! dayjs */27484),r=n.n(i),a=n(/*! dayjs/plugin/localizedFormat */56176),o=n.n(a),l=n(/*! ../constants/countries */53437);r().extend(o());var s=function(e,t){return r()(e).format(t)},c=function(e,t){var n="en";return n="PH"===t?"ph":browser.i18n.getUILanguage().substring(0,2),r()(e).format(l.bn[n])}}}]);