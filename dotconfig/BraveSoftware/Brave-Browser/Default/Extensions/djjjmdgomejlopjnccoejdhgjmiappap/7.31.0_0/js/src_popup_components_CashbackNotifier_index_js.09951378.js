"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_popup_components_CashbackNotifier_index_js"],{21825:
/*!********************************************************************!*\
  !*** ./src/popup/components/CashbackNotifier/index.js + 6 modules ***!
  \********************************************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ie});var r=n(14293),i=n.n(r),o=n(45697),a=n(67294),l=n(63535),c=n(7781),s=n(18855),u=n(43541),p=n(98666),d=n(59713),f=n.n(d),m=n(65858),h=n(23588),g=n(77959),b=n(20374),v=n(45633),y=n(25723),w=n(40367),x=n(46464),_=n(61571),k=n(62620),C=n(6256),E=n(83582),I=n(68093),P=n(49485),O=n(6688),T=n(96965),j=n(26846),Z=n(96884),N=n(45887),S=n(45786),M=n(20136),B=n(91228);const D=(0,h.ZP)(v.Z).withConfig({displayName:"ActivateButton",componentId:"sc-14dgplk-0"})(["&&{width:unset;white-space:nowrap;background:#ff3407;margin-left:10px;",";}"],(function(e){return e.isActivated?(0,h.iv)(["background:#e5faf1;color:#187f55;pointer-events:none;"]):""}));var z=h.ZP.div.withConfig({displayName:"NoCashback__Container",componentId:"zchr7k-0"})(["&&{box-sizing:border-box;padding:12px 12px 0;}"]),L=h.ZP.div.withConfig({displayName:"NoCashback__Body",componentId:"zchr7k-1"})(["&&{display:flex;flex-direction:column;align-items:start;}"]),A=(0,h.ZP)(M.xv).withConfig({displayName:"NoCashback__Title",componentId:"zchr7k-2"})(["&&{font-weight:700;font-size:14px;line-height:16px;color:#898d9a;text-align:left;}"]),R=(0,h.ZP)(M.xv).withConfig({displayName:"NoCashback__Description",componentId:"zchr7k-3"})(["&&{font-weight:400;font-size:12px;line-height:14px;color:#898d9a;text-align:left;margin-top:8px;}"]);const F=function(){var e=(0,a.useMemo)((function(){return browser.i18n.getMessage("no_cashback")}),[]),t=(0,a.useMemo)((function(){return browser.i18n.getMessage("no_cashback_subtitle")}),[]);return a.createElement(z,null,a.createElement(L,null,a.createElement(A,null,e),a.createElement(R,null,t)))};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=h.ZP.div.withConfig({displayName:"CashbackInfo__Container",componentId:"p937bb-0"})(["&&{padding:12px 0;}&& > div + div{margin-top:8px;}"]),H=h.ZP.div.withConfig({displayName:"CashbackInfo__Body",componentId:"p937bb-1"})(["&&{display:flex;flex-direction:row;justify-content:space-between;}&& > div + div{margin-left:5px;}"]),G=h.ZP.div.withConfig({displayName:"CashbackInfo__Info",componentId:"p937bb-2"})(["&&{display:flex;flex-direction:column;align-items:start;width:100%;padding:12px 12px 0;}&& > div + div{margin-top:8px;}"]),V=h.ZP.div.withConfig({displayName:"CashbackInfo__SubscriptionCashbackContainer",componentId:"p937bb-3"})(["&&{display:flex;align-items:center;}"]),X=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackInfo__LatestCashback",componentId:"p937bb-4"})(["&&{font-weight:bold;font-size:14px;line-height:24px;color:#212836;text-align:left;}"]),Y=h.ZP.img.withConfig({displayName:"CashbackInfo__SubscriptionLogoImage",componentId:"p937bb-5"})(["&&{width:32px;height:16px;margin-right:5px;}"]),J=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackInfo__OldCashback",componentId:"p937bb-6"})(["&&{font-size:12px;line-height:14px;text-decoration-line:line-through;color:#6b7280;}"]),$=(0,h.ZP)(M.zl).withConfig({displayName:"CashbackInfo__StyledFlexRowContainer",componentId:"p937bb-7"})(["&&{justify-content:space-between;align-items:center;}"]),K=(0,h.ZP)(v.Z).withConfig({displayName:"CashbackInfo__RedirectActivateButton",componentId:"p937bb-8"})(["&&{background:#000000;user-select:none;width:initial;}"]),Q=browser.runtime.getURL("images/subscription/subscription_logo.png");const ee=function(){var e,t,n,r,i,o=(0,C.z)(),l=(0,m.v9)((function(e){return(0,N.jv)(e,{tabId:o})})),c=(0,m.v9)((function(e){return(0,j._t)(e,{url:l})})),s=(0,m.v9)((function(e){return(0,E.GM)(e,{merchant:c})})),u=(0,m.v9)((function(e){return(0,E.tm)(e,{merchant:c})})),p=(0,m.v9)((function(e){return(0,I.ko)(e,{url:l})})),d=u||s,f=(0,m.v9)((function(e){return(0,j.Ay)(e,{merchant:c})})),h=u?f:c,v=null!==(e=null==h?void 0:h.merchantId)&&void 0!==e?e:-1,M=(0,m.v9)((function(e){return(0,j.Mp)(e,{id:v})})),z=(0,m.v9)((function(e){return(0,O.vb)(e,{merchantId:v})||(0,T.v6)(e,{merchant:h})})),L=(0,m.v9)((function(e){return(0,S.jl)(e)})),A=(0,m.v9)(P.q),R=(0,T.ki)(h),W=(0,m.I0)(),ee=(0,m.v9)((function(e){return(0,j.WZ)(e,{merchant:h})})),te=(0,g.u_)(),ne=(0,b.Z)(),re=(0,m.v9)((function(e){return(0,Z.Rj)(e,{id:v})})),ie=(0,m.v9)((function(e){return(0,Z.Yc)(e,{id:v})})),oe=null==h||null===(t=h.betterComparisonOffer)||void 0===t||null===(n=t.renderedOffer)||void 0===n?void 0:n.displayText,ae=(0,a.useCallback)((function(){null==te||te(U(U({},ne),{},{screen_name:"home_merchant_cashback_details",affiliate_link_id:(null==h?void 0:h.affiliatedId)||null,ui_element_name:L?"merchant_cashback":"cashback_component",feature_name:L?"cashback_activate":"login_to_activate"}));var e=L?k.kLJ:k.yeY;(0,B.xc)({merchant:h,utmMedium:e,isLoggedIn:L,cc:A})}),[A,L,h,te,ne]),le=(0,a.useMemo)((function(){return d?browser.i18n.getMessage("notifier_cashback_activated"):L?browser.i18n.getMessage("menu_get_cashback"):browser.i18n.getMessage("menu_log_in_first")}),[d,L]),ce=(0,g.Il)(),se=(0,a.useCallback)((function(e){e.preventDefault(),h.isFollowed?W((0,x.ZX)({merchant:h,isShowToast:!0,toast:{iconName:"WatchListIcon",message:browser.i18n.getMessage("removed_from_your_watchlist")}})):W((0,x.U4)({merchant:h,isShowToast:!0,toast:{iconName:"WatchListIcon",textButton:browser.i18n.getMessage("go_to_watchlist"),message:browser.i18n.getMessage("added_to_your_watchlist")}})),ce(U(U(U({},ee),ne),{},{feature_type:null,screen_name:"home",interact_type:h.isFollowed?"unfollow":"follow",merchant_id:null==h?void 0:h.merchantId,current_url:l,is_following:h.isFollowed}))}),[h,W,ce,l,ee,ne]),ue=function(){var e,t,n=c.sbWebMerchantUrl;te(U(U({},ne),{},{screen_name:"home",affiliate_link_id:null!==(e=null==h||null===(t=h.affiliatedId)||void 0===t?void 0:t.toString())&&void 0!==e?e:null,ui_element_name:"merchant_cashback",feature_name:"go_to_shopback",feature_type:null})),browser.tabs.update(o,{url:n})},pe=(0,g.XC)(),de=(0,a.useCallback)((function(){pe(U(U(U({},ne),ee),{},{screen_name:"home",feature_type:null,feature_name:"follow",merchant_id:null==h?void 0:h.merchantId,current_url:l,is_following:h.isFollowed}))}),[pe,h,l,ne,ee]);return a.createElement(q,null,a.createElement(_.Z,{merchant:h,isLoggedIn:L,url:l,tabId:o,onFollowButtonClick:se,screenName:"Popup",style:{paddingLeft:"12px",paddingRight:"12px"},onFollowButtonHover:de}),M?a.createElement(a.Fragment,null,a.createElement(H,null,a.createElement(G,null,a.createElement($,{width:"100%"},a.createElement(V,null,re&&a.createElement(Y,{src:Q}),a.createElement(X,null,null==h?void 0:h.cashbackAmount)),!p&&(z&&!d?a.createElement(K,{text:browser.i18n.getMessage("compliance_activation_btn_name"),handleButtonClick:ue}):a.createElement(D,{isActivated:d,handleButtonClick:ae,text:le}))),R&&a.createElement(a.Fragment,null,a.createElement(J,null,null==h||null===(r=h.oldCashback)||void 0===r?void 0:r.description),a.createElement(y.Z,{activeTo:null==h||null===(i=h.cashback)||void 0===i?void 0:i.activeTo,cc:A})),ie&&a.createElement($,{width:"100%"},a.createElement(w.Z,{cashbackDisplayText:oe}))))):a.createElement(F,null))};var te=n(63038),ne=n.n(te),re=n(33999);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){var t=e.svgStyle,n=e.up;return a.createElement("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:oe({},t)},n?a.createElement("path",{d:"M0.862061 6L5.86206 0L10.8621 6H0.862061Z",fill:"#6B7280"}):a.createElement("path",{d:"M0 0.95726L5 6.90598L10 0.95726H0Z",fill:"#6B7280"}))};ae.propTypes={svgStyle:o.object,up:o.bool},ae.defaultProps={svgStyle:null,up:!1};const le=ae;var ce=browser.runtime.getURL("images/cashbackTiers/cashback-people.png"),se=browser.runtime.getURL("images/cashbackTiers/cashback-people-2x.png");const ue=h.ZP.div.withConfig({displayName:"PeopleIcon",componentId:"sc-12eqs52-0"})(["&&{width:155px;height:51px;background-image:url(",");background-image:image-set(url(",") 1x,url(",") 2x);margin:16px auto 0;}"],ce,ce,se);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=browser.runtime.getURL("images/subscription/subscription_logo.png"),me=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackTiers__TiersButton",componentId:"sc-13261tn-0"})(["&&{height:32px;font-weight:500;font-size:12px;line-height:14px;color:#6b7280;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;}&& > svg{margin-left:6px;}"]),he=(0,h.ZP)(M.x1).withConfig({displayName:"CashbackTiers__StyledLine",componentId:"sc-13261tn-1"})(["&&{border-top:1px solid #efeff1;width:100%;height:0;box-sizing:border-box;position:absolute;z-index:11;display:",";}"],(function(e){return e.visible?"block":"none"})),ge=h.ZP.div.withConfig({displayName:"CashbackTiers__TiersContainer",componentId:"sc-13261tn-2"})(["&&{width:100%;flex-direction:column;align-items:start;padding:12px 12px 0 12px;position:absolute;z-index:11;background:#ffffff;box-shadow:0px 7px 12px 0px rgb(0 0 0 / 5%);display:",";box-sizing:border-box;border-radius:0 0 16px 16px;}"],(function(e){return e.visible?"flex":"none"})),be=h.ZP.div.withConfig({displayName:"CashbackTiers__Title",componentId:"sc-13261tn-3"})(["&&{font-weight:bold;font-size:14px;line-height:16px;color:#40485a;}"]),ve=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackTiers__StandardCashbackTitle",componentId:"sc-13261tn-4"})(["&&{font-size:10px;line-height:12px;text-align:start;color:",";}"],(function(e){return e.color||"#232938"})),ye=h.ZP.div.withConfig({displayName:"CashbackTiers__DetailContainer",componentId:"sc-13261tn-5"})(["&&{display:flex;flex-direction:column;align-items:start;margin-top:12px;width:100%;}"]),we=h.ZP.div.withConfig({displayName:"CashbackTiers__DataRow",componentId:"sc-13261tn-6"})(["&&{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;margin-top:8px;}&&:first-child{margin-top:0;}"]),xe=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackTiers__CashbackItem",componentId:"sc-13261tn-7"})(["&&{font-size:12px;line-height:14px;color:#212836;width:206px;text-align:left;}"]),_e=h.ZP.img.withConfig({displayName:"CashbackTiers__SubscriptionLogoImage",componentId:"sc-13261tn-8"})(["&&{width:32px;height:16px;opacity:",";}"],(function(e){return e.subscriber?1:.5})),ke=(0,h.ZP)(M.xv).withConfig({displayName:"CashbackTiers__CashbackRate",componentId:"sc-13261tn-9"})(["&&{font-size:12px;line-height:14px;color:",";text-decoration:",";font-weight:",";}"],(function(e){return e.color||"#232938"}),(function(e){return e.lineThrough?"line-through":"none"}),(function(e){return e.weight||"normal"}));const Ce=function(){var e=(0,a.useState)(!1),t=ne()(e,2),n=t[0],r=t[1],i=(0,re.w)(),o=(0,m.v9)((function(e){return(0,j._t)(e,{url:i})})),l=(0,m.v9)((function(e){return(0,j._P)(e,{url:i})})),c=(0,m.v9)((function(e){return(0,Z.zM)(e,{id:l})})),s=(0,m.v9)((function(e){return(0,Z.Rj)(e,{id:l})})),u=(0,m.v9)((function(e){return(0,E.tm)(e,{merchant:o})})),p=(0,m.v9)((function(e){return(0,j.Ay)(e,{merchant:o})})),d=(0,m.v9)((function(e){return(0,Z.u7)(e,{id:l})}));d=u?p.cashbackTiers:d;var f=(0,g.Il)(),h=(0,b.Z)(),v=(0,a.useRef)(),y=function(e){null!=v&&v.current&&v.current.contains(e.target)||r(!1)};(0,a.useEffect)((function(){return document.addEventListener("click",y),function(){document.removeEventListener("click",y)}}),[]);var w=(0,a.useCallback)((function(){null==f||f(de(de({},h),{},{ui_element_name:"cashback_component",feature_name:"view_all_rates",interact_type:"see_all",feature_type:"cta"}))}),[h,f]);return 0===d.length?null:a.createElement("div",{ref:v},a.createElement(he,{visible:!0}),a.createElement(me,{onClick:function(){r((function(e){return!1===e&&w(),!e}))}},browser.i18n.getMessage("notifier_view_all_rates"),a.createElement(le,{up:n})),a.createElement(he,{visible:n}),a.createElement(ge,{visible:n},a.createElement(we,null,a.createElement(xe,null,a.createElement(be,null,browser.i18n.getMessage("notifier_cashback_tiers_title"))),c&&!u&&a.createElement(ve,{color:s?"#AAADB6":"#232938"},browser.i18n.getMessage("subscription_standard_cashback_rates")),c&&!u&&a.createElement(_e,{subscriber:s,src:fe})),a.createElement(ye,null,d.map((function(e){return c&&!u?a.createElement(we,{key:null==e?void 0:e.label},a.createElement(xe,null,null==e?void 0:e.label),a.createElement(ke,{color:s?"#AAADB6":"#232938",lineThrough:s},null==e?void 0:e.currentDisplayValue),a.createElement(ke,{weight:"700",color:s?"#232938":"#AAADB6"},null==e?void 0:e.betterDisplayValue)):a.createElement(we,{key:null==e?void 0:e.name},a.createElement(xe,null,null==e?void 0:e.name),a.createElement(ke,{color:"#ff3407"},null==e?void 0:e.amount))}))),a.createElement(ue,null)))};var Ee=function(e){var t=e.selfTabIndex,n=e.selfContentIndex,r=(0,u.O)(),o=(0,l.Z)(t,n),d=(0,p.Z)(r,{shouldDisplayIn:s.Gy.MERCHANT}),f=d.shouldDisplay,m=d.isMerchantInExperiment;return!f&&m||i()(r)?null:a.createElement(c.Z,{ref:o},a.createElement(ee,null),a.createElement(Ce,null))};Ee.propTypes={selfTabIndex:o.number.isRequired,selfContentIndex:o.number.isRequired};const Ie=a.memo(Ee)},25723:
/*!*******************************************************!*\
  !*** ./src/shared/components/CountdownTimer/index.js ***!
  \*******************************************************/(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(r),o=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(o),l=n(/*! dayjs */27484),c=n.n(l),s=n(/*! lodash/isEmpty */41609),u=n.n(s),p=n(/*! prop-types */45697),d=n(/*! react */67294),f=n(/*! styled-components */23588),m=n(/*! ../../styledComponents */20136),h=n(/*! ../../utils/datetimeUtils */90105);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={color:"#cf3030"},y={color:"#794D24"},w={color:"#404859"},x=(0,f.ZP)(m.xv).withConfig({displayName:"CountdownTimer__Container",componentId:"sc-1vxvtph-0"})(["&&{padding:2px 8px;border-radius:10px;font-weight:bold;font-size:10px;line-height:12px;}"]),_=function(e){var t=e.activeTo,n=e.customStyle,r=e.cc,i=(0,d.useState)(null),o=a()(i,2),l=o[0],s=o[1],p=(0,d.useState)({}),f=a()(p,2),m=f[0],g=f[1],_=(0,d.useState)(!1),k=a()(_,2),C=k[0],E=k[1],I=(0,d.useCallback)((function(){var e=c()(t),n=c()(),i=e.diff(n)>0;if(!i)return{};var o=e.diff(n,"second"),a=e.diff(n,"minute"),l=e.diff(n,"hour"),s=e.diff(n,"day");return{isLaterThanToday:i,formattedDate:(0,h.e$)(t,r),days:s,hours:l,minutes:a,seconds:o}}),[t,r]),P=(0,d.useCallback)((function(){var e=I(),t=e.days,n=e.hours,r=e.minutes,i=e.seconds,o=e.formattedDate,a=e.isLaterThanToday;if(void 0!==a&&a){if(!(t>30))return 0===t&&0===n?(g(v),59===r&&i>0?void s(browser.i18n.getMessage("ends_in_x_hours","1")):59===r&&0===i?void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(r))):void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(r+1)))):0===t&&n>=1?(s(browser.i18n.getMessage("ends_in_x_hours","".concat(n))),void g(v)):t>=1&&t<=7?(s(browser.i18n.getMessage("ends_in_x_days","".concat(t))),void g(y)):void(t>7&&(s(browser.i18n.getMessage("ends_on_x",o)),g(w)));E(!0)}}),[I]);return(0,d.useEffect)((function(){P()}),[P]),u()(t)||u()(l)||C?null:d.createElement(x,{style:b(b({},m),n)},l)};_.propTypes={customStyle:p.object,activeTo:p.string,cc:p.string.isRequired},_.defaultProps={customStyle:null,activeTo:null};const k=_},85352:
/*!************************************************!*\
  !*** ./src/shared/components/Spinner/index.js ***!
  \************************************************/(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(/*! prop-types */45697),i=n(/*! react */67294),o=n(/*! styled-components */23588),a=(0,o.F4)(["100%{transform:rotate(360deg);}"]),l=(0,o.F4)(["0%{stroke-dasharray:1,150;stroke-dashoffset:0;}50%{stroke-dasharray:90,150;stroke-dashoffset:-35;}100%{stroke-dasharray:90,150;stroke-dashoffset:-124;}"]),c=o.ZP.svg.attrs((function(e){var t=e.size;return{viewBox:"0 0 ".concat(t," ").concat(t)}})).withConfig({displayName:"Spinner__StyledSpinner",componentId:"iwbj2y-0"})(["&&{width:","px;height:","px;margin:auto !important;animation:"," 2s linear infinite;will-change:transform;position:relative !important;}&& > circle{stroke:",";stroke-linecap:round;animation:"," 1.5s ease-in-out infinite;will-change:stroke-dasharray,stroke-dashoffset;stroke-width:",";}"],(function(e){return e.size}),(function(e){return e.size}),a,(function(e){return e.color}),l,(function(e){var t=e.strokeWidth;return"".concat(t,"px")})),s=function(e){var t=e.size,n=e.strokeWidth,r=e.color,o=void 0===r?"#ff4e4e":r;return i.createElement(c,{size:t,color:o,strokeWidth:n},i.createElement("circle",{fill:"none",cx:t/2,cy:t/2,r:t/2-n-1,strokeWidth:n}))};s.propTypes={size:r.number,strokeWidth:r.number,color:r.string},s.defaultProps={size:50,strokeWidth:4,color:"#ff4e4e"};const u=s},40367:
/*!**********************************************************!*\
  !*** ./src/shared/components/SubscriptionEntry/index.js ***!
  \**********************************************************/(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(/*! prop-types */45697),i=n.n(r),o=n(/*! react */67294),a=n(/*! react-redux */65858),l=n(/*! styled-components */23588),c=n(/*! ../../selectors/cc */49485),s=n(/*! ../../urls */4536),u=browser.runtime.getURL("images/subscription/subscription_background.png"),p=browser.runtime.getURL("images/subscription/subscription_logo.png"),d=l.ZP.div.withConfig({displayName:"SubscriptionEntry__SubscriptionEntryContainer",componentId:"sc-5o2pyd-0"})(["&&{display:flex;align-items:center;margin-left:",";margin-right:",";width:100%;justify-content:space-between;background-image:url(",");border-radius:",";padding:1rem;cursor:pointer;}"],(function(e){var t=e.isInNotifier;return void 0!==t&&t?"0":"0.3rem"}),(function(e){var t=e.isInNotifier;return void 0!==t&&t?"0":"0.3rem"}),u,(function(e){var t=e.isInNotifier;return void 0!==t&&t?"0":"0.3rem"})),f=l.ZP.div.withConfig({displayName:"SubscriptionEntry__CashbackInfoContainer",componentId:"sc-5o2pyd-1"})(["&&{display:flex;align-items:center;}"]),m=l.ZP.img.withConfig({displayName:"SubscriptionEntry__SubscriptionLogoImage",componentId:"sc-5o2pyd-2"})(["&&{width:32px;height:16px;}"]),h=l.ZP.div.withConfig({displayName:"SubscriptionEntry__SubscriptionCashbackInfo",componentId:"sc-5o2pyd-3"})(["&&{margin-left:5px;font-weight:700;font-size:16px;}"]),g=function(e){var t=e.fill,n=void 0===t?"#404859":t,r=e.svgStyle;return o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,stroke:"black"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.88979 0.878141C1.07618 0.707286 1.37837 0.707286 1.56476 0.878141L6 4.94378L10.4352 0.878141C10.6216 0.707286 10.9238 0.707286 11.1102 0.878141C11.2966 1.049 11.2966 1.326 11.1102 1.49686L6.33748 5.87186C6.1511 6.04271 5.8489 6.04271 5.66252 5.87186L0.88979 1.49686C0.703403 1.326 0.703403 1.049 0.88979 0.878141Z",fill:n}))};g.propTypes={fill:i().string,svgStyle:i().object},g.defaultProps={fill:"#404859",svgStyle:{}};var b=function(e){var t=e.cashbackDisplayText,n=e.isInNotifier,r=void 0!==n&&n,i=(0,a.v9)(c.q);return o.createElement(d,{isInNotifier:r,onClick:function(){window.open((0,s.Mv)(i))}},o.createElement(f,null,o.createElement(m,{src:p}),o.createElement(h,null,t)),o.createElement(g,{svgStyle:{height:"100%",width:"12px",display:"inline-block",verticalAlign:"top",transform:"rotate(-90deg)"}}))};b.propTypes={cashbackDisplayText:i().string.isRequired,isInNotifier:i().bool},b.defaultProps={isInNotifier:!1};const v=b},46464:
/*!*************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/index.js ***!
  \*************************************************************************/(e,t,n)=>{n.d(t,{U4:()=>r.U4,ZX:()=>r.ZX});var r=n(/*! ./merchants */57497);n(/*! ./tabs */67930)},57497:
/*!*****************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/merchants.js ***!
  \*****************************************************************************/(e,t,n)=>{n.d(t,{LV:()=>i,U4:()=>o,ZX:()=>a,MW:()=>l});var r=n(/*! ../../../constants/merchants */91227),i=function(){return{type:r.nz}},o=function(e){return{type:r.bI,payload:e}},a=function(e){return{type:r.Y4,payload:e}},l=function(){return{type:r.s1}}},67930:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/tabs.js ***!
  \************************************************************************/(e,t,n)=>{n.d(t,{g:()=>i});var r=n(/*! ../../../constants/tabs */18855),i=function(e){var t=e.openUrl,n=e.active,i=e.autoClose,o=void 0===i||i;return{type:r.Th,openUrl:t,active:n,autoClose:o}}},61571:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchMerchantBanner/index.js + 4 modules ***!
  \************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>G});var r=n(28655),i=n.n(r),o=n(14293),a=n.n(o),l=n(45697),c=n(67294),s=n(65858),u=n(23588),p=n(67154),d=n.n(p),f=n(63038),m=n.n(f),h=n(6479),g=n.n(h),b=["src","alt","loading","fallback"],v=function(e){var t=e.src,n=e.alt,r=e.loading,i=e.fallback,o=g()(e,b),a=(0,c.useState)(!0),l=m()(a,2),s=l[0],u=l[1],p=(0,c.useState)(!1),f=m()(p,2),h=f[0],v=f[1];return c.createElement(c.Fragment,null,s&&r,h?i:c.createElement("img",d()({src:t,alt:n,onError:function(){return v(!0)},onLoad:function(){return u(!1)}},o)))};v.propTypes={src:l.string.isRequired,alt:l.string,fallback:l.node,loading:l.node},v.defaultProps={alt:"",fallback:null,loading:null};const y=c.memo(v);var w=n(85352),x=n(40062),_=n(45786),k=n(59713),C=n.n(k);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=e.svgStyle,n=e.pathStyle;return c.createElement("svg",{width:"15",height:"15",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:I({},t)},c.createElement("path",{d:"M14.162 2.50451C12.6 0.942508 10.0673 0.942508 8.50535 2.50451C8.31268 2.69717 8.14535 2.90451 8.00068 3.12251C7.85601 2.90451 7.68801 2.69651 7.49601 2.50451C5.93401 0.942508 3.40135 0.942508 1.83935 2.50451C0.277347 4.06651 0.277347 6.59917 1.83935 8.16117L8.00001 14.3232L14.162 8.16117C15.724 6.59917 15.724 4.06651 14.162 2.50451Z",style:I({},n),strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))}P.propTypes={svgStyle:l.object,pathStyle:l.object},P.defaultProps={svgStyle:{},pathStyle:{fill:"#404859",stroke:"#404859"}};const O=P;var T=n(43126),j=n(90830),Z=n(20136),N=(0,u.ZP)(Z.xv).withConfig({displayName:"SimpleTippyText__TextContainer",componentId:"sc-5fksx3-0"})(["&&{font-size:14px;font-weight:400;color:#ffffff;text-align:",";line-height:20px !important;padding:12px !important;background:#212836;border-radius:12px;box-sizing:border-box;max-width:280px !important;}"],(function(e){return e.textAlign||"center"})),S=u.ZP.div.withConfig({displayName:"SimpleTippyText__Arrow",componentId:"sc-5fksx3-1"})(["&&{width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #212836;top:-8px;}"]);function M(e){var t=e.content,n=e.children,r=e.textAlign,i=e.zIndex,o=e.placement,a=e.appendTo,l=e.visible,s=e.onTrigger,u=(0,c.useState)(null),p=m()(u,2),f=p[0],h=p[1],g=(0,c.useCallback)((function(e){return c.createElement(N,d()({},e,{textAlign:r}),t,c.createElement(S,{ref:h}))}),[t,r]);return l?c.createElement(T.ZP,{appendTo:a,placement:o,zIndex:i,offset:[-15,10],render:g,popperOptions:{modifiers:[{name:"arrow",options:{element:f}}]},onTrigger:s},n):n}M.propTypes={content:l.string.isRequired,children:l.node,textAlign:l.string,zIndex:l.number,placement:l.string,appendTo:(0,l.oneOfType)([l.string,l.func]),visible:l.bool,onTrigger:l.func},M.defaultProps={children:null,textAlign:"center",zIndex:j.Z,placement:"top",appendTo:"parent",visible:!0,onTrigger:void 0};const B=M;var D,z=(0,n(22222).P1)((function(e,t){return t.merchant}),(function(e){return null==e?void 0:e.isFollowed})),L=(0,u.vJ)(D||(D=i()(["\n  #ShopBack-WatchMerchantBanner,\n  #ShopBack-WatchMerchantBanner * {\n    box-sizing: border-box !important;\n  }\n  section#ShopBack-WatchMerchantBanner {\n    margin: 0;\n    border-bottom: 1px solid #efeff1;\n  }\n"]))),A=u.ZP.section.withConfig({displayName:"WatchMerchantBanner__Container",componentId:"sc-1mdlqa9-0"})(["&&{display:flex;align-items:center;padding-bottom:12px !important;width:100%;box-sizing:border-box;border-bottom:'1px solid #f7f7f8';background:#ffffff;}"]),R=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerTitle",componentId:"sc-1mdlqa9-1"})(["&&{flex:1;height:24px;font-size:12px;line-height:20px !important;font-weight:600;}"]),F=(0,u.ZP)(y).withConfig({displayName:"WatchMerchantBanner__ContainerTitleImg",componentId:"sc-1mdlqa9-2"})(["&&{width:auto;max-height:100%;object-fit:contain;object-position:left;display:inline-block;vertical-align:top;position:relative;top:50%;transform:translateY(-50%);}"]),W=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerButton",componentId:"sc-1mdlqa9-3"})(["&&{flex:0 1 auto;}"]),U=u.ZP.button.withConfig({displayName:"WatchMerchantBanner__FollowButton",componentId:"sc-1mdlqa9-4"})(["&&{padding:4px 12px !important;background:#f1f6fe !important;border-radius:12px !important;color:#266bd9 !important;box-shadow:none !important;border:none !important;display:flex;align-items:center;cursor:pointer;user-select:none;box-sizing:border-box;min-width:76px;display:flex;justify-content:center;position:relative !important;}&&:hover,&&:focus{border:none !important;}"]),q=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonIcon",componentId:"sc-1mdlqa9-5"})(["&&{width:12px !important;height:12px !important;margin-right:5px !important;position:relative !important;}"]),H=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonText",componentId:"sc-1mdlqa9-6"})(["&&{font-weight:700 !important;font-size:12px !important;line-height:16px !important;}"]);function G(e){var t=e.merchant,n=e.onFollowButtonClick,r=void 0===n?void 0:n,i=e.onFollowButtonHover,o=void 0===i?void 0:i,l=e.style,u=void 0===l?{}:l,p=(0,s.v9)(_.jl),d=(0,s.v9)((function(e){return z(e,{merchant:t})})),f=t.name||"merchant-logo-image",m=(0,s.v9)(x.OU),h=(null==t?void 0:t.logoUrl)||(null==t?void 0:t.logoUrl[t]);if(!t&&!h)return null;var g=browser.i18n.getMessage("follow_merchant_button_tooltip",[(null==t?void 0:t.name)||""]);return c.createElement(A,{id:"ShopBack-WatchMerchantBanner",style:u},c.createElement(L,null),c.createElement(R,null,c.createElement(F,{src:h,alt:f})),p&&!a()(t)&&m?c.createElement(W,null,t.isLoading?c.createElement(U,null,c.createElement(w.Z,{size:16,color:"#266BD9",strokeWidth:2})):c.createElement(B,{placement:"bottom",textAlign:"left",content:g,onTrigger:o},c.createElement(U,{onClick:r},c.createElement(q,null,c.createElement(O,{svgStyle:{width:12,height:12,verticalAlign:"top"},pathStyle:{fill:d?"#266BD9":"#F1F6FE",stroke:"#266BD9"}})),c.createElement(H,null,d?browser.i18n.getMessage("following"):browser.i18n.getMessage("follow"))))):null)}G.propTypes={merchant:l.object,onFollowButtonClick:l.func,onFollowButtonHover:l.func,style:l.object},G.defaultProps={merchant:null,onFollowButtonClick:void 0,onFollowButtonHover:void 0,style:{},screenName:""}},98666:
/*!******************************************************!*\
  !*** ./src/shared/hooks/useMerchantOffExperiment.js ***!
  \******************************************************/(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(/*! react-redux */65858),i=n(/*! ../constants/tabs */18855),o=n(/*! ../selectors/activation */83582),a=n(/*! ../selectors/experiments */6688);const l=function(e,t){var n,l=t.shouldDisplayIn,c=null!==(n=null==e?void 0:e.merchantId)&&void 0!==n?n:null,s=(0,r.v9)((function(e){return(0,a.Zb)(e,{merchantId:c})})),u=(0,r.v9)((function(e){return(0,a.vb)(e,{merchantId:c})}));return(0,r.v9)((function(t){return(0,o.tm)(t,{merchant:e})||(0,o.GM)(t,{merchant:e})}))?l===i.Gy.MERCHANT:s?u?{isMerchantInExperiment:!0,shouldDisplay:l===i.Gy.MERCHANT}:{isMerchantInExperiment:!0,shouldDisplay:l===i.Gy.NON_MERCHANT}:e?{isMerchantInExperiment:!1,shouldDisplay:l===i.Gy.MERCHANT}:{isMerchantInExperiment:!1,shouldDisplay:l===i.Gy.NON_MERCHANT}}},96884:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/subscription.js + 1 modules ***!
  \**********************************************************/(e,t,n)=>{n.d(t,{u7:()=>g,Rj:()=>h,zM:()=>f,Yc:()=>m});var r=n(27361),i=n.n(r),o=n(22222),a="SUBSCRIPTION",l="subscribed_current_offer_type_subscription",c="unsubscribed_better_offer_type_subscription",s="subscription",u=n(26846),p=function(e,t){return null==e?void 0:e.map((function(e){var n=null==t?void 0:t.find((function(t){return(null==e?void 0:e.label)===(null==t?void 0:t.label)}));return{label:null==e?void 0:e.label,currentDisplayValue:null==e?void 0:e.displayText,betterDisplayValue:null==n?void 0:n.displayText}}))},d=(0,o.P1)(u.Lz,(function(e){var t,n,r,i=null;(null==e||null===(t=e.matchedPrograms)||void 0===t?void 0:t.includes(s))&&((null==e||null===(r=e.currentOffer)||void 0===r?void 0:r.offerType)===a&&(i=l));return(null==e||null===(n=e.betterComparisonOffer)||void 0===n?void 0:n.offerType)===a&&(i=c),i})),f=(0,o.P1)(d,(function(e){return e===l||e===c})),m=(0,o.P1)(d,(function(e){return e===c})),h=(0,o.P1)(d,(function(e){return e===l})),g=(0,o.P1)(u.Lz,d,(function(e,t){switch(t){case l:var n,r,o=(null==e||null===(n=e.currentOffer)||void 0===n?void 0:n.cashbackTiers)||[],a=(null==e||null===(r=e.worseComparisonOffer)||void 0===r?void 0:r.cashbackTiers)||[];return p(a,o);case c:var s,u,d=(null==e||null===(s=e.currentOffer)||void 0===s?void 0:s.cashbackTiers)||[],f=(null==e||null===(u=e.betterComparisonOffer)||void 0===u?void 0:u.cashbackTiers)||[];return p(d,f);default:return i()(e,"cashbackTiers",[])}}))},90105:
/*!*******************************************!*\
  !*** ./src/shared/utils/datetimeUtils.js ***!
  \*******************************************/(e,t,n)=>{n.d(t,{L0:()=>c,e$:()=>s});var r=n(/*! dayjs */27484),i=n.n(r),o=n(/*! dayjs/plugin/localizedFormat */56176),a=n.n(o),l=n(/*! ../constants/countries */53437);i().extend(a());var c=function(e,t){return i()(e).format(t)},s=function(e,t){var n="en";return n="PH"===t?"ph":browser.i18n.getUILanguage().substring(0,2),i()(e).format(l.bn[n])}}}]);