"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_popup_components_TopStores_index_js"],{63753:
/*!********************************************!*\
  !*** ./src/popup/components/StoresList.js ***!
  \********************************************/(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(/*! prop-types */45697),o=n(/*! react */67294),a=n(/*! react-redux */65858),i=n(/*! styled-components */23588),c=n(/*! ../../shared/components/CountdownTimer */25723),l=n(/*! ../../shared/components/CountdownTimer/useCountdownTimer */98496),u=n(/*! ../../shared/components/Experiment/MerchantOffExperimentWrapper */31732),s=n(/*! ../../shared/contexts/tabId */6256),f=n(/*! ../../shared/selectors/cc */49485),p=n(/*! ../../shared/selectors/merchant */96965),h=n(/*! ../../shared/selectors/user */45786),d=n(/*! ../../shared/styledComponents */20136),m=n(/*! ../../shared/utils/activation */91228),g=i.ZP.div.withConfig({displayName:"StoresList__Container",componentId:"ok71ht-0"})(["&&{width:360px;flex:1 0 auto;overflow:auto;overflow-x:hidden;min-height:394px;padding-top:6px;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}&& table{margin-bottom:20px;}&& ul{list-style:none;font-size:12px;padding:0px;margin:0px;height:100%;outline:none;}&& ul li{padding:8px;color:#777;font-weight:normal;font-size:12px;border-bottom:1px solid #eee;cursor:pointer;}&& ul li:last-child{border:0;}"]),v=i.ZP.div.withConfig({displayName:"StoresList__Item",componentId:"ok71ht-1"})(["&&{position:relative;cursor:pointer;width:162px;height:93px;margin:0 0 12px 12px;float:left;display:flex;flex-direction:column;background:#ffffff;border-radius:8px;border:1px solid #f7f7f8;align-items:center;}"]),y=i.ZP.div.withConfig({displayName:"StoresList__Logo",componentId:"ok71ht-2"})(["&&{height:30px;width:87.5px;background-color:#fff;background-position:center;background-repeat:no-repeat;background-size:contain;border:none;margin-top:12px;}"]),x=i.ZP.div.withConfig({displayName:"StoresList__CashbackContainer",componentId:"ok71ht-3"})(["&&{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:",";margin-bottom:12px;}&&:hover{color:#f00;}"],(function(e){return e.shouldShowOld?"4px":"13px"})),b=(0,i.ZP)(d.xv).withConfig({displayName:"StoresList__LatestCashbackAmount",componentId:"ok71ht-4"})(["&&{display:flex;align-items:flex-end;font-family:-apple-system,BlinkMacSystemFont,sans-serif !important;font-size:14px;line-height:17px;color:#212836;}"]),w=(0,i.ZP)(d.xv).withConfig({displayName:"StoresList__CashbackText",componentId:"ok71ht-5"})(["&&{display:flex;margin-left:4px;font-family:-apple-system,BlinkMacSystemFont,sans-serif !important;font-weight:500;font-size:12px;line-height:14px;color:#6b7280;}"]),_=(0,i.ZP)(w).withConfig({displayName:"StoresList__OldCashback",componentId:"ok71ht-6"})(["&&{display:flex;margin-top:4px;font-weight:normal;color:#a7abb4;}"]),k=function(e){var t,n=e.merchants,r=e.utm,i=e.onStoreClick,d=(0,a.v9)(f.q),w=(0,s.z)(),k=(0,a.v9)((function(e){return(0,h.jl)(e)})),C=(0,o.useMemo)((function(){return n.map((function(e){var t;return Date.parse(null==e||null===(t=e.cashback)||void 0===t?void 0:t.activeTo)}))}),[n]),S=(0,l.Z)(C),E=(0,o.useCallback)((function(e,t){return(0,p.EP)(e)&&S[t]>0}),[S]),O=(0,o.useCallback)((function(e,t){i(e,t),(0,m.xc)({merchant:e,isLoggedIn:k,utmMedium:r,isNewTab:!0,cc:d})}),[d,k,i,r]),L=(0,o.useCallback)((function(e,t){return S[t]>0?o.createElement(b,null,null==e?void 0:e.cashbackAmount):o.createElement(b,null,e.oldCashbackAmount||(null==e?void 0:e.cashbackAmount))}),[S]);return o.createElement(g,null,null===(t=n.map)||void 0===t?void 0:t.call(n,(function(e,t){var n,r,a,l=E(e,t),s=null!==(n=null==e?void 0:e.compliancePopupEnabled)&&void 0!==n&&n;return o.createElement(u.Z,{merchant:e,key:null==e?void 0:e.merchantId,disableInAllStatus:!0},o.createElement(v,{key:null==e?void 0:e.merchantId,onClick:function(){s?function(e,t){var n=e.sbWebMerchantUrl;i(e,t),browser.tabs.update(w,{url:n})}(e,t):O(e,t)}},o.createElement(y,{style:{backgroundImage:"url('".concat(e.logoUrl,"')")},title:e.name}),o.createElement(x,{shouldShowOld:l},L(e,t),l&&o.createElement(o.Fragment,null,o.createElement(_,null,null==e||null===(r=e.oldCashback)||void 0===r?void 0:r.description),o.createElement(c.Z,{remainingTime:S[t],activeTo:null==e||null===(a=e.cashback)||void 0===a?void 0:a.activeTo,customStyle:{position:"absolute",borderRadius:"10px 10px 10px 0",left:0,top:"-4px"}})))))})))};k.propTypes={merchants:r.array.isRequired,utm:r.string,onStoreClick:r.func},k.defaultProps={utm:"",onStoreClick:null};const C=k},78212:
/*!*************************************************************!*\
  !*** ./src/popup/components/TopStores/index.js + 3 modules ***!
  \*************************************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var r=n(63038),o=n.n(r),a=n(41609),i=n.n(a),c=n(14293),l=n.n(c),u=n(45697),s=n(67294),f=n(65858),p=n(63535),h=n(77959),d=n(77803),m=n(23588),g=n(20136),v=n(64616),y=n(22314),x=(0,m.ZP)(g.z4).withConfig({displayName:"TopStoresSkeleton__Container",componentId:"sc-1jar2mc-0"})(["&&{height:550px;width:360px;}"]);const b=s.forwardRef((function(e,t){return s.createElement(x,{ref:t},s.createElement(g.z4,{style:{padding:"0 12px"}},s.createElement(g.NH,{height:"21px"}),s.createElement(v.O,{width:"336px",height:"32px",borderRadius:"40px"}),s.createElement(g.NH,{height:"21px"}),s.createElement(v.O,{width:"107px",height:"16px"})),s.createElement(g.NH,{height:"14px"}),s.createElement(y.Z,null))}));var w=n(7781),_=n(62620),k=n(90623),C=n(76551),S=n(49485),E=n(26846),O=n(45786),L=n(50008),I=n.n(L),P=n(48926),j=n.n(P),T=n(93913),M=n.n(T),Z=n(34575),N=n.n(Z),R=n(2205),B=n.n(R),D=n(78585),z=n.n(D),F=n(29754),A=n.n(F),q=n(22222),G=n(19765),W=n(59713),H=n.n(W);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.svgStyle;return s.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:X({},t)},s.createElement("path",{d:"M11.7802 9.96975L9.75 7.9395C10.2225 7.152 10.5 6.23325 10.5 5.25C10.5 2.355 8.14425 0 5.25 0C2.35575 0 0 2.355 0 5.25C0 8.145 2.35575 10.5 5.25 10.5C6.234 10.5 7.152 10.2233 7.9395 9.75L9.96975 11.7802C10.116 11.9265 10.308 12 10.5 12C10.692 12 10.884 11.9265 11.0302 11.7802L11.7802 11.0302C12.0735 10.737 12.0735 10.263 11.7802 9.96975ZM5.25 9C3.17925 9 1.5 7.32075 1.5 5.25C1.5 3.17925 3.17925 1.5 5.25 1.5C7.32075 1.5 9 3.17925 9 5.25C9 7.32075 7.32075 9 5.25 9Z",fill:"#898D9A"}))};Y.propTypes={svgStyle:u.object},Y.defaultProps={svgStyle:null};const K=Y;var U=n(6688);function V(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */V=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=d.prototype=p.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(r,a,i,c){var l=s(e[r],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==I()(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=_(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=d,r(y,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},x(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(y),l(y,c,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}var J=m.ZP.div.withConfig({displayName:"StoresSearchBox__Container",componentId:"sc-1vsyxxj-0"})(["&&{padding-top:16px;}"]),ee=m.ZP.div.withConfig({displayName:"StoresSearchBox__SearchSection",componentId:"sc-1vsyxxj-1"})(["&&{display:flex;width:336px;flex-direction:row;min-height:40px;flex-direction:row;background:#f7f7f8;border-radius:40px;margin:0px 12px 0 12px;border-style:hidden;align-items:center;}"]),te=m.ZP.div.withConfig({displayName:"StoresSearchBox__ClearButton",componentId:"sc-1vsyxxj-2"})(["&&{width:12px;height:12px;cursor:pointer;background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;display:",";margin:0 12px;}"],G,(function(e){return e.display})),ne=m.ZP.input.withConfig({displayName:"StoresSearchBox__InputBox",componentId:"sc-1vsyxxj-3"})(["&&{width:268px;height:20px;font-family:",";font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#40485a;caret-color:#40485a;background:#f7f7f8;border-style:hidden;outline:unset;padding:0px;}&&:placeholder{font-family:",";font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;letter-spacing:normal;vertical-align:middle;line-height:20px;color:#898d9a;}"],_.utx,_.utx),re=function(e){B()(n,e);var t=$(n);function n(){var e;N()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={lastChangeTime:(new Date).getTime()},e.filterMerchantsBy=function(t,n){return n.filter((function(n){var r;return!i()(n.urlPattern)&&!i()(n.urlDomain)&&!l()(n.cashback)&&!!parseFloat(n.cashback.amount)&&!(null!==(r=e.props.merchantsOffList)&&void 0!==r&&r.includes(n.merchantId))&&n.name.toLowerCase().includes(t)}))},e.sortMerchantsByStartsWith=function(e,t){return t.sort((function(t,n){var r=t.name.toLowerCase(),o=n.name.toLowerCase();return r.startsWith(e)?-1:o.startsWith(e)?1:0}))},e.waitForStopTyping=function(t){return new Promise((function(n,r){return setTimeout((function(){t===e.state.lastChangeTime?n():r()}),700)}))},e.handleSearchMerchant=function(){var t=j()(V().mark((function t(n){var r,o,a,i,c,l,u,s;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new Date).getTime(),e.setState((function(){return{lastChangeTime:r}})),t.prev=2,t.next=5,e.waitForStopTyping(r);case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:o=e.props,a=o.allMerchants,i=o.handleSearchResult,c=o.fetchMerchants,l=null,n.length>=2&&(u=e.filterMerchantsBy(n,a),c(u.map((function(e){return e.merchantId})),!0),s=e.sortMerchantsByStartsWith(n,u),l=s),i(l,n);case 14:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e.handleOnChange=function(t){var n=t.target.value.toLowerCase();e.handleSearchMerchant(n)},e.render=function(){var t=browser.i18n.getMessage("popup_search_box_placeholder"),n=e.props,r=n.displayClearButton,o=n.clearInputBox;return s.createElement(J,null,s.createElement(ee,null,s.createElement(K,{svgStyle:{margin:"0 4px 0 12px"}}),s.createElement(ne,{id:_.kQ1,type:"text",placeholder:t,onChange:e.handleOnChange}),s.createElement(te,{display:r,onClick:o})))},e}return M()(n)}(s.Component);re.defaultProps={allMerchants:[],merchantsOffList:[],merchantId:null},re.propTypes={handleSearchResult:u.func.isRequired,fetchMerchants:u.func.isRequired,clearInputBox:u.func.isRequired,allMerchants:u.array.isRequired,displayClearButton:u.string.isRequired,merchantsOffList:u.array};var oe=(0,q.zB)({merchantsOffList:U.k});const ae=(0,f.$j)(oe,{fetchMerchants:d.NI})(re);var ie=n(63753),ce=function(e){var t=e.selfTabIndex,n=e.selfContentIndex,r=(0,f.I0)(),a=(0,f.v9)(E.go),c=(0,f.v9)(E.yn),u=(0,f.v9)(S.q),m=(0,f.v9)(E.hb),g=(0,s.useState)(null),v=o()(g,2),y=v[0],x=v[1],L=(0,s.useState)("none"),I=o()(L,2),P=I[0],j=I[1],T=(0,f.v9)(O.jl),M=(0,h.nz)(),Z=(0,h._l)();(0,s.useEffect)((function(){r((0,d.lQ)({isLoggedIn:T}))}),[r,u,T]);var N,R=(0,s.useCallback)((function(){var e=document.getElementById(_.kQ1);e&&(e.value="",x(null),j("none"))}),[]),B=(0,s.useCallback)((function(e,t){x(e),j(e?"block":"none"),t&&M({search_term:t})}),[M]),D=(0,s.useCallback)((function(e,t){Z({screen_name:"top_stores",affiliate_link_id:(null==e?void 0:e.affiliatedId)||null,ui_element_name:y?"top_stores_search":"top_stores",feature_name:y?"top_stores_search":"top_stores",feature_type:"merchant",feature_position:t+1,merchant_id:(null==e?void 0:e.merchantId)||null,merchant_name:(null==e?void 0:e.name)||null})}),[Z,y]),z=(0,p.Z)(t,n);return N=y?T?C.Hq:C.V_:T?C.R7:C.KK,m!==k.dF&&m!==k.WI||!i()(c)?s.createElement(w.Z,{full:!0,ref:z},s.createElement(ae,{handleSearchResult:B,clearInputBox:R,allMerchants:a,displayClearButton:P}),s.createElement(w.T,{title:l()(y)?browser.i18n.getMessage("popular_stores"):browser.i18n.getMessage("popup_search_result","".concat(y.length)),size:"large"}),s.createElement(ie.Z,{merchants:y||c,onStoreClick:D,utm:N})):s.createElement(b,{ref:z})};ce.propTypes={selfTabIndex:u.number.isRequired,selfContentIndex:u.number.isRequired};const le=s.memo(ce)},25723:
/*!*******************************************************!*\
  !*** ./src/shared/components/CountdownTimer/index.js ***!
  \*******************************************************/(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),a=n(/*! @babel/runtime/helpers/slicedToArray */63038),i=n.n(a),c=n(/*! lodash/isEmpty */41609),l=n.n(c),u=n(/*! prop-types */45697),s=n(/*! react */67294),f=n(/*! styled-components */23588),p=n(/*! ../../styledComponents */20136);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={color:"#cf3030"},g={color:"#794D24"},v={color:"#404859"},y=(0,f.ZP)(p.xv).withConfig({displayName:"CountdownTimer__Container",componentId:"sc-1vxvtph-0"})(["&&{padding:2px 8px;border-radius:10px;font-weight:bold;font-size:10px;line-height:12px;}"]),x=function(e){var t=e.activeTo,n=e.customStyle,r=e.remainingTime,o=(0,s.useState)(null),a=i()(o,2),c=a[0],u=a[1],f=(0,s.useState)({}),p=i()(f,2),h=p[0],x=p[1],b=(0,s.useCallback)((function(){if(r<=0)return{};var e=Math.floor(r/1e3%60),n=Math.floor(r/6e4%60),o=Math.floor(r/36e5%24),a=Math.floor(r/864e5),i=new Date(t);return{formattedDate:"".concat(i.toLocaleDateString("en-SG",{month:"long",day:"2-digit"}),", ").concat(i.getFullYear()),days:a,hours:o,minutes:n,seconds:e}}),[t,r]),w=(0,s.useCallback)((function(){if(!(r<=0)){var e=b(),t=e.days,n=e.hours,o=e.minutes,a=e.seconds,i=e.formattedDate;return 0===t&&0===n?(x(m),59===o&&a>0?void u(browser.i18n.getMessage("ends_in_x_hours","1")):59===o&&0===a?void u(browser.i18n.getMessage("ends_in_x_minutes","".concat(o))):void u(browser.i18n.getMessage("ends_in_x_minutes","".concat(o+1)))):0===t&&n>=1?(u(browser.i18n.getMessage("ends_in_x_hours","".concat(n))),void x(m)):t>=1&&t<=7?(u(browser.i18n.getMessage("ends_in_x_days","".concat(t))),void x(g)):void(t>7&&(u(browser.i18n.getMessage("ends_on_x",i)),x(v)))}}),[b,r]);return(0,s.useEffect)((function(){w()}),[w]),l()(t)||l()(c)||r<=0?null:s.createElement(y,{style:d(d({},h),n)},c)};x.propTypes={customStyle:u.object,activeTo:u.string,remainingTime:u.number},x.defaultProps={customStyle:null,activeTo:null,remainingTime:0};const b=x},98496:
/*!*******************************************************************!*\
  !*** ./src/shared/components/CountdownTimer/useCountdownTimer.js ***!
  \*******************************************************************/(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(/*! @babel/runtime/helpers/slicedToArray */63038),o=n.n(r),a=n(/*! lodash/isArray */1469),i=n.n(a),c=n(/*! lodash/isEmpty */41609),l=n.n(c),u=n(/*! lodash/isFunction */23560),s=n.n(u),f=n(/*! react */67294);const p=function(e,t){if(!i()(e))throw new Error("endTimes should be array, instead of ".concat(e));var n=(0,f.useState)([]),r=o()(n,2),a=r[0],c=r[1],u=(0,f.useMemo)((function(){return!l()(e)&&e.some((function(e){return e>Date.now()}))}),[e]),p=(0,f.useRef)(),h=(0,f.useCallback)((function(){var n=e.map((function(e){return e?e<0?e:e-Date.now():1}));c(n),n.every((function(e){return e<0}))&&clearInterval(p.current),s()(t)&&t(n.map((function(e,t){return e<=0?t:null})).filter((function(e){return null!==e})))}),[t,e]);return(0,f.useEffect)((function(){return h(),u&&(p.current=setInterval(h,1e3)),function(){return clearInterval(p.current)}}),[u,h]),a}},31732:
/*!**************************************************************************!*\
  !*** ./src/shared/components/Experiment/MerchantOffExperimentWrapper.js ***!
  \**************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(/*! react-redux */65858),o=n(/*! ../../selectors/activation */83582),a=n(/*! ../../selectors/experiments */6688);const i=function(e){var t=e.children,n=e.merchant,i=e.disableInAllStatus,c=void 0!==i&&i,l=(0,r.v9)((function(e){return(0,a.Zb)(e,{merchantId:null==n?void 0:n.merchantId})})),u=(0,r.v9)((function(e){return(0,o.GM)(e,{merchant:n})||(0,o.tm)(e,{merchant:n})}));return l&&c||l&&!u?null:t}},22314:
/*!*********************************************************************************!*\
  !*** ./src/shared/components/Skeletons/StoresListSkeleton/index.js + 1 modules ***!
  \*********************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(319),o=n.n(r),a=n(67294),i=n(23588),c=n(20136),l=n(64616),u=(0,i.ZP)(c.AE).withConfig({displayName:"MerchantItemSkeleton__Container",componentId:"sc-1v8aawt-0"})(["&&{position:relative;cursor:pointer;width:162px;height:75px;margin:0 0 12px 12px;float:left;display:flex;flex-direction:column;background:#ffffff;box-shadow:0px 4px 16px rgba(64,72,90,0.1);border-radius:8px;align-items:center;}"]);const s=function(){return a.createElement(u,null,a.createElement(l.O,{width:"87.5px",height:"30px",margin:"0 auto",borderRadius:"3px"}),a.createElement(c.NH,{height:"9px"}),a.createElement(l.O,{width:"122px",height:"12px",margin:"0 auto",borderRadius:"3px"}))};var f=i.ZP.div.withConfig({displayName:"StoresListSkeleton__Container",componentId:"c7t8bh-0"})(["&&{flex:1 0 auto;overflow:auto;overflow-x:hidden;min-height:394px;max-width:360px;}&&::-webkit-scrollbar{width:8px;background-color:#e2e2e2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}&& table{margin-bottom:20px;}&& ul{list-style:none;font-size:12px;padding:0px;margin:0px;height:100%;outline:none;}&& ul li{padding:8px;color:#777;font-weight:normal;font-size:12px;border-bottom:1px solid #eee;cursor:pointer;}&& ul li:last-child{border:0;}"]),p=o()(Array(10).keys());const h=function(){return a.createElement(f,null,p.map((function(e){return a.createElement(s,{key:e})})))}},64616:
/*!*************************************************!*\
  !*** ./src/shared/styledComponents/Skeleton.js ***!
  \*************************************************/(e,t,n)=>{n.d(t,{O:()=>a,L:()=>i});var r=n(/*! styled-components */23588),o=(0,r.F4)(["0%{transform:translateX(-100%);}60%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),a=r.ZP.div.withConfig({displayName:"Skeleton",componentId:"edinct-0"})(["&&{width:",";height:",";margin:",";border-radius:",";display:",";background:linear-gradient(90deg,#efefef,transparent);overflow:hidden;}&&:after{width:",";height:",";content:'';animation:"," 1.5s linear 0.5s infinite;background:linear-gradient(90deg,transparent,#f5f5f5,transparent);}"],(function(e){return e.width||"auto"}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.borderRadius||"3px"}),(function(e){return e.display||"flex"}),(function(e){return e.width||"auto"}),(function(e){return e.height}),o),i=(0,r.ZP)(a).withConfig({displayName:"Skeleton__CircleSkeleton",componentId:"edinct-1"})(["&&{border-radius:50%;}"])}}]);