"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_content_settingPanel_SettingPanel_js"],{12022:
/*!***************************************************!*\
  !*** ./src/background/events/tabs.js + 3 modules ***!
  \***************************************************/(t,e,n)=>{n.d(e,{ij:()=>U,ul:()=>D});var r=n(50008),o=n.n(r),i=n(63038),a=n.n(i),c=n(48926),u=n.n(c),l=n(58483),s=n(34363),f=n(21934),p=n(67522),d=function(t){return function(e){return browser.permissions.contains({origins:["http://*/*","https://*/*"]}).catch((function(){return Promise.resolve(!0)})).then(function(t,e){return function(n){f.ZP.info(t,"CHECK_PERMISSION");var r=t.getState();return n?((0,p.nu)(r)&&(f.ZP.info(t,"clear invalid permission"),t.dispatch((0,s.VL)())),Promise.resolve()):e?((0,p.V7)(r,{merchant:e})?t.dispatch((0,s.Lu)(e)):t.dispatch((0,s.lR)(e)),f.ZP.error(t,"No permission and this tab is merchant page"),Promise.reject(new Error("No permission and this tab is merchant page"))):((0,p.nu)(r)||t.dispatch((0,s.lR)()),f.ZP.error(t,"No permission and this tab is not merchant page"),Promise.reject(new Error("No permission and this tab is not merchant page")))}}(t,e)).catch((function(){return(0,l.ki)(),Promise.reject(new Error("no permissions"))}))}},h=n(27361),v=n.n(h),m=n(88213),g=n(83582),y=n(26846),b=n(45887),_=n(75611);function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function v(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=f(t[r],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var w=function(t){return function(e){return(0,y._t)(t.getState(),{url:e})}},x=function(){var t=u()(E().mark((function t(e,n,r){var o,i,a,c,u,l,s;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,b.jv)(o,{tabId:n}),a=i,c=w(e)(r),u=v()(c,"merchantId"),l=v()(c,"name"),s=(0,g.lE)(o,{merchant:c}),(0,_._d)(r)&&e.dispatch((0,m.f$)({tabId:n})),t.abrupt("return",e.dispatch((0,m.iM)({tabId:n,url:r,merchantId:u,merchantName:l,shoppingtripId:s,prevUrl:a})));case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),P=n(86329),C=n(77803),I=n(11713),T=n(62620),k=n(91369),O=n(89489),L=n(20045),N=n(11775),S=n(34575),A=n.n(S),j=n(93913),R=n.n(j),M=function(){function t(e,n){A()(this,t),this.name=e,this.observers=null!=n?n:[]}return R()(t,[{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){this.observers=this.observers.filter((function(e){return e!==t}))}},{key:"notify",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];f.ZP.info(t,"EventManager ".concat(this.name," tabId:").concat((null===(e=r[0])||void 0===e?void 0:e.tabId)||"N/A"," data:"),r),this.observers.forEach((function(e){e.apply(void 0,[t].concat(r))}))}}]),t}();function F(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */F=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new I(o||[]);return r(a,"_invoke",{value:w(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function v(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(r,a,c,u){var l=f(t[r],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var D=new M("onTabUrlChange"),H=new M("onTabUpdateOrTabFocus"),U="URL_CHANGE";D.addObserver((function(t,e){var n=e.tabId,r=e.url,o=t.getState();browser.tabs.sendMessage(n,{action:U,tabId:n,url:r}).catch((function(t){t.message.includes("Receiving end does not exist")||f.ZP.error(o,t.message)}))}));var z=function(t){return function(e){if(f.ZP.info(t,"CHECK_ACTIVATED_STATE"),e){var n=t.getState();if((0,g.GM)(n,{merchant:e})){var r=e.isTaobao?T._lx:T.BFS,o=(0,g.B4)(n,{merchant:e});o&&(new Date).getTime()-o>r&&(f.ZP.warn(t,"deactivate merchant id: ".concat(e.merchantId)),t.dispatch((0,C.JA)(e)))}}return Promise.resolve()}},G=function(t,e,n,r){f.ZP.info(t,"DEACTIVATE_AND_REFRESH_TAOBAO_PRODUCT");var o=e[n].activatedAt;o&&(new Date).getTime()-o>r&&(f.ZP.warn(t,"deactivate taobao product id: ".concat(n)),t.dispatch((0,I.cK)(n)),t.dispatch((0,I.gh)({productId:n,from:k.Uc})))},Z=function(t){return function(e,n){f.ZP.info(t,"CHECK_TAOBAO_PRODUCT_ACTIVATE_STATE");var r=t.getState();if(e&&e.isTaobao){var o=(0,N.Ne)(r),i=(0,N.Vj)(r),a=i.timeToDeactivateTaoBaoProduct,c=i.standDownTaoBaoNotifierTimerMs;if((0,N.Dp)(r,{url:n})){var u=(0,N.n2)(r,{url:n}),l=(0,N.n6)(r);f.ZP.info(t,"hit taobao product page: ".concat(n)),f.ZP.info(t,"taobao product id: ".concat(u)),o[u]&&G(t,o,u,a),l&&(new Date).getTime()-l>c&&t.dispatch((0,I.Xq)())}else(0,N.BJ)(r,{url:n})&&(f.ZP.info(t,"hit taobao shopping cart page: ".concat(n)),Object.keys(o).forEach((function(e){G(t,o,e,a)})))}return Promise.resolve()}},X=function(){var t=u()(F().mark((function t(e){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),!(0,O.wJ)(n)){t.next=5;break}return(0,l.v0)(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=u()(F().mark((function t(e){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),(0,L.g6)(n)){t.next=5;break}return(0,l.ki)(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(t,e){return function(n){f.ZP.info(t,"CHECK_CLOSE_TAB");var r=t.getState(),o=(0,b.k3)(r,{tabId:e}),i=(0,y.Lz)(r,{id:o}),a=(0,g.GM)(r,{merchant:i});i&&a&&(0,b.ed)(r,{tabId:e})&&((0,l.eQ)(t,e)(i,n),t.dispatch((0,m.on)({tabId:e})))}},K=function(){var t=u()(F().mark((function t(e){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,X(e);case 6:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=u()(F().mark((function t(e,n,r){var o,i,a;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,b.k3)(o,{tabId:r}),a=(0,y.Lz)(o,{id:i}),t.next=5,d(e)(a);case 5:return t.next=7,z(e)(a);case 7:return t.next=9,Z(e)(a,n);case 9:H.notify(e,{tabId:r,url:n,merchant:a}),(0,l.eQ)(e,r)(a,n);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Y=function(){var t=u()(F().mark((function t(e,n){var r,o,i;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState(),(0,b.Lo)(r,{tabId:n})){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return t.next=5,browser.tabs.get(n);case 5:return o=t.sent,i=o.url,t.abrupt("return",x(e,n,i));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),q={handleActivated:function(t){return function(){var e=u()(F().mark((function e(n){var r,o,i;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.tabId,e.prev=1,o=t.getState(),i=(0,b.jv)(o,{tabId:r}),e.next=6,K(t);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Y(t,r);case 10:return e.next=12,W(t,i,r);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),f.ZP.error(t,e.t0.stack);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}};q.handleCreated=function(t){return function(e){var n=e.id,r=e.openerTabId;!function(t,e){var n=e.tabId,r=e.openerTabId,o=(0,b.jv)(t.getState(),{tabId:r});t.dispatch((0,m.ZW)({tabId:n,url:null,openerUrl:o}))}(t,{tabId:n,openerTabId:r})}},q.handleUpdated=function(t){return function(){var e=u()(F().mark((function e(n,r){var o,i,c,u,l,s,p;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=(o=r||{}).status,!(c=o.url)){e.next=8;break}if(u=t.getState(),(0,b.jv)(u,{tabId:n})===c){e.next=8;break}return e.next=8,x(t,n,c);case 8:if("loading"!==i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,K(t);case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,browser.tabs.query({currentWindow:!0,active:!0});case 16:if(l=e.sent,s=a()(l,1),p=s[0]){e.next=21;break}return e.abrupt("return");case 21:if(B(t,n)(p.url),n!==p.id){e.next=25;break}return e.next=25,W(t,p.url,n);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),f.ZP.error(t,e.t0.stack);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,n){return e.apply(this,arguments)}}()},q.handleRemove=function(t){return function(e){t.dispatch((0,P.br)(e)),t.dispatch((0,m.on)({tabId:e}))}}},58483:
/*!**********************************************************************!*\
  !*** ./src/background/features/iconButton/iconStatus.js + 1 modules ***!
  \**********************************************************************/(t,e,n)=>{n.d(e,{ki:()=>L,eQ:()=>N,v0:()=>O});var r=n(90623),o=n(21934),i=n(83582),a=n(6688),c=n(96965),u=n(26846),l=n(67522),s=n(87142),f=n(40062),p=n(7358),d=n(75611),h=n(50008),v=n.n(h),m=n(48926),g=n.n(m);function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&n.call(b,i)&&(m=b);var _=h.prototype=p.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==v()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=h,r(_,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),u(_,c,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var b,_=["images/icon/blink/icon_00.png","images/icon/blink/icon_01.png","images/icon/blink/icon_02.png","images/icon/blink/icon_03.png","images/icon/blink/icon_04.png","images/icon/blink/icon_05.png","images/icon/blink/icon_06.png","images/icon/blink/icon_07.png","images/icon/blink/icon_08.png","images/icon/blink/icon_09.png","images/icon/blink/icon_10.png","images/icon/blink/icon_11.png","images/icon/blink/icon_12.png","images/icon/blink/icon_13.png","images/icon/blink/icon_14.png","images/icon/blink/icon_15.png","images/icon/blink/icon_16.png","images/icon/blink/icon_17.png","images/icon/blink/icon_18.png","images/icon/blink/icon_19.png","images/icon/blink/icon_20.png","images/icon/blink/icon_21.png","images/icon/blink/icon_22.png","images/icon/blink/icon_23.png","images/icon/blink/icon_24.png","images/icon/blink/icon_25.png","images/icon/blink/icon_26.png","images/icon/blink/icon_27.png","images/icon/blink/icon_28.png","images/icon/blink/icon_29.png","images/icon/blink/icon_30.png","images/icon/blink/icon_31.png","images/icon/blink/icon_32.png","images/icon/blink/icon_33.png","images/icon/blink/icon_34.png","images/icon/blink/icon_35.png","images/icon/blink/icon_36.png","images/icon/blink/icon_37.png","images/icon/blink/icon_38.png","images/icon/blink/icon_39.png"],E=["images/icon/compliance/Friendly_00.png","images/icon/compliance/Friendly_01.png","images/icon/compliance/Friendly_02.png","images/icon/compliance/Friendly_03.png","images/icon/compliance/Friendly_04.png","images/icon/compliance/Friendly_05.png","images/icon/compliance/Friendly_06.png","images/icon/compliance/Friendly_07.png","images/icon/compliance/Friendly_08.png","images/icon/compliance/Friendly_09.png","images/icon/compliance/Friendly_10.png","images/icon/compliance/Friendly_11.png","images/icon/compliance/Friendly_12.png","images/icon/compliance/Friendly_13.png","images/icon/compliance/Friendly_14.png","images/icon/compliance/Friendly_15.png","images/icon/compliance/Friendly_16.png","images/icon/compliance/Friendly_17.png","images/icon/compliance/Friendly_18.png","images/icon/compliance/Friendly_19.png","images/icon/compliance/Friendly_20.png","images/icon/compliance/Friendly_21.png","images/icon/compliance/Friendly_22.png","images/icon/compliance/Friendly_23.png","images/icon/compliance/Friendly_24.png","images/icon/compliance/Friendly_25.png","images/icon/compliance/Friendly_26.png","images/icon/compliance/Friendly_27.png","images/icon/compliance/Friendly_28.png","images/icon/compliance/Friendly_29.png","images/icon/compliance/Friendly_30.png","images/icon/compliance/Friendly_31.png","images/icon/compliance/Friendly_32.png","images/icon/compliance/Friendly_33.png","images/icon/compliance/Friendly_34.png","images/icon/compliance/Friendly_35.png","images/icon/compliance/Friendly_36.png","images/icon/compliance/Friendly_37.png","images/icon/compliance/Friendly_38.png","images/icon/compliance/Friendly_39.png"],w=[255,255,255,0],x=function(){var t=g()(y().mark((function t(e){var n,r,o,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.text,r=void 0===n?"":n,o=e.color,i=void 0===o?w:o,browser.action.setBadgeText({text:r}),browser.action.setBadgeBackgroundColor({color:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){clearInterval(b),x({text:"",color:w})},C=function(t){clearInterval(b);var e=0,n=0;b=setInterval((function(){browser.action.setIcon({path:t[e++]}),e===t.length&&(e=0,n++),5===n&&clearInterval(b)}),50)},I=function(){x({text:"",color:w}),C(_)},T=function(){browser.action.setIcon({path:"images/icon/Red-32.png"}),x({text:"",color:w})},k=function(){return browser.action.setIcon({path:"images/icon/Permission.png"})},O=function(){P(),browser.action.setIcon({path:"images/icon/Grey-44.png"})},L=function(){P(),k()},N=function(t,e){return function(n,h){o.ZP.info(t,"CHECK_ICON tabId ".concat(e)),P();var v=t.getState(),m=(0,i.GM)(v,{merchant:n}),g=(0,u.cY)(v,{merchant:n,url:h}),y=(0,u.Mp)(v,{id:null==n?void 0:n.merchantId}),b=(0,s.uf)(v,{tabId:e}),_=y&&b,O=(0,l.nu)(v),L=(0,d.gN)(h),N=(0,f.Bp)(v),S=(0,p.wi)(v,{hostname:L,url:h}),A=(0,p._S)(v,{merchantName:S}),j=N&&S&&(null==A?void 0:A.apiStatus)!==r.j5,R=(0,a.Zb)(v,{merchantId:null==n?void 0:n.merchantId}),M=(0,a.vb)(v,{merchantId:null==n?void 0:n.merchantId})||(0,c.v6)(v,{merchant:n});return n||j?M&&!m?(browser.action.setIcon({path:"images/icon/disable.png"}),C(E),x({text:"!",color:"#e0311e"}),void browser.action.setBadgeTextColor({color:"#ffffff"})):R&&!m?(T(),void o.ZP.info(t,"it is an off merchant, icon reset")):O?(k(),void o.ZP.info(t,"there is invalid permission")):m&&g?(I(),void o.ZP.info(t,"it was activated and it is confirm page now, start blink")):m&&_?(browser.action.setIcon({path:"images/icon/Green-32.png"}),x({text:"",color:w}),void o.ZP.info(t,"it is activated and product has cashback, icon green")):_||j?(I(),void o.ZP.info(t,"it has cashback, icon start blink")):(T(),void o.ZP.info(t,"it hasn't cashback, icon reset")):(T(),void o.ZP.info(t,"it is not merchant, icon reset"))}}},32513:
/*!***************************************************************!*\
  !*** ./src/content/settingPanel/SettingPanel.js + 23 modules ***!
  \***************************************************************/(t,e,n)=>{n.r(e),n.d(e,{default:()=>Kt});var r=n(63038),o=n.n(r),i=n(28655),a=n.n(i),c=n(45697),u=n.n(c),l=n(67294),s=n(65858),f=n(23588),p=n(6479),d=n.n(p),h=n(44161),v=n(70189),m=n(77194),g=n(59713),y=n.n(g),b=n(27484),_=n.n(b),E=n(76611),w=n(3657),x=n(62146),P=f.ZP.div.withConfig({displayName:"styledComponents__Container",componentId:"za0r7v-0"})(["&&{position:fixed;top:0;bottom:0;left:0;right:0;z-index:inherit;display:",";}"],(function(t){return t.active?"block":"none"})),C=f.ZP.div.withConfig({displayName:"styledComponents__Mask",componentId:"za0r7v-1"})(["&&{position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:",";}"],(function(t){return t.active?"block":"none"})),I=f.ZP.div.withConfig({displayName:"styledComponents__Panel",componentId:"za0r7v-2"})(["&&{position:absolute;width:640px;box-sizing:border-box;background:#ffffff;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:8px;padding:0 20px 20px 20px;display:",";}"],(function(t){return t.active?"block":"none"})),T=f.ZP.div.withConfig({displayName:"styledComponents__PanelBar",componentId:"za0r7v-3"})(["&&{display:block;width:100%;box-sizing:border-box;padding-top:6px;}"]),k=(0,f.ZP)(x.Z).withConfig({displayName:"styledComponents__StyledCrossIcon",componentId:"za0r7v-4"})(["&&{width:12px;height:12px;position:absolute;top:14px;right:12px;cursor:pointer;}"]),O=f.ZP.div.withConfig({displayName:"styledComponents__Header",componentId:"za0r7v-5"})(["&&{margin-top:4px;text-align:center;color:#232938;}"]),L=f.ZP.div.withConfig({displayName:"styledComponents__Body",componentId:"za0r7v-6"})(["&&{display:block;width:100%;box-sizing:border-box;}"]),N=f.ZP.div.withConfig({displayName:"styledComponents__Title",componentId:"za0r7v-7"})(["&&{font-weight:700;font-size:18px;line-height:24px;color:#232938;margin-bottom:4px;}"]),S=f.ZP.div.withConfig({displayName:"styledComponents__Subtitle",componentId:"za0r7v-8"})(["&&{font-weight:400;font-size:12px;line-height:16px;text-align:center;color:#232938;}"]),A=f.ZP.div.withConfig({displayName:"styledComponents__Content",componentId:"za0r7v-9"})(["&&{display:grid;grid-template-columns:1.3fr 3fr;margin-top:20px;}"]),j=f.ZP.div.withConfig({displayName:"styledComponents__PrefItem",componentId:"za0r7v-10"})(["&&{display:flex;flex-direction:column;}"]),R=f.ZP.div.withConfig({displayName:"styledComponents__PrefList",componentId:"za0r7v-11"})(["&& ","{margin-bottom:20px;}&& ",":last-child{margin-bottom:0px;}"],j,j),M=f.ZP.div.withConfig({displayName:"styledComponents__PrefMain",componentId:"za0r7v-12"})(["&&{flex:1;}"]),F=f.ZP.div.withConfig({displayName:"styledComponents__PrefToggle",componentId:"za0r7v-13"})(["&&{margin-left:12px;}"]),D=f.ZP.div.withConfig({displayName:"styledComponents__PrefTitle",componentId:"za0r7v-14"})(["&&{font-weight:500;font-size:16px;line-height:20px;color:#232938;margin-bottom:4px;}"]),H=f.ZP.div.withConfig({displayName:"styledComponents__PrefDesc",componentId:"za0r7v-15"})(["&&{font-weight:400;font-size:14px;line-height:20px;color:#6a717f;}"]),U=function(t){var e=t.h;return 60*(void 0===e?1:e)*60*1e3},z=n(68093),G={opened:!1},Z=(0,l.createContext)(G),X=n(43126),V=n(50308),B=n.n(V),K=n(90830),W=f.ZP.div.withConfig({displayName:"DropDownTooltip__Container",componentId:"r7jsh7-0"})(["&&{background:#232938;padding:4px 8px;max-width:190px;color:white;box-sizing:border-box;border-radius:12px;filter:drop-shadow(0px 8px 20px rgba(64,72,90,0.24));}"]),Y=f.ZP.div.withConfig({displayName:"DropDownTooltip__Arrow",componentId:"r7jsh7-1"})(["&&{width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #212836;top:-8px;}"]),q=function(t){var e=t.children,n=t.toolTipContent,r=t.onHover,i=(0,l.useState)(null),a=o()(i,2),c=a[0],u=a[1];return l.createElement(X.ZP,{appendTo:"parent",placement:"bottom",zIndex:K.Z,render:function(){return l.createElement(W,null,n,l.createElement(Y,{ref:u,"data-popper-arrow":""}))},popperOptions:{modifiers:[{name:"offset",options:{offset:function(t){return[-1*t.popper.width/4,8]}}},{name:"arrow",options:{element:c}}]},onTrigger:r},e)};q.propTypes={toolTipContent:c.node.isRequired,children:c.node,onHover:c.func},q.defaultProps={children:null,onHover:B()};const J=q;var Q=n(20136),$=browser.runtime.getURL("images/snoozeSettingPanel/arrow-down.svg"),tt=browser.runtime.getURL("images/snoozeSettingPanel/sleep.png"),et=f.ZP.div.withConfig({displayName:"styles__Container",componentId:"sc-1fpodk9-0"})(["&&{position:relative;font-family:'Roboto';font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:left;margin-top:8px;color:#232938;}"]),nt=f.ZP.div.withConfig({displayName:"styles__OptionsContainer",componentId:"sc-1fpodk9-1"})(["&&{display:flex;flex-direction:column;position:absolute;top:40px;left:0px;z-index:2;box-shadow:0px 4px 16px 0px rgba(64,72,90,0.16);background-color:white;width:240px;border-radius:16px;max-height:0px;padding:0px;overflow:hidden;transition:max-height 0.2s ease-in-out,padding 0.2s ease-in-out;",";}&& > p:not(:last-child){border-bottom:1px solid #efeff1;}"],(function(t){return t.showOption?(0,f.iv)(["max-height:100px;cursor:pointer;"]):""})),rt=f.ZP.div.withConfig({displayName:"styles__SelectedContainer",componentId:"sc-1fpodk9-2"})(["&&{width:240px;height:32px;border-radius:12px;border:1px solid #dee0e3;cursor:",";background:url(",") no-repeat right 18.6px center transparent;opacity:",";}"],(function(t){return t.disabled?"not-allowed":"pointer"}),$,(function(t){return t.disabled?"0.3":"1"})),ot=f.ZP.div.withConfig({displayName:"styles__SnoozedOnContainer",componentId:"sc-1fpodk9-3"})(["&&{background:url(",") no-repeat left 2px center transparent;}"],tt),it=(0,f.ZP)(Q.xv).withConfig({displayName:"styles__SnoozedOnText",componentId:"sc-1fpodk9-4"})(["&&{margin-left:20px;font-size:14px;line-height:20px;font-weight:400;}"]),at=f.ZP.div.withConfig({displayName:"styles__SelectedContent",componentId:"sc-1fpodk9-5"})(["&&{display:flex;align-items:center;height:100%;padding-left:8px;}&& > p{margin-left:2px;}"]),ct=(0,f.ZP)(Q.xv).withConfig({displayName:"styles__Option",componentId:"sc-1fpodk9-6"})(["&&{padding:8px 16px;font-size:14px;line-height:20px;font-weight:400;text-align:left;}&&:hover{background-color:#f6f6f7;border-radius:12px;}"]),ut=f.ZP.div.withConfig({displayName:"styles__Mask",componentId:"sc-1fpodk9-7"})(["&&{position:fixed;left:0;top:0;width:100%;height:100%;display:",";}"],(function(t){return t.active?"block":"none"})),lt=function(t){var e=t.snoozeSettings,n=t.onChange,r=t.disabled,i=t.options,a=void 0===i?[{key:"snooze",value:browser.i18n.getMessage("notifier_snoozed_on_option"),snoozeEnabled:!0},{key:"alert",value:browser.i18n.getMessage("notifier_snoozed_off_option"),snoozeEnabled:!1}]:i,c=t.snoozedDisplayLabel,u=t.toolTipContent,f=void 0===u?l.createElement("div",null,browser.i18n.getMessage("snoozed_panel_notifier_education_tooltip")):u,p=(0,l.useContext)(Z).opened,d=l.useState(!1),v=o()(d,2),m=v[0],g=v[1],y=e.active,b=(0,s.v9)(h.f_),_=function(){g(!1)},E=function(){r||g(!m)};(0,l.useEffect)((function(){!p&&m&&g(!1)}),[p,m]);var w=function(){return l.createElement(et,null,l.createElement(ut,{active:m,onClick:_}),l.createElement(rt,{onClick:E,disabled:r},y?l.createElement(at,null,l.createElement(ot,null,l.createElement(it,null,c.on))):l.createElement(at,null,c.off)),l.createElement(nt,{showOption:m},a.map((function(t){return l.createElement(ct,{key:t.key,onClick:function(){return e=t.snoozeEnabled,g(!1),void n(e);var e}},t.value)}))))};return b?l.createElement(J,{toolTipContent:f},w()):l.createElement(l.Fragment,null,w())};lt.propTypes={snoozeSettings:u().object.isRequired,disabled:u().bool,onChange:u().func.isRequired,options:u().array,snoozedDisplayLabel:u().object.isRequired,toolTipContent:u().node},lt.defaultProps={disabled:!1};const st=lt;const ft=function(){var t=(0,s.v9)(z.MW),e=(0,s.I0)(),n=(0,m.Z)().trackExtInteractContent;return l.createElement(R,null,l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("ams_notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("ams_notifier_snooze_subtitle"))),l.createElement(st,{snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(t.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},snoozeSettings:t,onChange:function(t){e((0,E.dx)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),n({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"ams_notifier_snooze",interact_type:t?"on":"off"})}})))};const pt=function(){var t=(0,s.v9)(h.Dy),e=(0,s.I0)(),n=(0,m.Z)().trackExtInteractContent,r=(0,l.useCallback)((function(t){e((0,E.Pd)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),n({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"cashback_notifier_snooze",interact_type:t?"on":"off"})}),[e,n]);return l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("cashback_notifier_snooze_subtitle"))),l.createElement(st,{snoozeSettings:t,snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(t.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},onChange:r}))};var dt=n(94806),ht=n(53418),vt=f.ZP.div.withConfig({displayName:"styled__ToggleTrackThumb",componentId:"sc-1gjszb4-0"})(["&&{position:absolute;top:1px;left:",";width:18px;height:18px;border-radius:50%;background-color:#ffffff;transition:all 0.25s ease;}"],(function(t){return t.checked?"17px":"1px"})),mt=f.ZP.div.withConfig({displayName:"styled__StyledToggle",componentId:"sc-1gjszb4-1"})(["&&{touch-action:pan-x;display:inline-block;position:relative;cursor:",";background-color:transparent;border:0;padding:0;-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;}"],(function(t){return t.disabled?"not-allowed":"pointer"})),gt=f.ZP.input.withConfig({displayName:"styled__ToggleScreenReader",componentId:"sc-1gjszb4-2"})(["&&{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;}"]),yt=f.ZP.div.withConfig({displayName:"styled__ToggleTrack",componentId:"sc-1gjszb4-3"})(["&&{width:36px;height:20px;padding:0;border-radius:14px;background-color:",";transition:all 0.2s ease;opacity:",";}"],(function(t){return t.checked?"#000000":"#C6C9CF"}),(function(t){return t.disabled?"0.3":"1"})),bt=f.ZP.div.withConfig({displayName:"styled__ToggleTrackCheck",componentId:"sc-1gjszb4-4"})(["&&{position:absolute;width:14px;height:10px;top:0px;bottom:0px;margin:auto 0;left:8px;opacity:",";transition:opacity 0.25s ease;}"],(function(t){return t.checked?1:0})),_t=f.ZP.div.withConfig({displayName:"styled__ToggleTrackX",componentId:"sc-1gjszb4-5"})(["&&{position:absolute;right:5px;top:6px;bottom:0px;margin:auto 0;line-height:0;opacity:1;transition:opacity 0.25s ease;}"]),Et=f.ZP.div.withConfig({displayName:"styled__ToggleIcon",componentId:"sc-1gjszb4-6"})(["&&{align-items:center;display:flex;justify-content:center;width:10px;height:100%;}"]);function wt(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}var r=t.pageX;if(void 0!==r)return{x:r,y:t.pageY}}return{x:0,y:0}}function xt(t){var e,n,r,i,a=t.className,c=t.switchConfig,u=t.onChange,s=t.disabled,f=c.onIcon,p=c.onIconStyle,d=c.offIcon,h=c.offIconStyle,v=(0,l.useState)(!(!t.checked&&!t.defaultChecked)),m=o()(v,2),g=m[0],y=m[1],b=(0,l.useState)(!1),_=o()(b,2),E=_[0],w=_[1],x=(0,l.useRef)(null),P=!(!t.checked&&!t.defaultChecked);return(0,l.useEffect)((function(){y(t.checked)}),[t.checked]),l.createElement(mt,{onClick:function(t){var e=x.current;if(P=e.checked,t.target!==e&&!r)return t.preventDefault(),e.focus(),void e.click();y(e.checked)},onTouchStart:function(t){e=wt(t).x,n=!0,i=E,w(!0)},onTouchMove:function(t){if(n&&(r=!0,null!=e)){var o=wt(t).x;g&&o+15<e?(y(!1),e=o):!g&&o-15>e&&(y(!0),e=o)}},onTouchEnd:function(t){if(r){var o=x.current;t.preventDefault(),null!=e&&(P!==g&&o.click(),n=!1,e=null,r=!1),i||w(!1)}},onTouchCancel:function(){null!=e&&(n=!1,e=null,r=!1),i||w(!1)},disabled:s,className:a},l.createElement(yt,{checked:g,disabled:s},l.createElement(bt,{checked:g},l.createElement(Et,{style:p},f)),l.createElement(_t,{checked:g},l.createElement(Et,{style:h},d)),l.createElement(vt,{checked:g,focused:E,disabled:s})),l.createElement(gt,{ref:x,type:"checkbox",checked:g,disabled:s,"aria-label":"Switch between On and Off mode",onChange:u,onClick:function(){return y(!g)},onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},onKeyDown:function(t){var e;"Enter"===t.key&&(null===(e=x.current)||void 0===e||e.click())}}))}xt.propTypes={className:c.string,switchConfig:(0,c.shape)({onIcon:(0,c.oneOfType)([c.element,c.string]),onIconStyle:c.object,offIcon:(0,c.oneOfType)([c.element,c.string]),offIconStyle:c.object}),onChange:c.func,disabled:c.bool,checked:c.bool,defaultChecked:c.bool},xt.defaultProps={className:"",switchConfig:{onIcon:"",onIconStyle:{},offIcon:"",offIconStyle:{}},onChange:void 0,disabled:!1,checked:!1,defaultChecked:!1};const Pt=function(){var t=(0,s.v9)(h.be),e=(0,s.v9)(ht.eA),n=(0,s.I0)(),r=(0,m.Z)().trackExtInteractContent;return l.createElement(R,null,l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("price_comparison_notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("price_comparison_snooze_subtitle",[w.H7]))),l.createElement(st,{onChange:function(t){n((0,E.SW)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),r({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"price_comparison_snooze",interact_type:t?"on":"off"})},snoozeSettings:e,options:[{key:"snooze",value:browser.i18n.getMessage("side_panel_snoozed_on_option"),snoozeEnabled:!0},{key:"alert",value:browser.i18n.getMessage("side_panel_snoozed_off_option"),snoozeEnabled:!1}],snoozedDisplayLabel:{on:browser.i18n.getMessage("side_panel_snoozed_on_label",[_()(e.until).format("hh:mm A")]),off:browser.i18n.getMessage("side_panel_snoozed_off_label")},toolTipContent:l.createElement("div",null,browser.i18n.getMessage("snoozed_panel_price_comparison_education_tooltip"))})),l.createElement(j,null,l.createElement(Q.zl,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("price_comparison_minimize_title")),l.createElement(H,null,browser.i18n.getMessage("price_comparison_minimize_subtitle"))),l.createElement(F,null,l.createElement(xt,{checked:t,onChange:function(t){t.stopPropagation();var e=t.target.checked;n(e?(0,dt.IW)():(0,dt.dE)()),r({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"price_comparison_minimized",interact_type:e?"on":"off"})}})))))};var Ct=n(1245),It=n(40062),Tt=n(11775);const kt=function(){var t=(0,s.v9)(h.Ah),e=(0,s.v9)(It.tV),n=(0,s.v9)(Ct.eZ),r=(0,s.v9)(Tt.cK),o=(0,s.I0)(),i=(0,m.Z)().trackExtInteractContent,a=(0,l.useCallback)((function(t){o((0,E.u9)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),i({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"aliexpress_notifier_snooze",interact_type:t?"on":"off"})}),[]),c=(0,l.useCallback)((function(t){o((0,E.nk)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),i({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"taobao_notifier_snooze",interact_type:t?"on":"off"})}),[]);return l.createElement(R,null,t&&l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("taobao_notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("taobao_notifier_snooze_subtitle"))),l.createElement(st,{snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(r.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},snoozeSettings:r,onChange:c})),e&&l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("aliexpress_notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("aliexpress_notifier_snooze_subtitle"))),l.createElement(st,{snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(n.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},snoozeSettings:n,onChange:a})))};var Ot=n(7358);const Lt=function(){var t=(0,s.v9)(Ot.u7),e=(0,s.I0)(),n=(0,m.Z)().trackExtInteractContent;return l.createElement(R,null,l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("voucher_notifier_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("voucher_notifier_snooze_subtitle"))),l.createElement(st,{snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(t.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},snoozeSettings:t,onChange:function(t){e((0,E.Pw)({until:t?(new Date).getTime()+U({h:w.H7}):null,active:t})),n({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"voucher_notifier_snooze",interact_type:t?"on":"off"})}})))};function Nt(){var t=(0,s.v9)(h.yP),e=(0,s.I0)(),n=(0,l.useState)(!1),r=o()(n,2),i=r[0],a=r[1],c=(0,m.Z)().trackExtInteractContent;(0,l.useEffect)((function(){var e=t.isRequesting;"boolean"==typeof e&&setTimeout((function(){a(e)}),500)}),[t]);var u=(0,l.useCallback)((function(t){e((0,E.Ol)({until:t?(new Date).getTime()+U({h:w.H7}):null,duration:t?w.H7:0})),c({current_url:window.location.href,screen_name:"notifications_settings",feature_name:"web_notifications_snooze",interact_type:t?"on":"off"})}),[e,c]);return l.createElement(j,null,l.createElement(M,null,l.createElement(D,null,browser.i18n.getMessage("web_notification_snooze_title")),l.createElement(H,null,browser.i18n.getMessage("web_notification_snooze_subtitle"))),l.createElement(st,{snoozeSettings:t,snoozedDisplayLabel:{on:browser.i18n.getMessage("notifier_snoozed_on_label",[_()(t.until).format("hh:mm A")]),off:browser.i18n.getMessage("notifier_snoozed_off_label")},onChange:u,disabled:i}))}var St,At=n(45786),jt=(St={},y()(St,w.R0,{content:l.createElement(pt,null),name:"cashback_notifier_settings_tab_name",checkSettingExist:function(){return!0},featureName:"cashback_notifier"}),y()(St,w.$N,{content:l.createElement(Nt,null),name:"web_notification_settings_tab_name",checkSettingExist:function(){var t=(0,s.v9)(At.jl),e=(0,s.v9)(It.OU);return t&&e},featureName:"web_notifications"}),y()(St,w.Tr,{content:l.createElement(Lt,null),name:"voucher_notifier_settings_tab_name",checkSettingExist:function(){return(0,s.v9)(It.Bp)},featureName:"voucher_notifier"}),y()(St,w.fP,{content:l.createElement(Pt,null),name:"side_panel_settings_tab_name",checkSettingExist:function(){return(0,s.v9)(It.f9)},featureName:"price_comparison_sidepanel"}),y()(St,w.nt,{content:l.createElement(kt,null),name:"taobao_aliExpress_settings_tab_name",checkSettingExist:function(){var t=(0,s.v9)(h.Ah),e=(0,s.v9)(It.tV);return t||e},featureName:"taobao_aliexpress_notifier"}),y()(St,w.vK,{content:l.createElement(ft,null),name:"ams_notifier_settings_tab_name",checkSettingExist:function(){return(0,s.v9)(It.Cq)},featureName:"ams_notifier"}),St),Rt=["initialSettingTabName"],Mt=(0,f.ZP)(v.td).withConfig({displayName:"SettingsPanelContent__StyledTabList",componentId:"sc-1sxccgi-0"})(["&&{flex-direction:column;padding-right:12px;min-height:280px;border-right:1px solid #dee0e3;}"]),Ft=(0,f.ZP)(v.OK).withConfig({displayName:"SettingsPanelContent__SettingsTab",componentId:"sc-1sxccgi-1"})(["&&{background:none;border:none;margin-bottom:8px;min-height:30px;padding:8px 12px;cursor:pointer;}&&:hover{background:#f6f6f7;border-radius:8px;}&&:focus{outline:none;}"]),Dt=f.ZP.p.withConfig({displayName:"SettingsPanelContent__TabText",componentId:"sc-1sxccgi-2"})(["&&{font-size:14px;line-height:20px;text-align:left;margin:0px;font-weight:",";color:",";}"],(function(t){return t.isSelected?"700 !important":"400 !important"}),(function(t){return t.isSelected?"#232938 !important":"#6a717f !important"})),Ht=(0,f.ZP)(v.nP).withConfig({displayName:"SettingsPanelContent__SettingsTabPanelsContainer",componentId:"sc-1sxccgi-3"})(["&&{padding-left:12px;}"]),Ut=(0,f.ZP)(v.x4).withConfig({displayName:"SettingsPanelContent__SettingsTabPanelContent",componentId:"sc-1sxccgi-4"})(["&&{padding:12px;}"]),zt=function(t){var e=t.tabNames,n=void 0===e?[]:e,r=(0,l.useContext)(v.RL).tabIndex;return l.createElement(Mt,null,n.map((function(t,e){var n=jt[t].name,o=e===r;return l.createElement(Ft,{key:t},l.createElement(Dt,{isSelected:o},browser.i18n.getMessage(n)))})))};const Gt=function(t){var e=t.initialSettingTabName,n=void 0===e?w.R0:e,r=d()(t,Rt),o=(0,s.v9)(h.SU).filter((function(t){return jt[t]&&jt[t].checkSettingExist()})),i=o.findIndex((function(t){return t===n})),a=i>-1?i:0,c=(0,m.Z)().trackExtInteractContent;return l.createElement(v.mQ,{initialTabIndex:a,onChange:function(t){var e,n=o[t],r=null===(e=jt[n])||void 0===e?void 0:e.featureName;c({current_url:window.location.href,screen_name:"notifications_settings",feature_name:r,interact_type:"select"})}},l.createElement(zt,{tabNames:o}),l.createElement(Ht,null,o.map((function(t){var e,n=null===(e=jt[t])||void 0===e?void 0:e.content;return l.createElement(Ut,{key:t},(0,l.isValidElement)(n)?(0,l.cloneElement)(n,r):null)}))))};function Zt(t){var e=t.svgStyle;return l.createElement("svg",{width:"92",height:"30",viewBox:"0 0 92 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:e,preserveAspectRatio:"xMidYMid meet"},l.createElement("path",{d:"M7.91816 16.4882C7.91816 18.5877 6.17122 19.8468 4.10536 19.8468C3.17216 19.8468 2.33208 19.6088 1.58513 19.1467C0.970835 18.7477 0.525872 18.2213 0.248355 17.5666C0.239889 17.5479 0.0997178 17.2299 0 16.7657L2.52117 16.0804L2.52399 16.0922C2.80245 16.7894 3.41298 17.2151 4.1317 17.2151C4.75823 17.2151 5.06491 17.0195 5.06491 16.6137C5.06491 16.2354 4.71872 16.0537 3.91816 15.8296L2.87864 15.5215C1.39887 15.0731 0.585139 14.0935 0.585139 12.5826C0.544688 10.7349 2.29163 9.51731 4.1317 9.54595C4.83819 9.54595 5.492 9.72765 6.11853 10.0782C6.53622 10.3113 6.86924 10.6273 7.11289 11.0183C7.30197 11.3047 7.46378 11.7323 7.55315 12.1273L5.24553 12.7505V12.7475L5.23895 12.7505C5.05268 12.2607 4.70555 12.0227 4.19944 12.0227C3.78646 12.0227 3.43932 12.1767 3.43932 12.5125C3.43932 12.8482 3.78551 13.0161 4.47883 13.2264L5.47883 13.5207C7.10536 13.9967 7.9191 14.9902 7.9191 16.4873L7.91816 16.4882ZM18.3979 14.6969C18.3575 17.538 20.5174 19.9031 23.4111 19.8468C26.3039 19.9031 28.4638 17.538 28.4243 14.6969C28.4638 11.8558 26.3048 9.49065 23.4111 9.54694C20.5184 9.49065 18.3584 11.8558 18.3979 14.6969ZM25.571 14.6969C25.571 15.9984 24.7846 17.0758 23.4111 17.0758C22.0376 17.0758 21.2512 15.9984 21.2512 14.6969C21.2512 13.3953 22.0376 12.3179 23.4111 12.3179C24.7846 12.3179 25.571 13.3953 25.571 14.6969ZM29.5447 9.77407V19.5713H32.3443V16.8141H34.2107C36.2107 16.8141 37.5174 15.3309 37.5174 13.2729C37.5174 11.2149 36.2107 9.77407 34.2107 9.77407H29.5447ZM34.6642 13.3114C34.6642 13.815 34.3707 14.1794 33.7178 14.1794H32.3443V12.4582H33.7178C34.3707 12.4582 34.6642 12.8216 34.6642 13.3124V13.3114ZM14.523 9.77505V13.5049L11.5842 14.3038V9.77505H8.78457V19.5723H11.5842V16.8951L14.523 16.0962V19.5723H17.3227V9.77505H14.523ZM38.7874 19.5713H43.5607C45.4675 19.5713 46.6802 18.3813 46.6802 16.744C46.6802 15.3585 45.9332 14.5468 45.08 14.211C45.6134 13.7627 45.8796 13.1336 45.8796 12.3357C45.8796 10.8524 44.6802 9.77505 42.8532 9.77505H38.7865V19.5723L38.7874 19.5713ZM41.587 13.5109V12.1668H42.4534C42.9332 12.1668 43.1731 12.4611 43.1731 12.8384C43.1731 13.2156 42.9332 13.5099 42.4534 13.5099H41.587V13.5109ZM41.587 17.1637V15.7782H43.0273C43.5738 15.7782 43.8805 16.0577 43.8805 16.4636C43.8805 16.9257 43.6002 17.1637 43.0273 17.1637H41.587ZM56.5061 14.6722C56.4657 17.5133 58.6256 19.8784 61.5193 19.8221C63.5325 19.8221 65.1195 18.8287 65.9586 17.1627L63.412 15.875C63.0254 16.6591 62.3857 17.0501 61.5193 17.0501C60.159 17.0501 59.3594 15.9303 59.3594 14.6712C59.3594 13.4121 60.159 12.2923 61.5193 12.2923C62.3857 12.2923 63.0254 12.6843 63.412 13.4674L65.9586 12.1797C65.1185 10.5137 63.5325 9.52027 61.5193 9.52027C58.6265 9.46398 56.4666 11.8291 56.5061 14.6702V14.6722ZM66.8523 19.5703H69.6519V15.5116H70.5456L72.5851 19.5703H75.8645L73.0649 14.294L75.6115 9.77308H72.492L69.6519 14.9092V9.77308H66.8523V19.5703ZM56.8391 19.5703H53.8796L53.3396 18.0169L49.9671 18.9334L49.746 19.5693H46.7865L50.6529 9.77209H52.9727L56.8391 19.5693V19.5703ZM52.5099 15.6518L51.8128 13.7627L50.9614 16.0735L52.5099 15.6528V15.6518Z",fill:"black"}),l.createElement("path",{d:"M89.5879 16.1658H89.0902L89.9764 15.3985C90.5916 14.8662 90.8597 13.9903 90.6048 13.1983C90.3404 12.3766 89.6321 11.8434 88.8099 11.8434H80.951C80.8033 11.8434 80.7309 11.6557 80.8353 11.5471L86.0507 6.16314C86.1147 6.09697 86.22 6.17203 86.1843 6.25893L84.3687 10.7196H86.697L91.0601 0H88.9679L78.6161 10.685C78.0451 11.2746 77.887 12.1683 78.2257 12.9376C78.5408 13.6535 79.2464 14.091 79.9971 14.091H87.6622C87.8165 14.091 87.8861 14.2944 87.7666 14.3971L85.9849 15.9396C85.7205 16.1687 85.5126 16.4601 85.3781 16.7909L84.7177 18.4134H88.4881C88.6424 18.4134 88.712 18.6168 88.5926 18.7195L80.9021 25.3675C80.8353 25.4248 80.7403 25.3497 80.7741 25.2668L83.5634 18.4134L83.8014 17.8278L84.8654 15.2148H82.5371L76.7666 29.3927H79.6151L90.84 19.6893C91.475 19.1402 91.6989 18.2554 91.4054 17.4456C91.1222 16.6635 90.3837 16.1658 89.5869 16.1658H89.5879Z",fill:"#FF3407"}))}var Xt;Zt.propTypes={svgStyle:c.object},Zt.defaultProps={svgStyle:{}};var Vt=(0,f.vJ)(Xt||(Xt=a()(["\n  #ShopBack-Setting-Panel * {\n    font-family: 'Roboto', arial, sans-serif !important;\n  }\n"])));function Bt(t){var e=t.active,n=t.initialSettingTabName,r=t.tabId,i=(0,l.useState)(e),a=o()(i,2),c=a[0],u=a[1],f=(0,s.I0)();(0,l.useEffect)((function(){var t=function(t){t.action===w.HY&&u(!0)};return browser.runtime.onMessage.addListener(t),function(){browser.runtime.onMessage.removeListener(t)}}),[]),(0,l.useEffect)((function(){var t=function(){c&&(u(!1),f((0,E.Om)({tabId:r})))};return document.addEventListener("visibilitychange",t),window.addEventListener("blur",t),function(){document.removeEventListener("visibilitychange",t),window.removeEventListener("blur",t)}}),[]);var p=function(){u(!1),f((0,E.Om)({tabId:r}))};return l.createElement(Z.Provider,{value:{opened:c}},l.createElement(P,{id:"ShopBack-Setting-Panel",active:c},l.createElement(Vt,null),l.createElement(C,{onClick:p,active:c}),l.createElement(I,{active:c},l.createElement(T,null,l.createElement(Zt,null),l.createElement(k,{onClick:p})),l.createElement(L,null,l.createElement(O,null,l.createElement(N,null,browser.i18n.getMessage("shopback_button_settings_title")),l.createElement(S,null,browser.i18n.getMessage("shopback_button_setting_subtitle"))),l.createElement(A,null,l.createElement(Gt,{initialSettingTabName:n}))))))}Bt.propTypes={active:c.bool,initialSettingTabName:c.string,tabId:c.number.isRequired},Bt.defaultProps={active:!1,initialSettingTabName:w.R0};const Kt=Bt},76611:
/*!**********************************************************!*\
  !*** ./src/content/settingPanel/actionCreators/index.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{wv:()=>o,Om:()=>i,yY:()=>a,Ol:()=>c,Pd:()=>u,SW:()=>l,Pw:()=>s,dx:()=>f,nk:()=>p,u9:()=>d});n(/*! ../../../shared/urls */4536),n(/*! ../../../shared/utils/fetchUtils */63575);var r=n(/*! ../constants */3657);function o(t){return{type:r.HY,payload:t}}function i(t){return{type:r.rv,payload:t}}var a=function(){return{type:r.gc}};var c=function(t){return{type:r.rr,payload:t}};function u(t){return{type:r.kq,payload:t}}function l(t){return{type:r.em,payload:t}}function s(t){return{type:r.uF,payload:t}}function f(t){return{type:r.AF,payload:t}}function p(t){return{type:r.$t,payload:t}}function d(t){return{type:r.Eo,payload:t}}},44161:
/*!*****************************************************************!*\
  !*** ./src/content/settingPanel/selectors/index.js + 1 modules ***!
  \*****************************************************************/(t,e,n)=>{n.d(e,{Dy:()=>s,f_:()=>v,be:()=>d,Ah:()=>h,SU:()=>p,yP:()=>f});var r=n(22222),o=n(26846),i=n(89489),a=n(53418),c=n(7358),u=n(3657),l=((0,r.P1)(i.Gw,(function(t,e){return e}),(function(t,e){return t.activeSettingPanel[e.tabId]})),(0,r.P1)(i.Gw,(function(t){return t.snooze}))),s=(0,r.P1)(i.Gw,(function(t){return t.snooze.notifier})),f=(0,r.P1)(i.Gw,(function(t){return t.snooze.webNotification})),p=(0,r.P1)(i.Gw,(function(t){var e;return null!==(e=null==t?void 0:t.settingPanelTabConfigs)&&void 0!==e?e:u.Np})),d=((0,r.P1)(s,(function(t){var e;return null!==(e=null==t?void 0:t.active)&&void 0!==e&&e})),(0,r.P1)(c.u7,(function(t){var e;return null!==(e=null==t?void 0:t.active)&&void 0!==e&&e})),(0,r.P1)(a.eA,(function(t){var e;return null!==(e=null==t?void 0:t.active)&&void 0!==e&&e})),(0,r.P1)(a.pI,(function(t){return null!=t&&t}))),h=(0,r.P1)(o.FO,(function(t){return Object.keys(t).find((function(e){var n,r,o;return null!==(n=null===(r=t[e])||void 0===r||null===(o=r.name)||void 0===o?void 0:o.toLowerCase().includes("taobao"))&&void 0!==n&&n}))})),v=(0,r.P1)(l,(function(t){return"firstSeen"===t.seenBefore}))},86329:
/*!********************************************************!*\
  !*** ./src/shared/actionCreators/affiliateTopology.js ***!
  \********************************************************/(t,e,n)=>{n.d(e,{K9:()=>o,br:()=>i});var r=n(/*! ../constants */62620),o=function(t){return{type:r.F8F,payload:{tabId:t}}},i=function(t){return{type:r.yw4,payload:{tabId:t}}}},19664:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/application.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{nD:()=>o,GP:()=>i});var r=n(/*! ../constants */62620),o=function(t){var e=t.tag,n=t.message;return{type:r.Shd,payload:{tag:e,message:n}}},i=function(t){var e=t.merchantId,n=t.productId,o=t.tabId;return{type:r.eqT,payload:{merchantId:e,productId:n,tabId:o}}}},77803:
/*!************************************************************!*\
  !*** ./src/shared/actionCreators/merchants.js + 2 modules ***!
  \************************************************************/(t,e,n)=>{n.d(e,{Hp:()=>D,bE:()=>R,dj:()=>j,jm:()=>M,JA:()=>F,WB:()=>S,SH:()=>H,Kw:()=>O,Zn:()=>C,vu:()=>A,NI:()=>k,lQ:()=>L,kH:()=>N,zo:()=>U});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(59713),u=n.n(c),l=n(9669),s=n.n(l),f=n(62620),p=n(91227),d=(n(83582),n(49485)),h=n(45786),v=n(4536),m=n(63575),g=n(63038),y=n.n(g),b=n(53437),_=function(t){var e=browser.i18n.getUILanguage();if(t===b.od.HK){var n=browser.i18n.getUILanguage().split("-"),r=y()(n,1)[0];e="".concat(r,"-HK")}return{headers:{"X-Shopback-Locale":e}}};function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function v(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==e&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=f(t[r],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=18e5;function C(t){var e=t.noThrottle,n=void 0!==e&&e;return function(t,e){var r=e(),o=(0,d.q)(r),i=(0,v.k9)(o),a=x({url:i,throttling:n?null:{throttlingInterval:P,throttlingKey:i}},_(o));return m.Z.get(a,r).then((function(e){var n=e.data;return t(function(t,e){return{type:p.YI,payload:{merchants:t,cc:e}}}(n,o))})).catch((function(e){return s().isCancel(e)?{}:t({type:p.Bx})}))}}function I(t,e){return{type:p.AV,payload:{merchants:t,cc:e}}}function T(t,e){return{type:p.BX,payload:{merchants:t,cc:e}}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:p.Xc,payload:{merchantIds:t,meta:e}}}function O(t){var e=t.payload,n=e.merchantIds,r=e.meta,o=void 0!==r&&r;return function(){var t=a()(E().mark((function t(e,r){var i,a,c,u,l;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(o?{type:p.cs}:{type:p.iG}),i=r(),a=(0,d.q)(i),c=x({url:(0,v.A2)(n,a),params:{meta:o}},_(a)),t.prev=4,!(0,h.jl)(i)){t.next=11;break}return t.next=8,m.E.get(c,i,e);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,m.Z.get(c,i);case 13:t.t0=t.sent;case 14:if(u=t.t0,l=u.data,!o){t.next=18;break}return t.abrupt("return",e(T(l,a)));case 18:return t.abrupt("return",e(I(l,a)));case 21:if(t.prev=21,t.t1=t.catch(4),!o){t.next=25;break}return t.abrupt("return",e({type:p.FV,err:t.t1}));case 25:return t.abrupt("return",e({type:p.a_,err:t.t1}));case 26:case"end":return t.stop()}}),t,null,[[4,21]])})));return function(e,n){return t.apply(this,arguments)}}()}function L(){return{type:p.Se}}function N(){return{type:p._x}}function S(t){var e=t.merchantIds;return{type:p.WR,payload:{merchantIds:e}}}function A(t){return{type:p.A4,payload:{merchantId:t}}}function j(t){return{type:p.en,payload:{merchantId:t}}}function R(t){return{type:p.xH,payload:{merchantId:t}}}function M(t){return{type:f.dcW,payload:{merchantId:t}}}function F(t){return{type:f.iYg,payload:{merchant:t}}}function D(t){return{type:f.PVA,payload:{merchantId:t}}}function H(t){return{type:f.Uor,payload:x({},t)}}function U(t){return{type:f.Wgb,merchant:t}}},34363:
/*!*************************************************************!*\
  !*** ./src/shared/actionCreators/permission.js + 1 modules ***!
  \*************************************************************/(t,e,n)=>{n.d(e,{Lu:()=>s,VL:()=>l,Ni:()=>u,lR:()=>c});var r=n(62620),o="DETECT_PERMISSION_CHANGE",i="CLEAN_INVALID_PERMISSION",a=n(67522);function c(){return{type:o,payload:{merchantId:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{merchantId:-1}).merchantId}}}function u(t){return{type:r.BDI,payload:{merchantId:t,ts:Date.now()}}}function l(){return{type:i,payload:{}}}function s(t){return function(e,n){var o,i=n();return(0,a.Cx)(i,{merchant:t})&&e((o=t.merchantId,{type:r.JxL,payload:{merchantId:o}})),Promise.resolve()}}},94806:
/*!************************************************!*\
  !*** ./src/shared/actionCreators/sidePanel.js ***!
  \************************************************/(t,e,n)=>{n.d(e,{L8:()=>o,dE:()=>i,IW:()=>a,_O:()=>c});var r=n(/*! ../constants/sidePanel */6172),o=function(){return{type:r.Jc}},i=function(){return{type:r.EU}},a=function(){return{type:r.gq}},c=function(t,e){return{type:r.NJ,payload:{tabId:t,position:e}}}},88213:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/tabs.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{f$:()=>_,on:()=>E,ZW:()=>y,gZ:()=>m,iM:()=>g,G_:()=>b});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(77803),u=n(21934),l=n(26846);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==e&&n.call(b,a)&&(g=b);var _=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=p(t[r],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),l(_,u,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}const f={fetchMerchantById:function(){var t=a()(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch((0,c.Kw)({payload:{merchantIds:[n]}}));case 2:return t.abrupt("return",(0,l.Lz)(e.getState(),{id:n}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),refetchBootstrap:function(t){return u.ZP.info(t,"FETCH_MERCHANTS_BOOTSTRAP"),t.dispatch((0,c.Zn)({}))}};var p=n(12022),d=n(18855),h=n(45887);function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==e&&n.call(b,a)&&(g=b);var _=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=f(t[r],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),l(_,u,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var m=function(t){var e=t.openUrl,n=t.active,r=t.autoClose,o=void 0===r||r;return{type:d.Th,openUrl:e,active:n,autoClose:o}},g=function(t){var e=t.tabId,n=t.url,r=t.merchantId,o=t.merchantName,i=t.shoppingtripId,c=t.prevUrl;return function(){var t=a()(v().mark((function t(a,s){var m,g,y,b;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m=s(),g=(0,h.jv)(m,{tabId:e}),a({type:d.YI,payload:{tabId:e,url:n,merchantId:r,merchantName:o,shoppingtripId:i,prevUrl:c}}),!n||g===n){t.next=11;break}if(y={dispatch:a,getState:s},!(b=(0,l.Lz)(m,{id:r}))){t.next=10;break}return t.next=9,f.fetchMerchantById(y,r).catch((function(t){return u.ZP.error(m,t.stack)}));case 9:b=t.sent;case 10:p.ul.notify(y,{tabId:e,url:n,merchant:b});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},y=function(t){var e=t.tabId,n=t.url,r=t.openerUrl;return{type:d.Hl,payload:{tabId:e,url:n,openerUrl:r}}},b=function(t){var e=t.tabId,n=t.affiliateLinkId,r=t.shoppingtripId;return{type:d.uE,payload:{tabId:e,affiliateLinkId:n,shoppingtripId:r}}},_=function(t){var e=t.tabId;return{type:d.V1,payload:{tabId:e}}},E=function(t){var e=t.tabId;return function(t,n){return browser.tabs.remove(e).catch((function(t){return u.ZP.warn(n(),t.message)})).then((function(){return t({type:d.wk,payload:{tabId:e}})}))}}},11713:
/*!*********************************************!*\
  !*** ./src/shared/actionCreators/taoBao.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Xq:()=>s,_w:()=>f,lk:()=>p,Sk:()=>d,gh:()=>g,Fv:()=>y,cK:()=>b,V0:()=>_,qQ:()=>E});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../constants */62620),u=n(/*! ../utils/taoBaoUtils */80351);function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function h(){}function v(){}function m(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==e&&n.call(b,a)&&(g=b);var _=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=p(t[r],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function s(){return{type:c.Jkz}}function f(){return{type:c.usU}}function p(){return{type:c.OO5}}function d(){return{type:c.IKz}}function h(t){return{type:c.q9M,payload:{productId:t}}}function v(t){return{type:c.aTr,payload:{productId:t}}}function m(t,e){return{type:c.RzL,payload:{productId:t,hasCashback:e}}}function g(t){var e=t.productId;return function(){var t=a()(l().mark((function t(n,r){var o,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),i=o.cc,n(v(e)),t.prev=3,t.next=6,(0,u.aT)(e,i,o);case 6:a=t.sent,n(m(e,a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(h(e));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function y(t,e){return{type:c.ow$,productId:t,from:e}}function b(t){return{type:c.NVs,payload:{productId:t}}}function _(t){return{type:c.slH,payload:{productId:t}}}function E(t){return{type:c.fk6,payload:{productId:t}}}},1019:
/*!*************************************************!*\
  !*** ./src/shared/actionCreators/trackingV2.js ***!
  \*************************************************/(t,e,n)=>{n.r(e),n.d(e,{trackExtUpdated:()=>m,trackExtInstalled:()=>g,trackExtOpenMenu:()=>y,trackExtLoadMenu:()=>b,trackExtViewScreenMenu:()=>_,trackExtSearchMenu:()=>E,trackExtClickMenu:()=>w,trackExtClickContent:()=>x,trackExtClickContentMenu:()=>P,trackExtInteractContentMenu:()=>C,trackExtInteractContent:()=>I,trackExtInteractDialogMenu:()=>T,trackExtInteractMenu:()=>k,trackExtHoverMenu:()=>O,trackExtHoverContent:()=>L,trackExtClickBottomNavigationMenu:()=>N,trackExtError:()=>S,trackExtExtractStart:()=>A,trackExtExtractOrder:()=>j,trackExtExtractCrawl:()=>R,trackExtExtractUpload:()=>M,trackExtViewMerchantPage:()=>F,trackExtViewInActivatedNotifier:()=>D,trackExtViewActivatedNotifier:()=>H,trackExtViewNotifier:()=>U,trackExtClickNotifier:()=>z,trackExtDragNotifier:()=>G,trackExtInteractNotifier:()=>Z,trackExtHoverNotifier:()=>X,trackExtViewSerp:()=>V,trackExtClickSerp:()=>B,trackExtSaveSuccess:()=>K,trackExtRemoveSuccess:()=>W,trackExtLoadSavedTab:()=>Y,trackExtHover:()=>q,trackExtErrorOccurred:()=>J,trackSystemLogout:()=>Q});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! ../constants */62620),a=n(/*! ../constants/eventsV2 */44340);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={current_url:null,referrer_url:null,destination_url:null},s={merchant_id:null,merchant_name:null},f={screen_name:null,screen_type:null,page_type:null},p={ui_element_id:null,ui_element_name:null,ui_element_type:null,ui_element_position:null},d={feature_id:null,feature_name:null,feature_type:null,feature_position:null},h={serp_domain:null},v=function(t){var e=t.eventName,n=t.properties;return{type:i.MTw,payload:{eventName:e,properties:n}}},m=function(){return v({eventName:a.C4.EXT_UPDATED,properties:{installation_medium:"little_whale_grow"}})},g=function(t){return v({eventName:a.C4.EXT_INSTALLED,properties:u({installation_medium:"cute_whale_born",current_url:null,utm_source:null,utm_medium:null},t)})},y=function(t){return v({eventName:a.C4.EXT_OPEN_MENU,properties:u(u(u({},l),s),t)})},b=function(t){return v({eventName:a.C4.EXT_LOAD_MENU,properties:u(u(u({},l),s),t)})},_=function(t){return v({eventName:a.C4.EXT_VIEW_SCREEN_MENU,properties:u(u(u(u({},l),s),f),t)})},E=function(t){return v({eventName:a.C4.EXT_SEARCH_MENU,properties:u(u(u(u({},l),s),f),t)})},w=function(t){return v({eventName:a.C4.EXT_CLICK_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},x=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},P=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},C=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},I=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},T=function(t){return v({eventName:a.C4.EXT_INTERACT_DIALOG_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},k=function(t){return v({eventName:a.C4.EXT_INTERACT_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},O=function(t){return v({eventName:a.C4.EXT_HOVER_MENU,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},L=function(t){return v({eventName:a.C4.EXT_HOVER_CONTENT,properties:u(u(u(u(u(u({},l),s),f),p),d),t)})},N=function(t){return v({eventName:a.C4.EXT_CLICK_BOTTOM_NAVIGATION_MENU,properties:u(u(u(u(u({},l),s),f),d),t)})},S=function(t){return v({eventName:a.C4.EXT_ERROR,properties:t})},A=function(t){return v({eventName:a.C4.EXT_EXTRACT_START,properties:t})},j=function(t){return v({eventName:a.C4.EXT_EXTRACT_ORDER,properties:t})},R=function(t){return v({eventName:a.C4.EXT_EXTRACT_CRAWL,properties:t})},M=function(t){return v({eventName:a.C4.EXT_EXTRACT_UPLOAD,properties:t})},F=function(t){return v({eventName:a.C4.EXT_VIEW_MERCHANT_PAGE,properties:u(u(u({},l),s),t)})},D=function(t){return v({eventName:a.C4.EXT_VIEW_INACTIVATED_NOTIFIER,properties:u(u(u({},l),s),t)})},H=function(t){return v({eventName:a.C4.EXT_VIEW_ACTIVATED_NOTIFIER,properties:u(u(u({},l),s),t)})},U=function(t){return v({eventName:a.C4.EXT_VIEW_NOTIFIER,properties:u(u(u({},l),s),t)})},z=function(t){return v({eventName:a.C4.EXT_CLICK_NOTIFIER,properties:u(u(u({current_url:null,referrer_url:null},d),{},{feature_destination_url:null},s),{},{screen_name:null},t)})},G=function(t){return v({eventName:a.C4.EXT_DRAG_NOTIFIER,properties:u({ui_element_type:null,merchant_id:null,merchant_name:null,current_url:window.location.href},t)})},Z=function(t){return v({eventName:a.C4.EXT_INTERACT_NOTIFIER,properties:u(u(u(u({},s),d),l),t)})},X=function(t){return v({eventName:a.C4.EXT_HOVER_NOTIFIER,properties:u(u(u(u({},s),d),l),t)})},V=function(t){return v({eventName:a.C4.EXT_VIEW_SERP,properties:u(u({},h),t)})},B=function(t){return v({eventName:a.C4.EXT_CLICK_SERP,properties:u(u({},h),{},{feature_type:null,feature_destination_url:null,merchant_id:null},t)})},K=function(t){return v({eventName:a.C4.EXT_SAVE_PRODUCT_SUCCESS,properties:u(u({},s),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,save_from:null},t)})},W=function(t){return v({eventName:a.C4.EXT_REMOVE_PRODUCT_SUCCESS,properties:u(u({},s),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,remove_from:null},t)})},Y=function(t){return v({eventName:a.C4.EXT_LOAD_SIDE_PANEL,properties:u(u({},s),{},{current_url:window.location.href},t)})},q=function(t){return v({eventName:a.C4.EXT_HOVER,properties:u(u(u({},s),d),{},{current_url:window.location.href},t)})},J=function(t){return v({eventName:a.C4.EXT_ERROR_OCCURRED,properties:t})},Q=function(t){return v({eventName:a.C4.SYSTEM_LOGOUT,properties:t})}},95346:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/user.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{xD:()=>h,kS:()=>d,Vz:()=>p,ol:()=>v,w2:()=>y,MY:()=>m,G3:()=>g});n(59713),n(50308);var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(49485),u=n(4536),l=n(63575);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==e&&n.call(b,a)&&(g=b);var _=m.prototype=h.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=p(t[r],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),l(_,u,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}n(88213),n(1019);var f=n(62620);n(45887),n(45786);function p(t){return{type:f.idx,payload:{token:t}}}function d(t){var e={cc:t};return{type:f.Nve,payload:e}}function h(t){var e=t.cc;return function(t){return browser.cookies.remove({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN}).then((function(){return t({type:f.vgW})})).catch((function(){return t({type:f.vgW})}))}}function v(t){var e=t.cc,n=t.accessToken;return function(t){return browser.cookies.set({url:(0,u.tn)(e),name:f.HRF.ACCESS_TOKEN,value:n,expirationDate:parseInt(Date.now()/1e3,10)+f.Jyn,secure:!0}).then((function(){t({type:f.tz7}),t(function(){var t=a()(s().mark((function t(e,n){var r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),o=(0,c.q)(r),i=(0,u.vI)(o),a={url:i},l.Z.get(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})).catch((function(){return t({type:f.xMg})}))}}function m(){return{type:f.kfr}}function g(t){return{type:f.kpX,cc:t}}function y(){return{type:f.S0K}}},62146:
/*!**************************************************!*\
  !*** ./src/shared/components/Icons/CloseIcon.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! lodash/noop */50308),a=n.n(i),c=n(/*! prop-types */45697),u=n(/*! react */67294);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t){var e=t.svgStyle,n=t.onClick,r=t.className;return u.createElement("svg",{width:"12",height:"12",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:s({},e),className:r,onClick:n},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9562 1.20857L11.7432 0L6.93431 4.79143L2.1254 0L0.912415 1.20857L5.72133 6L0.912415 10.7914L2.1254 12L6.93431 7.20857L11.7432 12L12.9562 10.7914L8.14729 6L12.9562 1.20857Z",fill:"#40485A"}))};f.propTypes={svgStyle:c.object,className:c.string,onClick:c.func},f.defaultProps={svgStyle:null,className:"",onClick:a()};const p=u.memo(f)},70189:
/*!*********************************************!*\
  !*** ./src/shared/components/Tabs/index.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{RL:()=>v,mQ:()=>m,td:()=>g,OK:()=>y,nP:()=>_,x4:()=>E});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! lodash/noop */50308),u=n.n(c),l=n(/*! prop-types */45697),s=n(/*! react */67294),f=n(/*! styled-components */23588),p=n(/*! ../../styledComponents */20136);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=(0,s.createContext)({tabIndex:0,handleSwitchTab:u(),handleViewPanel:u()}),m=function(t){var e=t.onChange,n=t.onView,r=t.children,o=t.initialTabIndex,i=t.activeTabIndex,c=(0,s.useState)(o),u=a()(c,2),l=u[0],f=u[1],p=(0,s.useCallback)((function(t,n){f(t),e(t,n)}),[e]);return(0,s.useEffect)((function(){i>=0&&f(i)}),[i]),s.createElement(v.Provider,{value:{tabIndex:l,handleSwitchTab:p,handleViewPanel:n}},s.Children.map(r,(function(t,e){return(0,s.isValidElement)(t)?(0,s.cloneElement)(t,{tabIndex:l,handleSwitchTab:p,key:e}):t})))};m.propTypes={children:l.array.isRequired,onChange:l.func,onView:l.func,initialTabIndex:l.number,activeTabIndex:l.number},m.defaultProps={onChange:u(),onView:u(),initialTabIndex:0,activeTabIndex:-1};var g=function(t){var e=t.children,n=t.style,r=t.className,o=(0,s.useContext)(v).tabIndex;return s.createElement(p.zl,{style:h({},n),className:r},s.Children.map(e,(function(t,e){var n=e===o;return(0,s.isValidElement)(t)?(0,s.cloneElement)(t,{index:e,isSelected:n}):t})))};g.propTypes={style:l.object,children:l.array.isRequired,className:l.string},g.defaultProps={style:{},className:""};var y=function(t){var e=t.index,n=t.isSelected,r=t.selectedStyle,o=t.children,i=t.defaultStyle,a=t.className,c=(0,s.useContext)(v).handleSwitchTab,u=n?h(h({},i),r):h({},i);return s.createElement("button",{style:h({alignItems:"center",justifyContent:"center"},u),onClick:function(){return c(e,n)},className:a},o)};y.propTypes={index:l.number,isSelected:l.bool,defaultStyle:l.object,selectedStyle:l.object,className:l.string,children:l.element.isRequired},y.defaultProps={index:0,isSelected:!1,defaultStyle:{},selectedStyle:{},className:""};var b=f.ZP.div.withConfig({displayName:"Tabs__Container",componentId:"g6speb-0"})(["&&::-webkit-scrollbar{width:7px;background-color:#ffffff;}&&::-webkit-scrollbar-thumb{border-radius:4px;background-color:#c0c0c0;}&&::-webkit-scrollbar-thumb:hover{background-color:#7c7c7c;}"]),_=function(t){var e=t.children,n=t.style,r=t.className,o=(0,s.useContext)(v),i=o.tabIndex,a=o.handleViewPanel,c=(0,s.useRef)([]);return(0,s.useEffect)((function(){a(i)}),[i]),c.current.includes(i)||c.current.push(i),c.current.map((function(t){return s.createElement(b,{key:e[t].key,style:h(h({},n),{},{display:i===t?"block":"none"}),className:r},e[t])}))};_.propTypes={style:l.object,children:l.array.isRequired,className:l.string},_.defaultProps={style:{},className:""};var E=s.forwardRef((function(t,e){var n=t.children,r=t.style,o=t.className;return s.createElement("div",{style:h({},r),className:o,ref:e},n)}));E.propTypes={style:l.object,children:(0,l.oneOfType)([l.array,l.object]).isRequired,className:l.string},E.defaultProps={style:{},className:""}},41822:
/*!*********************************************!*\
  !*** ./src/shared/constants/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Sk:()=>r,Hn:()=>o,Rq:()=>i,an:()=>a,l8:()=>c,B5:()=>u,Z_:()=>l});var r="UI_FETCH_AMS_BRANDS_ACTIVE_TIER",o="OPEN_AMS_NOTIFIER",i="CLOSE_AMS_NOTIFIER",a="SET_AMS_API_IDLE",c="CHANGE_AMS_NOTIFIER_POSITION",u=36e5,l="be_ams_notifier"},90623:
/*!*******************************************!*\
  !*** ./src/shared/constants/apiStatus.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{WI:()=>r,dF:()=>o,UP:()=>i,j5:()=>a});var r="idle",o="loading",i="success",a="error"},44340:
/*!******************************************!*\
  !*** ./src/shared/constants/eventsV2.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{C4:()=>a});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a={EXT_INSTALLED:"Extension.Install",EXT_UPDATED:"Extension.Update.Version",EXT_ERROR_OCCURRED:"Extension.Error",EXT_OPEN_MENU:"Extension.Open.Menu",EXT_LOAD_MENU:"Extension.Load.Menu",EXT_VIEW_SCREEN_MENU:"Extension.View.Screen.Menu",EXT_SEARCH_MENU:"Extension.Search.Menu",EXT_CLICK_MENU:"Extension.Click.Menu",EXT_CLICK_CONTENT:"Extension.Click.Content",EXT_CLICK_CONTENT_MENU:"Extension.Click.Content.Menu",EXT_INTERACT_CONTENT_MENU:"Extension.Interact.Content.Menu",EXT_INTERACT_DIALOG_MENU:"Extension.Interact.Dialog.Menu",EXT_INTERACT_CONTENT:"Extension.Interact.Content",EXT_INTERACT_MENU:"Extension.Interact.Menu",EXT_HOVER_MENU:"Extension.Hover.Menu",EXT_HOVER_CONTENT:"Extension.Hover.Content",EXT_CLICK_BOTTOM_NAVIGATION_MENU:"Extension.Click.BottomNavigation.Menu",EXT_EXTRACT_START:"Extension.Extract.Start",EXT_EXTRACT_ORDER:"Extension.Extract.Order",EXT_EXTRACT_CRAWL:"Extension.Extract.Crawl",EXT_EXTRACT_UPLOAD:"Extension.Extract.Upload",EXT_VIEW_MERCHANT_PAGE:"Extension.View.Screen.MerchantPage",EXT_VIEW_INACTIVATED_NOTIFIER:"Extension.Prompt.Notifier",EXT_VIEW_ACTIVATED_NOTIFIER:"Extension.View.ActivatedNotifier",EXT_CLICK_NOTIFIER:"Extension.Click.Notifier",EXT_VIEW_NOTIFIER:"Extension.View.Notifier",EXT_INTERACT_NOTIFIER:"Extension.Interact.Notifier",EXT_HOVER_NOTIFIER:"Extension.Hover.Notifier",EXT_VIEW_SERP:"Extension.View.Screen.SERP",EXT_CLICK_SERP:"Extension.Click.SERP",EXT_HOVER:"Extension.Hover",EXT_DRAG_NOTIFIER:"Extension.Drag.Notifier",EXT_SAVE_PRODUCT_SUCCESS:"Extension.Save.Success",EXT_REMOVE_PRODUCT_SUCCESS:"Extension.Remove.Success",EXT_LOAD_SIDE_PANEL:"Extension.Load.SidePanel",SYSTEM_LOGOUT:"System.Logout"},c=(Object.values(a),"To report version update for product analytics. For more information, please visit"),u="To report ShopBack installs for product analytics. For more information, please visit",l="To report when ShopBack is not performing as expected. For more information, please visit",s="To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",f="To report ShopBack manually opened for product analytics. For more information, please visit",p="To report interactions with ShopBack for product analytics. For more information, please visit",d="To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",h="To report first interaction with ShopBack for product analytics. For more information, please visit";r={},i()(r,a.EXT_UPDATED,c),i()(r,a.EXT_INSTALLED,u),i()(r,a.EXT_OPEN_MENU,f),i()(r,a.EXT_LOAD_MENU,p),i()(r,a.EXT_VIEW_SCREEN_MENU,p),i()(r,a.EXT_SEARCH_MENU,p),i()(r,a.EXT_CLICK_MENU,p),i()(r,a.EXT_CLICK_CONTENT_MENU,p),i()(r,a.EXT_INTERACT_MENU,p),i()(r,a.EXT_CLICK_BOTTOM_NAVIGATION_MENU,p),i()(r,a.EXT_VIEW_MERCHANT_PAGE,d),i()(r,a.EXT_VIEW_INACTIVATED_NOTIFIER,h),i()(r,a.EXT_VIEW_ACTIVATED_NOTIFIER,s),i()(r,a.EXT_CLICK_NOTIFIER,p),i()(r,a.EXT_VIEW_NOTIFIER,h),i()(r,a.EXT_VIEW_SERP,p),i()(r,a.EXT_CLICK_SERP,p),i()(r,a.EXT_DRAG_NOTIFIER,p),i()(r,a.EXT_HOVER,p),i()(r,a.EXT_ERROR_OCCURRED,l)},91227:
/*!*******************************************!*\
  !*** ./src/shared/constants/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{YI:()=>r,Bx:()=>o,Xc:()=>i,iG:()=>a,AV:()=>c,a_:()=>u,cs:()=>l,BX:()=>s,FV:()=>f,WR:()=>p,xH:()=>d,en:()=>h,Se:()=>v,_x:()=>m,Dc:()=>g,A4:()=>y,nz:()=>b,bI:()=>_,Y4:()=>E,s1:()=>w});var r="FETCH_MERCHANTS_BOOTSTRAP_SUCCESS",o="FETCH_MERCHANTS_BOOTSTRAP_ERROR",i="UI_FETCH_MERCHANTS",a="FETCH_MERCHANTS_LOADING",c="FETCH_MERCHANTS_SUCCESS",u="FETCH_MERCHANTS_ERROR",l="FETCH_MERCHANTS_META_LOADING",s="FETCH_MERCHANTS_META_SUCCESS",f="FETCH_MERCHANTS_META_ERROR",p="DELETE_EXPIRED_UPSIZED_FLASH_DEALS",d="CLOSE_MERCHANT_DISABLE_NOTIFIER",h="CLOSE_MERCHANT_NOTIFIER",v="UI_FETCH_TOP_MERCHANTS",m="UI_FETCH_UPSIZED_MERCHANTS",g="UI_FETCH_PERSONAL_RECOMMENDATION_MERCHANTS",y="UI_FETCH_MERCHANT_TNC",b="UI_FETCH_WATCH_MERCHANT_LIST",_="UI_CREATE_WATCH_MERCHANT",E="UI_DELETE_WATCH_MERCHANT",w="UI_FETCH_WATCH_RECOMMENDATION_MERCHANT"},21021:
/*!*************************************************!*\
  !*** ./src/shared/constants/priceComparison.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{_K:()=>r,LP:()=>o,tV:()=>i,dY:()=>a});var r="PRICE_COMPARISON/CHANGE_PRICE_COMPARISON_SORT_BY",o="PRICE_COMPARISON/UI_FETCH_PRICE_COMPARISON_OFFERS",i="PRICE_COMPARISON/UI_FETCH_FAVORITES",a=Object.freeze({LOWEST_PRICE:"lp",HIGHEST_PRICE:"hp",HIGHEST_CASHBACK:"hb"})},6172:
/*!*******************************************!*\
  !*** ./src/shared/constants/sidePanel.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{Jc:()=>c,EU:()=>u,gq:()=>l,NJ:()=>s,n3:()=>f,jr:()=>p,If:()=>d});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a=n(/*! ./tabs */18855),c="SIDE_PANEL/VISIT_SIDE_PANEL",u="SIDE_PANEL/OPEN_SIDE_PANEL",l="SIDE_PANEL/CLOSE_SIDE_PANEL",s="SIDE_PANEL/CHANGE_SIDE_PANEL_LOGO_POSITION",f=(r={},i()(r,a.Sd,{screenName:"side_panel_product_tab",featureName:"product_tab"}),i()(r,a.si,{screenName:"side_panel_saved_tab",featureName:"saved_tab"}),r),p="be_sidepanel_cashbacknotifier",d="be_sidepanel_logintoactivate"},90830:
/*!****************************************!*\
  !*** ./src/shared/constants/styles.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{Z:()=>r});var r=2147483647},91369:
/*!****************************************!*\
  !*** ./src/shared/constants/taobao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{YX:()=>r,OZ:()=>o,W5:()=>i,Uc:()=>a});var r="taobao_notifier",o="taobao_cartpage",i="taobao_checkoutpage",a="taobao_tabupdate"},77194:
/*!********************************************!*\
  !*** ./src/shared/hooks/useTrackingsV2.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! react */67294),a=n(/*! react-redux */65858),c=n(/*! ../actionCreators/trackingV2 */1019);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const s=function(){var t=(0,a.I0)(),e=(0,i.useMemo)((function(){return function(t){return Object.keys(c).reduce((function(e,n){return l(l({},e),{},o()({},n,(function(){return t(c[n].apply(c,arguments))})))}),{})}(t)}),[t]);return e}},83582:
/*!********************************************!*\
  !*** ./src/shared/selectors/activation.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{EJ:()=>u,B4:()=>l,fK:()=>s,r6:()=>f,aI:()=>p,GM:()=>d,tm:()=>h,pK:()=>m,_f:()=>g,lE:()=>y});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! shared/constants */62620),c=n(/*! ./merchant */96965),u=(0,i.P1)((function(t){return t.activation.byExt}),c._P,(function(t,e){return t[e]})),l=(0,i.P1)(u,(function(t){return o()(t,"activatedAt",null)})),s=(0,i.P1)(u,(function(t){return o()(t,"visited",null)})),f=(0,i.P1)(s,(function(t){return t===a.P1k})),p=(0,i.P1)(u,(function(t){return o()(t,"activatingId",null)})),d=(0,i.P1)(u,(function(t){return!!o()(t,"activated",null)})),h=(0,i.P1)(u,(function(t){return null!=o()(t,"partnershipId")})),v=(0,i.P1)(u,(function(t){return!(!o()(t,"disabled")||!o()(t,"focusing"))})),m=(0,i.P1)(u,(function(t){return!!o()(t,"disabled")})),g=((0,i.P1)(m,v,(function(t,e){return t&&!e})),(0,i.P1)(d,u,(function(t,e){return t?e:null}))),y=(0,i.P1)(u,(function(t){return o()(t,"shoppingtripId")}))},1245:
/*!********************************************!*\
  !*** ./src/shared/selectors/aliExpress.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{LS:()=>h,eZ:()=>v,Xi:()=>y,aY:()=>b,Fu:()=>_,$F:()=>E});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! lodash/isEmpty */41609),a=n.n(i),c=n(/*! reselect */22222),u=n(/*! shared/constants */62620),l=n(/*! shared/utils/commonUtils */26426),s=n(/*! ./settings/websitePatterns */80905),f=function(t){return t.aliExpress},p=(0,c.P1)(f,(function(t){return t.settings})),d=(0,c.P1)(p,(function(t){return t.closeAliExpressNotifierAt})),h=(0,c.P1)(p,d,(function(t,e){return"number"==typeof e?(0,l.Dy)()-e>u.Zr5:t.aliExpressNotifierOpened})),v=(0,c.P1)([p],(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}})),m=(0,c.P1)(f,(function(t){return t.products})),g=(0,c.P1)(m,s.wg,(function(t,e){return e?o()(t,e,{isFetching:!0}):{}})),y=(0,c.P1)(g,(function(t){return!!t.hasCashback})),b=(0,c.P1)(g,(function(t){var e=t.fetchedAt,n=t.error;if("number"==typeof e){var r=(0,l.Dy)()-e;return a()(n)?r>u.ilb:r>u.tQi}return!0})),_=(0,c.P1)(g,(function(t){return!!t.isFetching})),E=(0,c.P1)(g,(function(t){return!!t.error}))},68093:
/*!*********************************************!*\
  !*** ./src/shared/selectors/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{ko:()=>s,hc:()=>f,Im:()=>h,d3:()=>v,FU:()=>m,Re:()=>y,mU:()=>b,MW:()=>_});var r=n(/*! reselect */22222),o=n(/*! ./settings/websitePatterns */80905),i=n(/*! ./settings/serviceEnableCountry */40062),a=n(/*! ../constants/amsNotifier */41822),c=n(/*! ../constants/apiStatus */90623),u=n(/*! ../utils/commonUtils */26426),l=(0,r.P1)(o.SL,(function(t){return null==t?void 0:t.amsNotifier})),s=(0,r.P1)(l,(function(t,e){return e.url}),(function(t,e){return t.urls.some((function(t){return!!t&&new RegExp(t).test(e)}))})),f=(0,r.P1)(l,(function(t,e){return e}),(function(t,e){var n=e.url,r=e.merchant,o=(null==t?void 0:t.productPageUrls[null==r?void 0:r.urlDomain])||[],i=null;return o.forEach((function(t){var e,r=new RegExp(t),o=n.match(r);null!=o&&null!==(e=o.groups)&&void 0!==e&&e.sid&&(i=o.groups.sid)})),{isProductPage:!!i,sellerId:i}})),p=function(t){return t.amsNotifier},d=(0,r.P1)(p,(function(t){return t.eOutlets})),h=(0,r.P1)(d,(function(t,e){return e}),(function(t,e){var n=e.eOutletId,r=e.sellerId,o=t[n];return o?o[r]:{}})),v=(0,r.P1)(p,(function(t,e){return e}),(function(t,e){var n;return(null===(n=t.tabs[e.tabId])||void 0===n?void 0:n.apiStatus)||c.WI})),m=(0,r.P1)((function(t){return t}),i.Cq,f,(function(t,e){return e}),(function(t,e,n,r){var o=n.isProductPage,i=n.sellerId,a=r.merchant;if(!e||!o)return!1;var c=h(t,{sellerId:i,eOutletId:null==a?void 0:a.eOutletId});return!(null==c||!c.amount)})),g=(0,r.P1)(p,(function(t,e){return null==e?void 0:e.eOutletId}),(function(t,e){return t.settings[e]})),y=(0,r.P1)(g,(function(t){return null==t||!t.closeAt||(0,u.Dy)()-(null==t?void 0:t.closeAt)>a.B5})),b=(0,r.P1)(g,(function(t){var e;return null!==(e=null==t?void 0:t.position)&&void 0!==e?e:{y:.2}})),_=(0,r.P1)(p,(function(t){var e,n=t.settings;return null!==(e=null==n?void 0:n.snoozed)&&void 0!==e?e:{}}))},6688:
/*!*********************************************!*\
  !*** ./src/shared/selectors/experiments.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Zb:()=>f,Qr:()=>p,k:()=>d,IM:()=>h,vb:()=>v});var r=n(/*! reselect */22222),o=n(/*! ./settings */89489),i=n(/*! ./cc */49485);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return t.experiments},l="extension-merchant-off",s=((0,r.P1)(o.TQ,(function(t){var e=[],n=[l];return t.some((function(t){return e.some((function(e){return t===e}))||n.some((function(e){return t.includes(e)}))}))})),(0,r.P1)(u,(function(t){return 0!==Object.keys(t).length})),(0,r.P1)(o.TQ,u,(function(t,e){return Object.keys(e).filter((function(e){return!t.includes(e)}))})),(0,r.P1)(o.TQ,u,i.q,(function(t,e){return e.merchantId}),(function(t,e,n,r){if(!r)return!1;var o,i=t.filter((function(t){return t.includes(l)})),c=a(i);try{for(c.s();!(o=c.n()).done;){var u,s,f,p=a((null===(u=e[o.value])||void 0===u||null===(s=u.payload)||void 0===s?void 0:s[n])||[]);try{for(p.s();!(f=p.n()).done;){var d=f.value;if(d.id===r)return d}}catch(t){p.e(t)}finally{p.f()}}}catch(t){c.e(t)}finally{c.f()}return null}))),f=(0,r.P1)(s,(function(t){return!!t&&!t.on})),p=(0,r.P1)(s,(function(t){return!!t})),d=(0,r.P1)(o.TQ,u,i.q,(function(t,e,n){return t.filter((function(t){return t.includes(l)})).reduce((function(t,r){var o,i,a=((null===(o=e[r])||void 0===o||null===(i=o.payload)||void 0===i?void 0:i[n])||[]).filter((function(t){return!t.on})).map((function(t){return t.id}));return t.concat(a)}),[])})),h=(0,r.P1)(s,f,(function(t,e){return!!t&&(e&&Boolean(t.friendlyNotifierEnabled))})),v=(0,r.P1)(s,f,(function(t,e){return!!t&&(e&&Boolean(t.compliancePopupEnabled))}))},96965:
/*!******************************************!*\
  !*** ./src/shared/selectors/merchant.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{_P:()=>l,$K:()=>s,RX:()=>d,v6:()=>h,Jz:()=>v,wA:()=>m,hY:()=>g,hA:()=>b,V2:()=>_,Iw:()=>E,EP:()=>w,FK:()=>x});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants */62620),c=n(/*! ../utils/commonUtils */26426),u=function(t,e){return e.merchant},l=(0,i.P1)(u,(function(t){return o()(t,"merchantId",-1)})),s=(0,i.P1)(u,(function(t){return o()(t,"name","")})),f=(0,i.P1)(u,(function(t){return o()(t,"cashbackNotifierClosedAt",null)})),p=(0,i.P1)(u,(function(t){return!!o()(t,"popupEnabled")})),d=(0,i.P1)(u,(function(t){return o()(t,"friendlyNotifierEnabled",!1)})),h=(0,i.P1)(u,(function(t){return o()(t,"compliancePopupEnabled",!1)})),v=(0,i.P1)(u,p,(function(t,e){return!!o()(t,"cashbackNotifierEnabled",e)})),m=(0,i.P1)(u,(function(t){return!!o()(t,"confirmationPopupEnabled")})),g=(0,i.P1)(u,(function(t){return!!o()(t,"standDown",!1)})),y=(0,i.P1)(u,(function(t){return o()(t,"cashback",null)})),b=(0,i.P1)(y,(function(t){return Boolean(t&&parseFloat(t.amount))})),_=(0,i.P1)(f,(function(t){if(!t)return!0;var e=(0,c.Dy)();return"number"==typeof t&&e-t>a.PJX})),E=(0,i.P1)(u,(function(t){return!!o()(t,"isTaobao")})),w=function(t){var e;return!(null==t||null===(e=t.oldCashback)||void 0===e||!e.description)},x=(0,i.P1)(u,(function(t){return o()(t,"disableNotifierOpened",!1)}));(0,i.P1)(u,(function(t){return o()(t,"inBrowserCrawlerEnabled",!1)}))},26846:
/*!*******************************************!*\
  !*** ./src/shared/selectors/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{pF:()=>x,FO:()=>P,go:()=>C,BD:()=>T,Lz:()=>N,_t:()=>S,Ci:()=>A,cY:()=>j,Ay:()=>R,Mp:()=>M,yn:()=>F,BF:()=>D,_P:()=>H,u7:()=>U,hq:()=>z,hb:()=>G,kS:()=>Z,j_:()=>X,f6:()=>V,NQ:()=>B,WZ:()=>K,UE:()=>W,hv:()=>Y});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! lodash/cloneDeep */50361),u=n.n(c),l=n(/*! lodash/get */27361),s=n.n(l),f=n(/*! lodash/isEmpty */41609),p=n.n(f),d=n(/*! lodash/isEqual */18446),h=n.n(d),v=n(/*! reselect */22222),m=n(/*! reselect */44815),g=n(/*! ../constants/apiStatus */90623),y=n(/*! ./tabs */45887),b=n(/*! ../urls */4536),_=n(/*! ./activation */83582),E=n(/*! ./experiments */6688);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var x=function(t){return t.merchants},P=(0,v.P1)(x,(function(t){var e=t.byId;return u()(e)})),C=(0,v.P1)(x,P,(function(t,e){return t.all.map((function(t){return e[t]})).filter(Boolean)})),I=(0,v.P1)(x,P,(function(t,e){return t.topIds.map((function(t){return e[t]})).filter(Boolean)})),T=(0,v.P1)(x,P,(function(t,e){return t.personalRecommendationIds.map((function(t){return e[t]})).filter(Boolean)})),k=function(t,e){return e.url},O=function(t,e){return null==e?void 0:e.id};var L,N=(0,v.P1)(P,O,(function(t,e){return t[e]})),S=((0,v.P1)([C],(function(t){return t.filter((function(t){return t.isTaobao}))})),(0,v.wN)(m.PW,h())([C,k,function(t,e){return(0,b.lb)(e.url)}],(function(t,e,n){if(n){var r=a()(n,2),o=r[0],i=r[1],c=t.filter((function(t){var n=t.urlPattern?new RegExp(t.urlPattern):null;return(o.indexOf(t.urlDomain)>=0||i.indexOf(t.urlDomain)>=0)&&n&&n.test(e)}));if(c.length)return u=c,l=a()(u,1)[0],u.forEach((function(t){t.rx>l.rx&&(l=t)})),l}var u,l;return null}))),A=(0,v.P1)((function(t,e){return e.merchant}),k,y.jv,(function(t,e,n){var r=e||n;return t&&t.metadata&&t.metadata.confirmationUrlsAndPatterns&&Array.isArray(t.metadata.confirmationUrlsAndPatterns)&&t.metadata.confirmationUrlsAndPatterns.find((function(t){return!!t&&!!t.confirmationUrlPattern&&new RegExp(t.confirmationUrlPattern).test(r)}))||{}})),j=(0,v.P1)([A],(function(t){return!p()(t)})),R=((0,v.P1)([function(t){return t},C,k],(function(t,e,n){return e.find((function(e){return j(t,{merchant:e,url:n})}))})),(0,v.P1)(N,(function(t){return t})),(0,v.P1)([C,O],(function(t,e){return t.find((function(t){var n=Object.keys(t.partnershipStores);return n.length>0&&n.indexOf("".concat(e))>-1}))})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.merchant}],(function(t,e,n){var r;if(null==n||null===(r=n.metadata)||void 0===r||!r.checkReferrer)return!1;if(!e)return!0;var o=S(t,{url:e});return!((0,b.Sj)(t.cc,e)||(null==o?void 0:o.merchantId)===n.merchantId)})),(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.currentUrl},function(t,e){return e.merchant}],(function(t,e,n,r){var o;if(null==r||null===(o=r.metadata)||void 0===o||!o.checkReferrer)return!1;if(!e)return!0;var i=(0,b.Sj)(t.cc,e),a="booking-com"===r.shortname,c=Boolean(new URL(e).searchParams.get("aid")),u=Boolean(new URL(n).searchParams.get("aid"));return!(i||!a)&&!(c&&u)})),(0,v.P1)([function(t,e){return e.merchant},_.tm,_.EJ],(function(t,e,n){if(!t||!e)return t;var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),i=t.partnershipStores[n.partnershipId];return r.activationUrl=i.activationUrl,r.activationUrl=i.activationUrl,r.cashbackAmount=i.cashbackAmount,r.cashbackAmount=i.cashbackAmount,r.cashbackHeader=i.cashbackHeader,r.reActivateX=i.reActivateX,r.cashbackTiers=i.cashbackTiers,r.cashbackTiers=i.cashbackTiers,r.cashback=i.cashback,r}))),M=((0,v.P1)([function(t,e){return e.merchant}],(function(t){return t&&t.metadata.reloadTabs})),(0,v.P1)(N,(function(t){return t&&t.standDownAt})),(0,v.P1)(N,(function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)}))),F=(0,v.P1)([I],(function(t){return t.filter((function(t){var e;return!!parseFloat(null==t||null===(e=t.cashback)||void 0===e?void 0:e.amount)}))})),D=(0,v.P1)([function(t,e){return e.links.filter((function(t){return!t.getAttribute("shopback-serp")}))},function(t){return t}],(function(t,e){var n=[];return t.forEach((function(t){var r=t.getAttribute("href");if((0,b.RS)(r)){var o=new URL(r).pathname.split("/").find((function(t){return t.startsWith("RU=")}));o&&(r=decodeURIComponent(o.split("=").pop()))}var i=S(e,{url:r}),a=(0,E.Zb)(e,{merchantId:null==i?void 0:i.merchantId});i&&!1!==i.isSerpEnabled&&!a&&n.push({link:t,merchant:i})})),n})),H=((0,v.P1)([C],(function(t){var e={};return t.forEach((function(t){e[t.merchantId]={logoUrl:t.logoUrl,activationUrl:t.activationUrl,hasCashback:!!t.cashback&&!!parseFloat(t.cashback.amount)}})),e})),(0,v.P1)(C,(function(t,e){return e.affiliateId}),(function(t,e){return t.find((function(t){return t.affiliatedId===e}))})),(0,v.P1)([S],(function(t){return t?t.merchantId:-1}))),U=(0,v.P1)(N,(function(t){return s()(t,"cashbackTiers",[])})),z=(0,v.P1)(x,(function(t){return s()(t,"stats")})),G=(0,v.P1)(z,(function(t){return s()(t,"topMerchantsApiStatus",g.WI)})),Z=(0,v.P1)(z,(function(t){return s()(t,"isPersonalRecommendationLoading",!1)})),X=(0,v.P1)(N,(function(t){return s()(t,"tnc")})),V=(0,v.P1)(z,(function(t){return s()(t,"isTnCLoading",!1)})),B=(0,v.P1)(z,(function(t){return s()(t,"tncApiStatus",g.WI)})),K=((0,v.P1)(z,(function(t){return s()(t,"merchantsDetailApiStatus",g.WI)})),(0,v.P1)((L=N,function(t,e){return p()(t)?null:L(t,e)}),(function(t,e){return e.merchant}),(function(t,e){var n=t||e||{},r=n.merchantId,o=n.name,i=n.cashback;return{merchant_id:r||null,merchant_name:o||null,is_affiliate_merchant:!!parseFloat(null==i?void 0:i.amount)||!1}}))),W=(0,v.P1)(x,P,(function(t,e){var n,r=t.upsizedIds;return(null==r||null===(n=r.map)||void 0===n?void 0:n.call(r,(function(t){return null==e?void 0:e[t]})).filter((function(t){var e,n;if(!t)return!1;var r=parseFloat(null===(e=t.cashback)||void 0===e?void 0:e.amount),o=parseFloat(null===(n=t.oldCashback)||void 0===n?void 0:n.amount);return r>0&&o>0&&r>o})))||[]})),Y=(0,v.P1)(z,(function(t){return s()(t,"isUpsizedMerchantsLoading",!1)}));(0,v.P1)(z,(function(t){return s()(t,"upsizedMerchantApiStatus",g.WI)}))},67522:
/*!********************************************!*\
  !*** ./src/shared/selectors/permission.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{nu:()=>a,V7:()=>c,Cx:()=>u});var r=n(/*! reselect */22222),o=n(/*! ../constants */62620),i=function(t,e){if(e.merchant)return t.permission[e.merchant.merchantId]},a=function(t){return Object.keys(t.permission).length>0},c=(0,r.P1)([i],(function(t){return!!t})),u=(0,r.P1)([i],(function(t){if(t){if(!t.ts)return!0;var e=t.ts;return Date.now()-e>o.NkW}return!1}))},87142:
/*!*************************************************!*\
  !*** ./src/shared/selectors/priceComparison.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{l8:()=>y,C2:()=>b,eM:()=>_,JL:()=>E,dg:()=>w,$K:()=>x,KI:()=>P,uf:()=>C,UT:()=>I,yF:()=>L,kI:()=>S,Tb:()=>A,lR:()=>M,N3:()=>F,vV:()=>D,Or:()=>H});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! lodash/isEmpty */41609),a=n.n(i),c=n(/*! reselect */22222),u=n(/*! ../constants/priceComparison */21021),l=n(/*! ../utils/currencyUtils */419),s=n(/*! ./cc */49485),f=n(/*! ./priceHistory */21024),p=function(t){return t.priceComparison},d=(0,c.P1)(p,(function(t){return t.settings})),h=((0,c.P1)(d,(function(t){return t.isOpen})),(0,c.P1)(d,(function(t){return t.visited})),(0,c.P1)(d,(function(t){return t.position}))),v=(0,c.P1)(d,(function(t){return t.sortBy||u.dY.LOWEST_PRICE})),m=(0,c.P1)(p,(function(t){return t.tabs})),g=(0,c.P1)(m,(function(t,e){return e.tabId}),(function(t,e){return t[e]})),y=(0,c.P1)(g,(function(t){return o()(t,"isLoading",!0)})),b=(0,c.P1)(g,(function(t){return o()(t,"error")})),_=(0,c.P1)(g,(function(t){return o()(t,"productId")})),E=(0,c.P1)(g,(function(t){return o()(t,"offerId")})),w=(0,c.P1)(g,(function(t){return o()(t,"compareOfferIds",[])})),x=(0,c.P1)(g,(function(t){return o()(t,"merchantName")})),P=(0,c.P1)(g,(function(t){return o()(t,"orcaMerchantId")})),C=(0,c.P1)(g,(function(t){return o()(t,"hasCashback",!0)})),I=(0,c.P1)(g,v,(function(t,e){return o()(t,"sortBy")||e})),T=((0,c.P1)(g,h,(function(t,e){return o()(t,"position")||e})),(0,c.P1)(p,(function(t){return t.products}))),k=(0,c.P1)((function(t,e){return e.productId}),_,(function(t,e){return t||e})),O=(0,c.P1)(k,T,(function(t,e){return e[t]})),L=(0,c.P1)(O,(function(t){return o()(t,"minPrice")})),N=(0,c.P1)(p,(function(t){return t.offers})),S=(0,c.P1)((function(t,e){return e.offerId}),E,(function(t,e){return t||e})),A=(0,c.P1)(w,N,(function(t,e){return t.map((function(t){return e[t]}))})),j=(0,c.P1)(S,N,(function(t,e){return e[t]})),R=(0,c.P1)(j,O,s.q,(function(t,e,n){if(!e||!t)return null;var r=t.price-e.minPrice;return r>0?browser.i18n.getMessage("price_comparison_not_cheapest_price",[(0,l.x)(r,n,{style:"decimal"})]):browser.i18n.getMessage("price_comparison_cheapest_price",[(0,l.x)(e.minPrice,n,{style:"decimal"})])})),M=(0,c.P1)(w,(function(t){return t.length>0?null:browser.i18n.getMessage("price_comparison_no_comparable_result")})),F=(0,c.P1)(p,(function(t){return t.favoriteMerchantLists})),D=(0,c.P1)(A,(function(t){return!a()(t)})),H=(0,c.P1)(D,R,f.ny,M,(function(t,e,n,r){return t&&(e||n)||r}))},21024:
/*!**********************************************!*\
  !*** ./src/shared/selectors/priceHistory.js ***!
  \**********************************************/(t,e,n)=>{n.d(e,{$T:()=>f,ru:()=>p,hY:()=>d,Kh:()=>h,ny:()=>m});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! lodash/isNumber */81763),a=n.n(i),c=n(/*! reselect */22222),u=n(/*! ../utils/currencyUtils */419),l=n(/*! ./cc */49485),s=(0,c.P1)((function(t){return t.priceHistory}),(function(t){return t.tabs})),f=(0,c.P1)(s,(function(t,e){return e.tabId}),(function(t,e){return null==t?void 0:t[e]})),p=(0,c.P1)(f,(function(t){return!!o()(t,"offerId",null)})),d=(0,c.P1)(f,(function(t){return o()(t,"isLoading",!0)})),h=(0,c.P1)(f,(function(t){return o()(t,"offer.storeImageUrlLarge",null)})),v=(0,c.P1)(f,(function(t){return o()(t,"latestPriceChange")})),m=(0,c.P1)(v,l.q,(function(t,e){return a()(t)&&0!==t?t>0?browser.i18n.getMessage("price_comparison_price_increase",[(0,u.x)("".concat(t),e,{style:"decimal"})]):browser.i18n.getMessage("price_comparison_price_decrease",[(0,u.x)("".concat(-t),e,{style:"decimal"})]):null}))},40062:
/*!***************************************************************!*\
  !*** ./src/shared/selectors/settings/serviceEnableCountry.js ***!
  \***************************************************************/(t,e,n)=>{n.d(e,{OY:()=>f,tV:()=>p,CW:()=>d,f9:()=>h,Cq:()=>v,Bp:()=>m,OU:()=>g,I_:()=>y,G$:()=>b,y8:()=>_});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! semver/functions/gte */25903),c=n.n(a),u=n(/*! shared/constants */62620),l=n(/*! ../extensionMeta */51693),s=n(/*! ./ */89489),f=function(){return u.G9E},p=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.aliExpress)})),d=(0,i.P1)(s.bS,l.bo,s.jM,(function(t,e,n){return u.G9E&&window.location.pathname===t&&c()(e,n)})),h=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.showSidePanel)})),v=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.showAmsNotifier)})),m=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableVoucher)})),g=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableWatchlist)})),y=((0,i.P1)(s.Gw,(function(t){return o()(t,"enableInBrowserCrawler",!1)})),(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableFirebase)}))),b=((0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableLogForTrack)})),(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableNewRegion)})),(0,i.P1)(s.Gw,(function(t){return new Set(t.enableCountries)}))),_=(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableActivatorInContent)}));(0,i.P1)(s.Gw,(function(t){return!(null==t||!t.enableActivatorWithWebMessage)}))},80905:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/websitePatterns.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{SL:()=>a,KT:()=>c,Ql:()=>l,wg:()=>s,xf:()=>d,am:()=>v,WW:()=>m});var r=n(/*! reselect */22222),o=n(/*! ../tabs */45887),i=n(/*! ./ */89489),a=(0,r.P1)(i.Gw,(function(t){return t.websitePatterns})),c=(0,r.P1)(a,(function(t){return t.aliExpressNavigator})),u=((0,r.P1)(c,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),(0,r.P1)(c,(function(t){var e=t.productPageUrls;return e.length?e.map((function(t){return new RegExp(t)})):[]}))),l=(0,r.P1)(u,o.jv,(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),s=(0,r.P1)(u,o.jv,(function(t,e){return e.url}),(function(t,e,n){var r=n||e;if(!t.length)return null;for(var o=null,i=0;i<t.length&&!(o=r.match(t[i]));++i);return o&&o.groups?o.groups.pid:null})),f=(0,r.P1)(a,(function(t){return t.aliExpressCartPageIndicator})),p=(0,r.P1)(f,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),d=(0,r.P1)(p,(function(t,e){return e.url}),(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),h=(0,r.P1)(f,(function(t){return t.cssSelectors||{}})),v=(0,r.P1)(h,(function(t){return t.productField})),m=(0,r.P1)(h,(function(t){return t.productLink}))},53418:
/*!*******************************************!*\
  !*** ./src/shared/selectors/sidePanel.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{dg:()=>u,W6:()=>s,gg:()=>f,c3:()=>p,fK:()=>d,QA:()=>h,KG:()=>v,eA:()=>m,pI:()=>g,$K:()=>y,JR:()=>b});var r=n(/*! reselect */22222),o=n(/*! ./priceComparison */87142),i=n(/*! ./priceHistory */21024),a=n(/*! ./tabs */45887),c=function(t){return null==t?void 0:t.sidePanel},u=(0,r.P1)(c,(function(t){return null==t?void 0:t.tabConfigs})),l=(0,r.P1)(c,(function(t){return t.settings})),s=(0,r.P1)(l,(function(t){return!(null!=t&&t.minimizedSidePanel)})),f=(0,r.P1)(l,(function(t){return null==t?void 0:t.isMessagePromptOpen})),p=(0,r.P1)(l,(function(t){return null==t?void 0:t.message})),d=(0,r.P1)(l,(function(t){return null==t?void 0:t.visited})),h=(0,r.P1)(l,(function(t){return null==t?void 0:t.position})),v=(0,r.P1)(o.l8,i.hY,(function(t,e){return t||e})),m=(0,r.P1)(l,(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}})),g=(0,r.P1)(l,(function(t){var e;return null!==(e=null==t?void 0:t.minimizedSidePanel)&&void 0!==e&&e})),y=(0,r.P1)(a.f9,o.$K,(function(t,e){return t||e})),b=(0,r.P1)(a.k3,o.KI,(function(t,e){return t||e}))},45887:
/*!**************************************!*\
  !*** ./src/shared/selectors/tabs.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{jv:()=>u,f4:()=>l,k3:()=>s,f9:()=>f,ed:()=>p,Lo:()=>d,Ju:()=>h});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=function(t){return t.tabs},c=(0,i.P1)(a,(function(t,e){return e.tabId}),(function(t,e){return t[e]})),u=(0,i.P1)(c,(function(t){return o()(t,"url",null)})),l=(0,i.P1)(c,(function(t){return(null==t?void 0:t.prevUrl)||(null==t?void 0:t.openerUrl)||null})),s=((0,i.P1)(c,(function(t){return o()(t,"openerUrl",null)})),(0,i.P1)(c,(function(t){return o()(t,"merchantId",null)}))),f=(0,i.P1)(c,(function(t){return o()(t,"merchantName",null)})),p=((0,i.P1)(c,(function(t){return o()(t,"shoppingtripId",null)})),(0,i.P1)(c,(function(t){return!!o()(t,"autoClose",!1)}))),d=(0,i.P1)(c,(function(t){return void 0===t})),h=(0,i.P1)(a,(function(t){return t?Object.keys(t).filter((function(t){return parseInt(t,10)>-1})):[]}))},11775:
/*!****************************************!*\
  !*** ./src/shared/selectors/taoBao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{Vj:()=>c,rA:()=>l,oF:()=>s,n2:()=>f,xK:()=>p,tf:()=>d,Ne:()=>v,Dp:()=>m,lQ:()=>g,xg:()=>y,x6:()=>w,wm:()=>x,BJ:()=>P,n6:()=>C,cK:()=>I});var r=n(/*! reselect */22222),o=function(t,e){return e.url},i=function(t,e){return e.referrer},a=function(t){return t.taoBao},c=function(t){return t.settings.taoBao2021},u=(0,r.P1)([c],(function(t){return t.productPagePatterns})),l=(0,r.P1)([c],(function(t){return t.shoppingCartPagePatterns})),s=(0,r.P1)([a,function(t,e){return e.tabId}],(function(t,e){return t.activatedProductIdInTab[e]})),f=(0,r.P1)([o],(function(t){return new URL(t).searchParams.get("id")||""})),p=(0,r.P1)([a],(function(t){return!!t.notifierOpened})),d=(0,r.P1)([a],(function(t){return!!t.confirmationNotifierOpened})),h=(0,r.P1)([a,f],(function(t,e){return t.products[e]})),v=(0,r.P1)([a],(function(t){return t.products})),m=((0,r.P1)([a],(function(t){return Object.keys(t.products)})),(0,r.P1)([u,f,o],(function(t,e,n){return!!(e&&t&&t.some((function(t){return new RegExp(t).test(n)})))}))),g=(0,r.P1)([c,o],(function(t,e){var n=new URL(e);return n.searchParams.has(t.aliTrackIdParamKey)&&n.searchParams.get(t.aliTrackIdParamKey).startsWith(t.aliTrackIdParamValue)})),y=(0,r.P1)([function(t,e){return e.merchant}],(function(t){return!(!t||!t.popupEnabled)})),b=(0,r.P1)([i],(function(t){return!(!t||!new URL(t).searchParams.get("key"))})),_=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.aiTaoBaoSearchPattern).test(e)})),E=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.taoBaoCouponPageUrlPattern).test(e)})),w=(0,r.P1)([g,_,E,b],(function(t,e,n,r){return!(!t||!(e&&r||n))})),x=(0,r.P1)([m,h,w],(function(t,e,n){return!(!t||n||e&&!e.apiError)})),P=(0,r.P1)([l,o],(function(t,e){return t.some((function(t){return new RegExp(t).test(e)}))})),C=(0,r.P1)([a],(function(t){return t.closeTaoBaoNotifierAt})),I=(0,r.P1)([a],(function(t){var e,n;return null!==(e=null==t||null===(n=t.settings)||void 0===n?void 0:n.snoozed)&&void 0!==e?e:{}}))},45786:
/*!**************************************!*\
  !*** ./src/shared/selectors/user.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{jl:()=>c,Yv:()=>u,bG:()=>l,zw:()=>s,kv:()=>f,UN:()=>p,dC:()=>d});var r=n(/*! reselect */22222),o=n(/*! ../constants/apiStatus */90623),i=function(t){return t.user},a=function(t,e){return e.cc},c=(0,r.P1)([i],(function(t){return!!t.token})),u=(0,r.P1)([i,a],(function(t,e){return!!t.loginHistories[e]})),l=((0,r.P1)([i,a],(function(t,e){return t.loginHistories[e]})),(0,r.P1)(i,(function(t){return null==t?void 0:t.token})),(0,r.P1)(i,(function(t){return null==t?void 0:t.refreshToken})),(0,r.P1)(i,(function(t){return null==t?void 0:t.info}))),s=((0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.id})),(0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.uuid})),(0,r.P1)(l,(function(t){return(null==t?void 0:t.cashbacks)||[]}))),f=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isFetchingUserInfo)||!1})),p=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsFetching)||!1})),d=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsError)||!1}));(0,r.P1)(i,(function(t){return(null==t?void 0:t.recentCbsAPIStatus)||o.WI})),(0,r.P1)(i,(function(t){return(null==t?void 0:t.accountAPIStatus)||o.WI}))},7358:
/*!******************************************!*\
  !*** ./src/shared/selectors/vouchers.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{Fq:()=>l,wi:()=>f,_S:()=>p,op:()=>d,AI:()=>h,vh:()=>v,u7:()=>m});var r=n(/*! lodash/isObject */13218),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants/apiStatus */90623),c=function(t){return t.vouchers},u=function(t){return t.vouchers.settings},l=(0,i.P1)((function(t){return t.settings}),(function(t){return(null==t?void 0:t.voucherMerchants)||{}})),s=function(t,e){return e.merchantName},f=(0,i.P1)([l,function(t,e){return e.url}],(function(t,e){var n;if(!e)return"";var r=new URL(e),o=r.hostname,i=r.pathname;if(1===(null==t||null===(n=t[o])||void 0===n?void 0:n.length))return t[o][0].merchantName;if(o in t){var a=t[o],c="".concat(o).concat(i),u=a.find((function(t){return t.merchantUrl.replace(/^https?:\/\//,"").split("/").every((function(t){return c.indexOf(t)>-1}))}));if(u)return(null==u?void 0:u.merchantName)||""}return""})),p=(0,i.P1)([c,s],(function(t,e){return o()(t)&&e in t?t[e]:{}})),d=(0,i.P1)([u,s],(function(t,e){var n,r;return null===(n=null==t||null===(r=t[e])||void 0===r?void 0:r.display)||void 0===n||n})),h=(0,i.P1)([c,s],(function(t,e){var n;return(null==t||null===(n=t[e])||void 0===n?void 0:n.apiStatus)||a.WI})),v=(0,i.P1)([u,s],(function(t,e){var n,r;return null!==(n=null==t||null===(r=t[e])||void 0===r?void 0:r.position)&&void 0!==n?n:{y:.1}})),m=(0,i.P1)([u],(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}}))},43793:
/*!********************************************!*\
  !*** ./src/shared/styledComponents/css.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{vL:()=>o,Z4:()=>i,_R:()=>a});var r=n(/*! styled-components */23588),o=(0,r.iv)(["display:flex;flex-direction:row;"]),i=(0,r.iv)(["display:flex;flex-direction:column;"]),a=(0,r.iv)(["display:flex;justify-content:center;align-items:center;"])},20136:
/*!**********************************************!*\
  !*** ./src/shared/styledComponents/index.js ***!
  \**********************************************/(t,e,n)=>{n.d(e,{Dz:()=>l,NH:()=>s,x1:()=>f,zl:()=>p,sX:()=>d,z4:()=>h,AE:()=>v,xv:()=>m,zx:()=>g,PZ:()=>y,Dd:()=>_});var r=n(/*! polished */56978),o=n(/*! styled-components */23588),i=n(/*! ../../assets/shared/close3.png */19765),a=n(/*! ../constants */62620),c=n(/*! ./css */43793),u=null===!1&&!1,l=o.ZP.div.withConfig({displayName:"styledComponents__EmptyWidth",componentId:"jmlbk0-0"})(["&&{width:",";}"],(function(t){return t.width})),s=o.ZP.div.withConfig({displayName:"styledComponents__EmptyHeight",componentId:"jmlbk0-1"})(["&&{min-height:",";}"],(function(t){return t.height})),f=o.ZP.div.withConfig({displayName:"styledComponents__Line",componentId:"jmlbk0-2"})(["&&{width:",";height:",";border:none;border-top:solid 1px #ebebeb;background-color:",";}"],(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"1px"}),(function(t){return t.backgroundColor?t.backgroundColor:null})),p=((0,o.ZP)(f).withConfig({displayName:"styledComponents__DottedLine",componentId:"jmlbk0-3"})(["&&{border-top:dotted 2px #ebebeb;width:",";}"],(function(t){return t.width?t.width:"100px"})),o.ZP.div.withConfig({displayName:"styledComponents__FlexRowContainer",componentId:"jmlbk0-4"})(["&&{",";flex:",";width:",";margin:",";}"],c.vL,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.margin?t.margin:null}))),d=(0,o.ZP)(p).withConfig({displayName:"styledComponents__FlexRowCenterContainer",componentId:"jmlbk0-5"})(["&&{",";}"],c._R),h=o.ZP.div.withConfig({displayName:"styledComponents__FlexColumnContainer",componentId:"jmlbk0-6"})(["&&{",";flex:",";width:",";height:",";margin:",";}"],c.Z4,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.height?t.height:null}),(function(t){return t.margin?t.margin:null})),v=(0,o.ZP)(h).withConfig({displayName:"styledComponents__FlexColumnCenterContainer",componentId:"jmlbk0-7"})(["&&{",";}"],c._R),m=(o.ZP.div.withConfig({displayName:"styledComponents__CenterScreenContainer",componentId:"jmlbk0-8"})(["&&{",";position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647 !important;background-color:",";}"],c._R,(function(t){return t.backgroundColor?t.backgroundColor:null})),o.ZP.div.withConfig({displayName:"styledComponents__Text",componentId:"jmlbk0-9"})(["&&{",";}"],(function(t){var e=t.width,n=void 0===e?"unset":e,r=t.height,i=void 0===r?"unset":r,c=t.fontFamily,l=void 0===c?u?a.kqf:a.utx:c,s=t.fontSize,f=void 0===s?"16px":s,p=t.fontWeight,d=void 0===p?"normal":p,h=t.fontStyle,v=void 0===h?"normal":h,m=t.fontStretch,g=void 0===m?"normal":m,y=t.lineHeight,b=void 0===y?"normal":y,_=t.letterSpacing,E=void 0===_?"normal":_,w=t.textAlign,x=void 0===w?"center":w,P=t.color,C=void 0===P?"#40485a":P,I=t.cursor,T=void 0===I?"unset":I,k=t.margin,O=void 0===k?"unset":k,L=t.whiteSpace,N=void 0===L?"unset":L,S=t.customStyle,A=void 0===S?{}:S;return(0,o.iv)(["width:",";height:",";font-family:"," !important;font-size:",";font-weight:",";font-style:",";font-stretch:",";line-height:",";letter-spacing:",";text-align:",";color:",";cursor:",";margin:",";white-space:",";",","],n,i,l,f,d,v,g,b,E,x,C,T,O,N,A)}))),g=o.ZP.div.withConfig({displayName:"styledComponents__Button",componentId:"jmlbk0-10"})(["&&{",";}"],(function(t){var e=t.position,n=void 0===e?"unset":e,r=t.top,i=void 0===r?"unset":r,a=t.bottom,c=void 0===a?"unset":a,u=t.left,l=void 0===u?"unset":u,s=t.right,f=void 0===s?"unset":s,p=t.width,d=void 0===p?"262px":p,h=t.height,v=void 0===h?"40px":h,m=t.borderRadius,g=void 0===m?"3px":m,y=t.backgroundColor,b=void 0===y?"#ff3407":y,_=t.backgroundImage,E=void 0===_?"unset":_,w=t.color,x=void 0===w?"unset":w,P=t.cursor,C=void 0===P?"unset":P,I=t.margin,T=void 0===I?"unset":I;return(0,o.iv)(["display:flex;justify-content:center;align-items:center;position:",";top:",";bottom:",";left:",";right:",";width:",";height:",";border-radius:",";background-color:",";background-image:",";color:",";cursor:",";margin:",";"],n,i,c,l,f,d,v,g,b,E,x,C,T)})),y=o.ZP.div.withConfig({displayName:"styledComponents__CloseButton",componentId:"jmlbk0-11"})(["&&{background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;width:"," !important;height:"," !important;position:absolute !important;top:","!important;right:","!important;cursor:pointer !important;z-index:2147483647 !important;}"],i,(function(t){return t.width?t.width:"14px"}),(function(t){return t.height?t.height:"14px"}),(function(t){return t.top?t.top:"56px"}),(function(t){return t.right?t.right:"16px"})),b=o.ZP.div.withConfig({displayName:"styledComponents__HalfCircle",componentId:"jmlbk0-12"})(["&&{width:","px;height:","px;background-color:",";}"],(function(t){return t.size}),(function(t){return 2*t.size}),(function(t){return t.backgroundColor?t.backgroundColor:"#9e978e"})),_=((0,o.ZP)(b).withConfig({displayName:"styledComponents__RightHalfCircle",componentId:"jmlbk0-13"})(["&&{border-bottom-right-radius:","px;border-top-right-radius:","px;background-image:linear-gradient(to top right,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),(0,o.ZP)(b).withConfig({displayName:"styledComponents__LeftHalfCircle",componentId:"jmlbk0-14"})(["&&{border-bottom-left-radius:","px;border-top-left-radius:","px;background-image:linear-gradient(to top left,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),o.ZP.div.withConfig({displayName:"styledComponents__GradientGreyRectangle",componentId:"jmlbk0-15"})(["&&{width:",";height:",";position:absolute;background:-webkit-linear-gradient(#ffffff,90%,#f8f8f8);background:-o-linear-gradient(#ffffff,90%,#f8f8f8);background:-moz-linear-gradient(#ffffff,90%,#f8f8f8);background:linear-gradient(#ffffff,90%,#f8f8f8);z-index:0;}"],(function(t){return t.width?t.width:"600px"}),(function(t){return t.height?t.height:"40px"})),o.ZP.div.withConfig({displayName:"styledComponents__CheckboxDiv",componentId:"jmlbk0-16"})(["&&{display:flex;justify-content:",";align-items:",";width:",";height:",";border-radius:",";background-color:",";cursor:",";}"],(function(t){return t.justifyContent?t.justifyContent:"left"}),(function(t){return t.alignItems?t.alignItems:"left"}),(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"40px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.backgroundColor?t.backgroundColor:"#ffffff"}),(function(t){return t.cursor?t.cursor:null})),o.ZP.input.attrs((function(t){return{type:t.type||"checkbox"}})).withConfig({displayName:"styledComponents__Checkbox",componentId:"jmlbk0-17"})(["&&{top:0;left:0;cursor:pointer !important;display:block !important;opacity:"," !important;position:"," !important;width:"," !important;height:"," !important;border-radius:",";border:solid 1px #d6d6d6 !important;background-color:#ffffff !important;padding:"," !important;margin:",";appearance:",";}"],(function(t){return t.opacity?t.opacity:"100"}),(function(t){return t.position?t.position:"static"}),(function(t){return t.width?t.width:"16px"}),(function(t){return t.height?t.height:"16px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.padding?t.padding:"0"}),(function(t){return t.margin?t.margin:"0 0 0 0"}),(function(t){return t.appearance?t.appearance:"none"})),o.ZP.div.withConfig({displayName:"styledComponents__SearchResultNumber",componentId:"jmlbk0-18"})(["&&{font-family:",";min-height:22px;font-size:16px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:1.38;letter-spacing:normal;color:#40485a;margin-left:16px;margin-bottom:8px;display:",";}"],a.utx,(function(t){return t.displayResult})),(0,o.ZP)(m).withConfig({displayName:"styledComponents__EllipsisText",componentId:"jmlbk0-19"})(["&&{",";}"],(0,r.LH)()))},26426:
/*!*****************************************!*\
  !*** ./src/shared/utils/commonUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{Dy:()=>r});n(/*! @babel/runtime/helpers/typeof */50008),n(/*! @babel/runtime/helpers/asyncToGenerator */48926),n(/*! @babel/runtime/helpers/defineProperty */59713),n(/*! lodash/isArray */1469),n(/*! lodash/merge */82492),n(/*! lodash/mergeWith */30236);var r=function(){return Date.now()}},51905:
/*!******************************************!*\
  !*** ./src/shared/utils/countryUtils.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{$A:()=>o});var r=n(/*! ../constants/countries */53437),o=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.zO.includes(null==e||null===(t=e.toUpperCase)||void 0===t?void 0:t.call(e))}},419:
/*!*******************************************************!*\
  !*** ./src/shared/utils/currencyUtils.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{x:()=>u});var r=n(53437),o={AU:"AUD",ID:"IDR",MY:"MYR",PH:"PHP",SG:"SGD",TH:"THB",TW:"NTD",KR:"KRW",HK:"HKD",DE:"EUR"},i={AU:"$",ID:"Rp ",MY:"RM",PH:"P",SG:"$",TH:"\u0e3f",TW:"NT$",KR:"\uc6d0",HK:"HK$",DE:"\u20ac"},a=[o.KR,o.DE],c=[o.KR,o.ID],u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=function(t){var e=t.toUpperCase();return{style:"currency",locale:r.fR[e],currency:o[e],symbol:i[e]}}(e),l=Object.assign({},u,n),s=l.style,f=l.locale,p=l.currency,d=l.symbol,h=a.includes(p),v=c.includes(p)?Math.floor(t):t,m={style:s,currency:p,currencyDisplay:"code",minimumFractionDigits:Number.isInteger(v)?0:2,maximumFractionDigits:2},g=null==v?void 0:v.toLocaleString(f,m).replace(p,"").trim();return h?"".concat(g).concat(d):"".concat(d).concat(g)}},63575:
/*!**********************************************************!*\
  !*** ./src/shared/utils/fetchUtils/index.js + 6 modules ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{E:()=>$,Z:()=>et});var r=n(53131),o=n.n(r),i=n(59713),a=n.n(i),c=n(9669),u=n.n(c),l=n(82492),s=n.n(l),f=n(62620);const p={UNSUPPORTED_ERROR:900};var d=n(21934),h=n(4536),v=n(51905),m=n(8854),g=n(25903),y=n.n(g),b=n(51693),_=n(89489),E=function(t){var e=(0,b.bo)(t),n=(0,_.jM)(t);return y()(e,n)},w=n(50008),x=n.n(w),P=n(48926),C=n.n(P),I=n(94097),T=n.n(I),k=n(85061),O=n.n(k),L=n(36026),N=n.n(L),S=n(15327),A=n.n(S),j=n(64867);function R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */R=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new I(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&n.call(g,i)&&(v=g);var y=h.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==x()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,c,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function M(t,e){return F.apply(this,arguments)}function F(){return(F=C()(R().mark((function t(e,n){var r,o;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",O()("Network Error",n,null,e));case 9:if(o={ok:r.ok,status:r.status,statusText:r.statusText,headers:new Headers(r.headers),config:n,request:e},!(r.status>=200&&204!==r.status)){t.next=34;break}t.t1=n.responseType,t.next="arraybuffer"===t.t1?14:"blob"===t.t1?18:"json"===t.t1?22:"formData"===t.t1?26:30;break;case 14:return t.next=16,r.arrayBuffer();case 16:case 20:case 24:case 28:case 32:return o.data=t.sent,t.abrupt("break",34);case 18:return t.next=20,r.blob();case 22:return t.next=24,r.json();case 26:return t.next=28,r.formData();case 30:return t.next=32,r.text();case 34:return t.abrupt("return",o);case 35:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function D(t){var e=new Headers(t.headers);if(t.auth){var n=t.auth.username||"",r=t.auth.password?decodeURI(encodeURIComponent(t.auth.password)):"";e.set("Authorization","Basic ".concat(btoa("".concat(n,":").concat(r))))}var o=t.method.toUpperCase(),i={headers:e,method:o};"GET"!==o&&"HEAD"!==o&&(i.body=t.data),t.mode&&(i.mode=t.mode),t.cache&&(i.cache=t.cache),t.integrity&&(i.integrity=t.integrity),t.redirect&&(i.integrity=t.redirect),t.referrer&&(i.referrer=t.referrer),(0,j.isUndefined)(t.withCredentials)||(i.credentials=t.withCredentials?"include":"omit");var a=T()(t.baseURL,t.url),c=A()(a,t.params,t.paramsSerializer);return new Request(c,i)}function H(t){return U.apply(this,arguments)}function U(){return(U=C()(R().mark((function t(e){var n,r,o;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=D(e),r=[M(n,e)],e.timeout&&e.timeout>0&&r.push(new Promise((function(t){setTimeout((function(){var r=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of ".concat(e.timeout,"ms exceeded");t(O()(r,e,"ECONNABORTED",n))}),e.timeout)}))),t.next=5,Promise.race(r);case 5:return o=t.sent,t.abrupt("return",new Promise((function(t,n){o instanceof Error?n(o):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,n,o):N()(t,n,o)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}u().defaults.headers.common[f.obn.X_SHOPBACK_AGENT]="sbconsumeragent/1.0",u().defaults.headers.common[f.obn.X_SHOPBACK_INTERNAL]="682a46b19b953306c9ee2e8deb0dc210",u().defaults.timeout=1e4;var z=function(){return u().create({adapter:H})},G=function(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{extension:{loggerEnabled:!0}},o=r.cc,i={headers:a()({},f.obn.X_SHOPBACK_DOMAIN,(0,h.Eu)(o))};return Promise.resolve().then((function(){return n.ignoreCC?Promise.resolve():function(t){return new Promise((function(e,n){(0,v.$A)(t)?e():n({errorCode:p.UNSUPPORTED_ERROR,message:"Fetch with unsupported CC: ".concat(t,".")})}))}(o)})).then((function(){return t(s()({method:e},i,n))})).catch((function(t){if(u().isCancel(t))return Promise.reject(t);var e=t.message,o=t.errorCode,i=n.url;return d.ZP.error(r,"".concat(e,", URL: ").concat(i)),t.response?function(t,e){if(E(t)&&e instanceof Error){var n,r=(null===(n=e.response)||void 0===n?void 0:n.data)||{};m.Tb(e,{extra:{responseBody:{error:JSON.stringify(r)}}})}}(r,t):o!==p.UNSUPPORTED_ERROR&&function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(t)&&(e instanceof Error?m.Tb(e,n):e.status?m.uT("Fetch Error: ".concat(e.status," ").concat(e.statusText,", URL: ").concat(e.url),n):"string"==typeof e?m.uT(e,n):m.uT(JSON.stringify(e),n))}(r,"".concat(e,", URL: ").concat(i)),Promise.reject(t)}))}},Z=n(1019),X=n(95346),V=n(14284);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W="throttlingLastFetchTime",Y={};V.Z.get(W).then((function(t){t&&(Y=t)}));const q=function(t){return t.interceptors.request.use((function(t){if(!t.throttling)return t;var e=t.throttling.throttlingInterval,n=t.throttling.throttlingKey||t.url,r=Y[n],o=new AbortController;return r&&Date.now()-r<e?o.abort():(Y[n]=Date.now(),V.Z.debounceSet(W,Y)),K(K({},t),{},{signal:o.signal})})),t};var J=function(t){var e,n,r="";if(null!==(e=t.response.data)&&void 0!==e&&e.errors&&t.response.data.errors.length>0)for(var o=0;o<t.response.data.errors.length;o+=1){var i=t.response.data.errors[o];"x-shopback-access-token"===i.param?r+="a, '".concat(i.value,"' "):"x-shopback-refresh-token"===i.param?r+="r, '".concat(i.value,"' "):r+="u, '".concat(i.value,"' ")}else r=null!==(n=t.response.data)&&void 0!==n&&n.error?t.response.data.error:"unknown error: ".concat(t.message);return r};var Q=function(t){return{get:o()(t,"GET"),post:o()(t,"POST"),put:o()(t,"PUT"),delete:o()(t,"DELETE"),patch:o()(t,"PATCH")}},$=Q((function(t,e,n,r){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")||(null==n?void 0:n.cc),i=(null==n?void 0:n.user)||{},a=i.token,c=i.refreshToken,u=!!a,l=z();return(l=q(l)).defaults.headers.common[f.obn.X_SHOPBACK_CLIENT_USER_AGENT]=navigator.userAgent||"extension",r&&l.interceptors.response.use(function(t,e,n){return function(r){var o=((null==r?void 0:r.data)||{}).newAccessToken;return o&&n&&(t((0,X.Vz)(o)),t((0,X.ol)({cc:e,accessToken:o}))),r}}(r,o,u),function(t,e){return function(n){var r;return 401===(null==n||null===(r=n.response)||void 0===r?void 0:r.status)&&(t((0,Z.trackSystemLogout)({logout_trigger:J(n),country_code:e})),t((0,X.kS)(e)),t((0,X.xD)({cc:e}))),Promise.reject(n)}}(r,o)),l.defaults.headers.common[f.obn.X_SHOPBACK_ACCESS_TOKEN]=a||null,l.defaults.headers.common[f.obn.X_SHOPBACK_REFRESH_TOKEN]=c||null,G(l)(t,e,n)})),tt=z();tt=q(tt);const et=Q(G(tt))},14284:
/*!*******************************************!*\
  !*** ./src/shared/utils/storage/index.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/classCallCheck */34575),u=n.n(c),l=n(/*! lodash/get */27361),s=n.n(l);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const d=new(a()((function t(){var e=this;u()(this,t),this.get=function(t){return browser.storage.local.get(t).then((function(e){return s()(e,t,{})})).catch((function(t){return console.error(t),{}}))},this.set=function(t,e){return browser.storage.local.set(o()({},t,e)).catch((function(t){return console.error(t)}))},this.debounceSet=function(t,n){e.debounceSetTimeout&&clearTimeout(e.debounceSetTimeout),e.debounceSetTimeout=setTimeout((function(){e.set(t,n)}),1e4)},this.update=function(t,n){return e.get(t).then((function(r){return e.set(t,p(p({},r),n))}))}})))},80351:
/*!*****************************************!*\
  !*** ./src/shared/utils/taoBaoUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{aT:()=>v,gc:()=>m,Sq:()=>_,L_:()=>E});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../actionCreators/application */19664),u=n(/*! ../constants */62620),l=n(/*! ../selectors/merchants */26846),s=n(/*! ../selectors/taoBao */11775),f=n(/*! ../urls */4536),p=n(/*! ./fetchUtils */63575),d=n(/*! ./runtimeMessageUtils */8439);function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==e&&n.call(b,a)&&(g=b);var _=m.prototype=d.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var l=f(t[r],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return i("throw",t,c,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=P(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function P(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),l(_,u,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t,e,n){var r={url:(0,f.iq)(e,t)};return p.Z.get(r,n).then((function(t){return t.data.hasCashback}))},m=function(){var t=a()(h().mark((function t(e,n,r){var o,i,a,f,p,v,m,g,y,b;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getState(),i=(0,l._t)(o,{url:n}),a=(0,s.oF)(o,{tabId:r}),!(i&&i.isTaobao&&a)){t.next=31;break}if(f=(0,s.Vj)(o),p=f.aiTaoBaoSearchPattern,v=f.unidCodes,new RegExp(p).test(n)){t.next=8;break}return t.abrupt("return",!1);case 8:if(m=new URL(n).searchParams.get("unid")){t.next=11;break}return t.abrupt("return",!1);case 11:if(m.startsWith(v.scenarioCodeHomepage)){t.next=13;break}return t.abrupt("return",!1);case 13:if(m=m.replace(v.scenarioCodeHomepage,v.scenarioCodeItem),g=o.taoBao.products[a]){t.next=17;break}return t.abrupt("return",!1);case 17:if(g.activateState===u.Km){t.next=19;break}return t.abrupt("return",!1);case 19:if(!g.redirectedToDeepLink){t.next=21;break}return t.abrupt("return",!1);case 21:return t.next=23,(0,d.TX)(a);case 23:if(y=t.sent){t.next=26;break}return t.abrupt("return",!1);case 26:return e.dispatch((0,c.GP)({productId:a,tabId:r})),(b=new URL(y)).searchParams.append("unid",m),window.location.replace(b.href),t.abrupt("return",!0);case 31:return t.abrupt("return",!1);case 32:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),g=function(t,e){return t.querySelector(e)},y=function(t,e){return t.querySelector(e)},b=function(t){if(!t)return"";var e=t.getAttribute("href");return e.startsWith("//")&&(e="https:".concat(e)),new URL(e).searchParams.get("id")||""},_=function(t,e,n){return t.map((function(t){return{productList:t,productInfo:y(t,n),productId:b(g(t,e)),cartId:(r=t.id,r.split("_")[2].trim())};var r}))},E=function(t){return!(!t||!("activateState"in t&&"hasCashback"in t||t.apiError))}},75611:
/*!**************************************!*\
  !*** ./src/shared/utils/urlUtils.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{oI:()=>i,NB:()=>c,gJ:()=>u,_d:()=>s,gN:()=>f,WW:()=>p});var r=n(/*! branch-sdk */87860),o=n.n(r),i=(n(/*! ./qs */31541),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(t)}catch(t){return null}}),a=function(t){var e=t.split(".");return e.length>2?e.slice(1).join("."):e.join(".")},c=function(t,e){if(!e)return!0;if(!e.length)return!1;try{var n=new URL(t).hostname,r=a(n);return e.some((function(t){var e=t.merchantUrlHostname,n=a(e);return r===n}))}catch(t){return!1}},u=function(t){return browser.runtime.getURL("images/".concat(t))},l=["newtab","new-tab-page"],s=function(t){return!!l.find((function(e){return null==t?void 0:t.includes(e)}))},f=function(t){if(t){var e=new URL(t);return(null==e?void 0:e.hostname)||""}return""},p=function(t){return new Promise((function(e,n){o().link(t,(function(t,r){r?e(r):n(t)}))}))}},19765:
/*!**************************************!*\
  !*** ./src/assets/shared/close3.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURVliclhjckdwTFtmelppeFtkdFlhdF1keFpidVhhdFtmdVpidKq1E4wAAAALdFJOU83YABkRrb8mu8cyIpXZoAAAAGJJREFUCNcVy7ENgCAARNEr6KgMJd3BAuAChLiDQ1g7hRu4gR00xoTlPKrf/Iezkow7DqOWF6lVRusQvGHpGUxts45g8OhZZRqOs2WY2WgXEWheRSArUiErYnBpZvrwZDXcP8pbFmKC8PywAAAAAElFTkSuQmCC"}}]);