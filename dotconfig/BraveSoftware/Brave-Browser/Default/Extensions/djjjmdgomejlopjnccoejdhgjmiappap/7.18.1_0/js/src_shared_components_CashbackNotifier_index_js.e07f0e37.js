"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["src_shared_components_CashbackNotifier_index_js"],{6175:
/*!*********************************************************************!*\
  !*** ./src/shared/components/CashbackNotifier/index.js + 6 modules ***!
  \*********************************************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var r=n(14293),o=n.n(r),i=n(45697),a=n(67294),c=n(65858),l=n(63535),s=n(7781),u=n(18855),p=n(6256),d=n(98666),f=n(26846),m=n(45887),h=n(59713),g=n.n(h),b=n(63038),v=n.n(b),_=n(23588),w=n(77959),y=n(20374),x=n(45633),k=n(25723),P=n(98496),C=n(46464),E=n(99899),I=n(62620),O=n(6172),j=n(77194),N=n(83582),T=n(49485),M=n(6688),S=n(96965),Z=n(53418),D=n(45786),B=n(20136),z=n(91228);const L=(0,_.ZP)(x.Z).withConfig({displayName:"ActivateButton",componentId:"shm8np-0"})(["&&{width:unset;white-space:nowrap;background:#ff3407;margin-left:10px;",";}"],(function(e){return e.isActivated?(0,_.iv)(["background:#e5faf1;color:#187f55;pointer-events:none;"]):""}));var A=_.ZP.div.withConfig({displayName:"NoCashback__Container",componentId:"j5xrp8-0"})(["&&{box-sizing:border-box;padding:12px 12px 0;}"]),F=_.ZP.div.withConfig({displayName:"NoCashback__Body",componentId:"j5xrp8-1"})(["&&{display:flex;flex-direction:column;align-items:start;}"]),R=(0,_.ZP)(B.xv).withConfig({displayName:"NoCashback__Title",componentId:"j5xrp8-2"})(["&&{font-weight:700;font-size:14px;line-height:16px;color:#898d9a;text-align:left;}"]),W=(0,_.ZP)(B.xv).withConfig({displayName:"NoCashback__Description",componentId:"j5xrp8-3"})(["&&{font-weight:400;font-size:12px;line-height:14px;color:#898d9a;text-align:left;margin-top:8px;}"]);const U=function(){var e=(0,a.useMemo)((function(){return browser.i18n.getMessage("no_cashback")}),[]),t=(0,a.useMemo)((function(){return browser.i18n.getMessage("no_cashback_subtitle")}),[]);return a.createElement(A,null,a.createElement(F,null,a.createElement(R,null,e),a.createElement(W,null,t)))};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=_.ZP.div.withConfig({displayName:"CashbackInfo__Container",componentId:"sc-1m106kt-0"})(["&&{padding:12px 0;}&& > div + div{margin-top:8px;}"]),J=_.ZP.div.withConfig({displayName:"CashbackInfo__Body",componentId:"sc-1m106kt-1"})(["&&{display:flex;flex-direction:row;justify-content:space-between;}&& > div + div{margin-left:5px;}"]),K=_.ZP.div.withConfig({displayName:"CashbackInfo__Info",componentId:"sc-1m106kt-2"})(["&&{display:flex;flex-direction:column;align-items:start;width:100%;padding:12px 12px 0;}&& > div + div{margin-top:8px;}"]),X=(0,_.ZP)(B.xv).withConfig({displayName:"CashbackInfo__LatestCashback",componentId:"sc-1m106kt-3"})(["&&{font-weight:bold;font-size:14px;line-height:24px;color:#212836;text-align:left;}"]),Y=(0,_.ZP)(B.xv).withConfig({displayName:"CashbackInfo__OldCashback",componentId:"sc-1m106kt-4"})(["&&{font-size:12px;line-height:14px;text-decoration-line:line-through;color:#6b7280;}"]),$=(0,_.ZP)(B.zl).withConfig({displayName:"CashbackInfo__StyledFlexRowContainer",componentId:"sc-1m106kt-5"})(["&&{justify-content:space-between;align-items:center;}"]),V=(0,_.ZP)(x.Z).withConfig({displayName:"CashbackInfo__RedirectActivateButton",componentId:"sc-1m106kt-6"})(["&&{background:#000000;user-select:none;width:initial;}"]),Q=function(e){var t,n,r,o,i=e.isPopup,l=(0,p.z)(),s=(0,c.v9)((function(e){return(0,m.jv)(e,{tabId:l})})),u=(0,c.v9)((function(e){return(0,f._t)(e,{url:s})})),d=(0,c.v9)((function(e){return(0,N.GM)(e,{merchant:u})})),h=(0,c.v9)((function(e){return(0,N.tm)(e,{merchant:u})})),g=h||d,b=(0,c.v9)((function(e){return(0,f.Ay)(e,{merchant:u})})),_=h?b:u,x=null!==(t=null==_?void 0:_.merchantId)&&void 0!==t?t:-1,B=(0,c.v9)((function(e){return(0,f.Mp)(e,{id:x})})),A=(0,c.v9)((function(e){return(0,M.vb)(e,{merchantId:x})||(0,S.v6)(e,{merchant:_})})),F=(0,c.v9)((function(e){return(0,D.jl)(e)})),R=(0,c.v9)(T.q),W=(0,S.EP)(_),q=(0,c.I0)(),Q=(0,a.useMemo)((function(){var e;return W?[Date.parse(null==_||null===(e=_.cashback)||void 0===e?void 0:e.activeTo)]:[]}),[null==_||null===(n=_.cashback)||void 0===n?void 0:n.activeTo,W]),ee=(0,P.Z)(Q),te=v()(ee,1)[0],ne=(0,a.useMemo)((function(){return W&&te>0}),[W,te]),re=(0,j.Z)().trackExtClickNotifier,oe=(0,c.v9)((function(e){return(0,f.WZ)(e,{merchant:_})})),ie=(0,c.v9)((function(e){return(0,Z.JR)(e,{tabId:l})})),ae=(0,w.u_)(),ce=(0,y.Z)(),le=(0,a.useCallback)((function(e){re(H(H({},oe),{},{screen_name:"side_panel_home_tab_cashback_component",feature_name:e,feature_type:"cta",merchant_id:ie,current_url:window.location.href}))}),[oe,ie,re]),se=(0,a.useCallback)((function(){le(F?"cashback_activate":"login_to_activate"),(0,z.xc)({merchant:_,isLoggedIn:F,utmMedium:F?O.jr:O.If,cc:R})}),[_,F,le,R]),ue=(0,a.useCallback)((function(){null==ae||ae(H(H({},ce),{},{screen_name:"home_merchant_cashback_details",affiliate_link_id:(null==_?void 0:_.affiliatedId)||null,ui_element_name:F?"merchant_cashback":"cashback_component",feature_name:F?"cashback_activate":"login_to_activate"}));var e=F?I.kLJ:I.yeY;(0,z.xc)({merchant:_,utmMedium:e,isLoggedIn:F,cc:R})}),[R,F,_,ae,ce]),pe=(0,a.useMemo)((function(){return g?browser.i18n.getMessage("notifier_cashback_activated"):F?browser.i18n.getMessage("menu_get_cashback"):browser.i18n.getMessage("menu_log_in_first")}),[g,F]),de=(0,a.useMemo)((function(){return!W||te>0?a.createElement(X,null,null==_?void 0:_.cashbackAmount):a.createElement(X,null,null==_?void 0:_.oldCashbackAmount)}),[_,te,W]),fe=(0,w.Il)(),me=(0,a.useCallback)((function(e){e.preventDefault(),_.isFollowed?q((0,C.ZX)({merchant:_,isShowToast:!0,toast:{iconName:"WatchListIcon",message:browser.i18n.getMessage("removed_from_your_watchlist")}})):q((0,C.U4)({merchant:_,isShowToast:!0,toast:{iconName:"WatchListIcon",textButton:browser.i18n.getMessage("go_to_watchlist"),message:browser.i18n.getMessage("added_to_your_watchlist")}})),fe(H(H(H({},oe),ce),{},{feature_type:null,screen_name:i?"home":"sidePanel",interact_type:_.isFollowed?"unfollow":"follow",merchant_id:null==_?void 0:_.merchantId,current_url:s,is_following:_.isFollowed}))}),[_,q,fe,i,s,oe,ce]),he=(0,w.XC)(),ge=(0,a.useCallback)((function(){he(H(H(H({},ce),oe),{},{screen_name:i?"home":"sidePanel",feature_type:null,feature_name:"follow",merchant_id:null==_?void 0:_.merchantId,current_url:s,is_following:_.isFollowed}))}),[he,i,_,s,ce,oe]);return a.createElement(G,null,a.createElement(E.Z,{merchant:_,isLoggedIn:F,url:s,tabId:l,onFollowButtonClick:me,screenName:i?"Popup":"SidePanel",style:{paddingLeft:"12px",paddingRight:"12px"},onFollowButtonHover:ge}),B?a.createElement(J,null,a.createElement(K,null,a.createElement($,{width:"100%"},de,A&&!g?a.createElement(V,{text:browser.i18n.getMessage("compliance_activation_btn_name"),handleButtonClick:function(){var e,t,n=u.sbWebMerchantUrl;ae(H(H({},ce),{},{screen_name:"home",affiliate_link_id:null!==(e=null==_||null===(t=_.affiliatedId)||void 0===t?void 0:t.toString())&&void 0!==e?e:null,ui_element_name:"merchant_cashback",feature_name:"go_to_shopback",feature_type:null})),browser.tabs.update(l,{url:n})}}):a.createElement(L,{isActivated:g,handleButtonClick:i?ue:se,text:pe})),ne&&a.createElement(a.Fragment,null,a.createElement(Y,null,null==_||null===(r=_.oldCashback)||void 0===r?void 0:r.description),a.createElement(k.Z,{activeTo:null==_||null===(o=_.cashback)||void 0===o?void 0:o.activeTo,remainingTime:te})))):a.createElement(U,null))};Q.propTypes={isPopup:i.bool},Q.defaultProps={isPopup:!1};const ee=Q;var te=n(33999);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=e.svgStyle,n=e.up;return a.createElement("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:re({},t)},n?a.createElement("path",{d:"M0.862061 6L5.86206 0L10.8621 6H0.862061Z",fill:"#6B7280"}):a.createElement("path",{d:"M0 0.95726L5 6.90598L10 0.95726H0Z",fill:"#6B7280"}))};oe.propTypes={svgStyle:i.object,up:i.bool},oe.defaultProps={svgStyle:null,up:!1};const ie=oe;var ae=browser.runtime.getURL("images/cashbackTiers/cashback-people.png"),ce=browser.runtime.getURL("images/cashbackTiers/cashback-people-2x.png");const le=_.ZP.div.withConfig({displayName:"PeopleIcon",componentId:"jlbokh-0"})(["&&{width:155px;height:51px;background-image:url(",");background-image:image-set(url(",") 1x,url(",") 2x);margin:16px auto 0;}"],ae,ae,ce);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=(0,_.ZP)(B.xv).withConfig({displayName:"CashbackTiers__TiersButton",componentId:"kltvso-0"})(["&&{height:32px;font-weight:500;font-size:12px;line-height:14px;color:#6b7280;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;}&& > svg{margin-left:6px;}"]),de=(0,_.ZP)(B.x1).withConfig({displayName:"CashbackTiers__StyledLine",componentId:"kltvso-1"})(["&&{border-top:1px solid #efeff1;width:100%;height:0;box-sizing:border-box;position:absolute;z-index:11;display:",";}"],(function(e){return e.visible?"block":"none"})),fe=_.ZP.div.withConfig({displayName:"CashbackTiers__TiersContainer",componentId:"kltvso-2"})(["&&{width:100%;flex-direction:column;align-items:start;padding:12px 12px 0 12px;position:absolute;z-index:11;background:#ffffff;box-shadow:0px 7px 12px 0px rgb(0 0 0 / 5%);display:",";box-sizing:border-box;border-radius:0 0 16px 16px;}"],(function(e){return e.visible?"flex":"none"})),me=_.ZP.div.withConfig({displayName:"CashbackTiers__Title",componentId:"kltvso-3"})(["&&{font-weight:bold;font-size:14px;line-height:16px;color:#40485a;}"]),he=_.ZP.div.withConfig({displayName:"CashbackTiers__DetailContainer",componentId:"kltvso-4"})(["&&{display:flex;flex-direction:column;align-items:start;margin-top:12px;width:100%;}"]),ge=_.ZP.div.withConfig({displayName:"CashbackTiers__DataRow",componentId:"kltvso-5"})(["&&{display:flex;flex-direction:row;justify-content:space-between;width:100%;margin-top:8px;}&&:first-child{margin-top:0;}"]),be=(0,_.ZP)(B.xv).withConfig({displayName:"CashbackTiers__CashbackItem",componentId:"kltvso-6"})(["&&{font-size:12px;line-height:14px;color:#212836;width:206px;text-align:start;}"]),ve=(0,_.ZP)(B.xv).withConfig({displayName:"CashbackTiers__CashbackRate",componentId:"kltvso-7"})(["&&{font-size:12px;line-height:14px;color:#ff3407;}"]),_e=function(e){var t=e.isPopup,n=(0,a.useState)(!1),r=v()(n,2),o=r[0],i=r[1],l=(0,te.w)(),s=(0,c.v9)((function(e){return(0,f._t)(e,{url:l})})),u=(0,c.v9)((function(e){return(0,N.tm)(e,{merchant:s})})),d=(0,c.v9)((function(e){return(0,f.Ay)(e,{merchant:s})})),m=(0,c.v9)((function(e){return(0,f._P)(e,{url:l})})),h=(0,c.v9)((function(e){return(0,f.u7)(e,{id:m})}));h=u?d.cashbackTiers:h;var g=(0,p.z)(),b=(0,w.Il)(),_=(0,y.Z)(),x=(0,j.Z)().trackExtClickNotifier,k=!!parseFloat(null==d?void 0:d.cashback.amount)||!1,P=(0,c.v9)((function(e){return(0,Z.JR)(e,{tabId:g})})),C=(0,c.v9)((function(e){return(0,Z.$K)(e,{tabId:g})})),E=(0,a.useRef)(),I=function(e){null!=E&&E.current&&E.current.contains(e.target)||i(!1)};(0,a.useEffect)((function(){return document.addEventListener("click",I),function(){document.removeEventListener("click",I)}}),[]);var O=(0,a.useCallback)((function(){t?null==b||b(ue(ue({},_),{},{ui_element_name:"cashback_component",feature_name:"view_all_rates",interact_type:"see_all",feature_type:"cta"})):x({merchant_id:P,merchant_name:C,is_affiliate_merchant:k,current_url:window.location.href,feature_name:"view_all_rates",feature_type:"cta",screen_name:"side_panel_home_tab_cashback_component"})}),[t,_,P,C,k,x,b]);return 0===h.length?null:a.createElement("div",{ref:E},a.createElement(de,{visible:!0}),a.createElement(pe,{onClick:function(){i((function(e){return!1===e&&O(),!e}))}},browser.i18n.getMessage("notifier_view_all_rates"),a.createElement(ie,{up:o})),a.createElement(de,{visible:o}),a.createElement(fe,{visible:o},a.createElement(me,null,browser.i18n.getMessage("notifier_cashback_tiers_title")),a.createElement(he,null,h.map((function(e){var t=e.name,n=e.amount;return a.createElement(ge,{key:t},a.createElement(be,null,t),a.createElement(ve,null,n))})),a.createElement(le,null))))};_e.propTypes={isPopup:i.bool},_e.defaultProps={isPopup:!1};const we=_e;var ye=function(e){var t=e.isPopup,n=e.selfTabIndex,r=e.selfContentIndex,i=e.store,h=(0,p.z)(),g=(0,c.v9)((function(e){return(0,m.jv)(e,{tabId:h})})),b=(0,c.v9)((function(e){return(0,f._t)(e,{url:g})})),v=(0,l.Z)(n,r),_=(0,d.Z)(b,{shouldDisplayIn:u.Gy.MERCHANT}),w=_.shouldDisplay,y=_.isMerchantInExperiment;return!w&&y||t&&o()(b)?null:a.createElement(s.Z,{ref:v},a.createElement(ee,{isPopup:t,store:i}),a.createElement(we,{isPopup:t}))};ye.propTypes={isPopup:i.bool,selfTabIndex:i.number.isRequired,selfContentIndex:i.number.isRequired,store:i.object},ye.defaultProps={isPopup:!1,store:{}};const xe=a.memo(ye)},25723:
/*!*******************************************************!*\
  !*** ./src/shared/components/CountdownTimer/index.js ***!
  \*******************************************************/(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! lodash/isEmpty */41609),l=n.n(c),s=n(/*! prop-types */45697),u=n(/*! react */67294),p=n(/*! styled-components */23588),d=n(/*! ../../styledComponents */20136);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={color:"#cf3030"},g={color:"#794D24"},b={color:"#404859"},v=(0,p.ZP)(d.xv).withConfig({displayName:"CountdownTimer__Container",componentId:"sc-1vxvtph-0"})(["&&{padding:2px 8px;border-radius:10px;font-weight:bold;font-size:10px;line-height:12px;}"]),_=function(e){var t=e.activeTo,n=e.customStyle,r=e.remainingTime,o=(0,u.useState)(null),i=a()(o,2),c=i[0],s=i[1],p=(0,u.useState)({}),d=a()(p,2),f=d[0],_=d[1],w=(0,u.useCallback)((function(){if(r<=0)return{};var e=Math.floor(r/1e3%60),n=Math.floor(r/6e4%60),o=Math.floor(r/36e5%24),i=Math.floor(r/864e5),a=new Date(t);return{formattedDate:"".concat(a.toLocaleDateString("en-SG",{month:"long",day:"2-digit"}),", ").concat(a.getFullYear()),days:i,hours:o,minutes:n,seconds:e}}),[t,r]),y=(0,u.useCallback)((function(){if(!(r<=0)){var e=w(),t=e.days,n=e.hours,o=e.minutes,i=e.seconds,a=e.formattedDate;return 0===t&&0===n?(_(h),59===o&&i>0?void s(browser.i18n.getMessage("ends_in_x_hours","1")):59===o&&0===i?void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(o))):void s(browser.i18n.getMessage("ends_in_x_minutes","".concat(o+1)))):0===t&&n>=1?(s(browser.i18n.getMessage("ends_in_x_hours","".concat(n))),void _(h)):t>=1&&t<=7?(s(browser.i18n.getMessage("ends_in_x_days","".concat(t))),void _(g)):void(t>7&&(s(browser.i18n.getMessage("ends_on_x",a)),_(b)))}}),[w,r]);return(0,u.useEffect)((function(){y()}),[y]),l()(t)||l()(c)||r<=0?null:u.createElement(v,{style:m(m({},f),n)},c)};_.propTypes={customStyle:s.object,activeTo:s.string,remainingTime:s.number},_.defaultProps={customStyle:null,activeTo:null,remainingTime:0};const w=_},98496:
/*!*******************************************************************!*\
  !*** ./src/shared/components/CountdownTimer/useCountdownTimer.js ***!
  \*******************************************************************/(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(/*! @babel/runtime/helpers/slicedToArray */63038),o=n.n(r),i=n(/*! lodash/isArray */1469),a=n.n(i),c=n(/*! lodash/isEmpty */41609),l=n.n(c),s=n(/*! lodash/isFunction */23560),u=n.n(s),p=n(/*! react */67294);const d=function(e,t){if(!a()(e))throw new Error("endTimes should be array, instead of ".concat(e));var n=(0,p.useState)([]),r=o()(n,2),i=r[0],c=r[1],s=(0,p.useMemo)((function(){return!l()(e)&&e.some((function(e){return e>Date.now()}))}),[e]),d=(0,p.useRef)(),f=(0,p.useCallback)((function(){var n=e.map((function(e){return e?e<0?e:e-Date.now():1}));c(n),n.every((function(e){return e<0}))&&clearInterval(d.current),u()(t)&&t(n.map((function(e,t){return e<=0?t:null})).filter((function(e){return null!==e})))}),[t,e]);return(0,p.useEffect)((function(){return f(),s&&(d.current=setInterval(f,1e3)),function(){return clearInterval(d.current)}}),[s,f]),i}},85352:
/*!************************************************!*\
  !*** ./src/shared/components/Spinner/index.js ***!
  \************************************************/(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=n(/*! styled-components */23588),a=(0,i.F4)(["100%{transform:rotate(360deg);}"]),c=(0,i.F4)(["0%{stroke-dasharray:1,150;stroke-dashoffset:0;}50%{stroke-dasharray:90,150;stroke-dashoffset:-35;}100%{stroke-dasharray:90,150;stroke-dashoffset:-124;}"]),l=i.ZP.svg.attrs((function(e){var t=e.size;return{viewBox:"0 0 ".concat(t," ").concat(t)}})).withConfig({displayName:"Spinner__StyledSpinner",componentId:"iwbj2y-0"})(["&&{width:","px;height:","px;margin:auto !important;animation:"," 2s linear infinite;will-change:transform;position:relative !important;}&& > circle{stroke:",";stroke-linecap:round;animation:"," 1.5s ease-in-out infinite;will-change:stroke-dasharray,stroke-dashoffset;stroke-width:",";}"],(function(e){return e.size}),(function(e){return e.size}),a,(function(e){return e.color}),c,(function(e){var t=e.strokeWidth;return"".concat(t,"px")})),s=function(e){var t=e.size,n=e.strokeWidth,r=e.color,i=void 0===r?"#ff4e4e":r;return o.createElement(l,{size:t,color:i,strokeWidth:n},o.createElement("circle",{fill:"none",cx:t/2,cy:t/2,r:t/2-n-1,strokeWidth:n}))};s.propTypes={size:r.number,strokeWidth:r.number,color:r.string},s.defaultProps={size:50,strokeWidth:4,color:"#ff4e4e"};const u=s},46464:
/*!*************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/index.js ***!
  \*************************************************************************/(e,t,n)=>{n.d(t,{U4:()=>r.U4,ZX:()=>r.ZX});var r=n(/*! ./merchants */57497);n(/*! ./tabs */67930)},57497:
/*!*****************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/merchants.js ***!
  \*****************************************************************************/(e,t,n)=>{n.d(t,{LV:()=>o,U4:()=>i,ZX:()=>a,MW:()=>c});var r=n(/*! ../../../constants/merchants */91227),o=function(){return{type:r.nz}},i=function(e){return{type:r.bI,payload:e}},a=function(e){return{type:r.Y4,payload:e}},c=function(){return{type:r.s1}}},67930:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchListMerchant/actionCreators/tabs.js ***!
  \************************************************************************/(e,t,n)=>{n.d(t,{g:()=>o});var r=n(/*! ../../../constants/tabs */18855),o=function(e){var t=e.openUrl,n=e.active,o=e.autoClose,i=void 0===o||o;return{type:r.Th,openUrl:t,active:n,autoClose:i}}},99899:
/*!************************************************************************!*\
  !*** ./src/shared/components/WatchMerchantBanner/index.js + 9 modules ***!
  \************************************************************************/(e,t,n)=>{n.d(t,{Z:()=>oe});var r=n(28655),o=n.n(r),i=n(14293),a=n.n(i),c=n(45697),l=n(67294),s=n(65858),u=n(23588),p=n(67154),d=n.n(p),f=n(63038),m=n.n(f),h=n(6479),g=n.n(h),b=["src","alt","loading","fallback"],v=function(e){var t=e.src,n=e.alt,r=e.loading,o=e.fallback,i=g()(e,b),a=(0,l.useState)(!0),c=m()(a,2),s=c[0],u=c[1],p=(0,l.useState)(!1),f=m()(p,2),h=f[0],v=f[1];return l.createElement(l.Fragment,null,s&&r,h?o:l.createElement("img",d()({src:t,alt:n,onError:function(){return v(!0)},onLoad:function(){return u(!1)}},i)))};v.propTypes={src:c.string.isRequired,alt:c.string,fallback:c.node,loading:c.node},v.defaultProps={alt:"",fallback:null,loading:null};const _=l.memo(v);var w=n(85352),y=n(21024),x=n(40062),k=n(45786),P=n(59713),C=n.n(P);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.svgStyle,n=e.pathStyle;return l.createElement("svg",{width:"15",height:"15",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:I({},t)},l.createElement("path",{d:"M14.162 2.50451C12.6 0.942508 10.0673 0.942508 8.50535 2.50451C8.31268 2.69717 8.14535 2.90451 8.00068 3.12251C7.85601 2.90451 7.68801 2.69651 7.49601 2.50451C5.93401 0.942508 3.40135 0.942508 1.83935 2.50451C0.277347 4.06651 0.277347 6.59917 1.83935 8.16117L8.00001 14.3232L14.162 8.16117C15.724 6.59917 15.724 4.06651 14.162 2.50451Z",style:I({},n),strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))}O.propTypes={svgStyle:c.object,pathStyle:c.object},O.defaultProps={svgStyle:{},pathStyle:{fill:"#404859",stroke:"#404859"}};const j=O;var N=n(43126),T=n(90830),M=n(20136),S=(0,u.ZP)(M.xv).withConfig({displayName:"SimpleTippyText__TextContainer",componentId:"sc-5fksx3-0"})(["&&{font-size:14px;font-weight:400;color:#ffffff;text-align:",";line-height:20px !important;padding:12px !important;background:#212836;border-radius:12px;box-sizing:border-box;max-width:280px !important;}"],(function(e){return e.textAlign||"center"})),Z=u.ZP.div.withConfig({displayName:"SimpleTippyText__Arrow",componentId:"sc-5fksx3-1"})(["&&{width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #212836;top:-8px;}"]);function D(e){var t=e.content,n=e.children,r=e.textAlign,o=e.zIndex,i=e.placement,a=e.appendTo,c=e.visible,s=e.onTrigger,u=(0,l.useState)(null),p=m()(u,2),f=p[0],h=p[1],g=(0,l.useCallback)((function(e){return l.createElement(S,d()({},e,{textAlign:r}),t,l.createElement(Z,{ref:h}))}),[t,r]);return c?l.createElement(N.ZP,{appendTo:a,placement:i,zIndex:o,offset:[-15,10],render:g,popperOptions:{modifiers:[{name:"arrow",options:{element:f}}]},onTrigger:s},n):n}D.propTypes={content:c.string.isRequired,children:c.node,textAlign:c.string,zIndex:c.number,placement:c.string,appendTo:(0,c.oneOfType)([c.string,c.func]),visible:c.bool,onTrigger:c.func},D.defaultProps={children:null,textAlign:"center",zIndex:T.Z,placement:"top",appendTo:"parent",visible:!0,onTrigger:void 0};const B=D;var z,L=n(22222),A=(0,L.P1)((function(e,t){return t.merchant}),(function(e){return null==e?void 0:e.isFollowed})),F=function(e){return e.settings},R=((0,L.P1)(F,(function(e){return e.orcaMerchants})),(0,L.P1)([F,function(e,t){return t.currentUrl}],(function(e,t){var n=new URL(t).hostname,r=e.orcaMerchants.find((function(e){return e.merchantUrlHostname===n}));return null==r?void 0:r.merchantLogoUrl}))),W=n(27361),U=n.n(W),q=(0,L.P1)((function(e){return e.priceComparison}),(function(e){return e.tabs})),H=(0,L.P1)(q,(function(e,t){return t.tabId}),(function(e,t){return e[t]})),G=(0,L.P1)(H,(function(e){return U()(e,"merchantName")})),J=(0,L.P1)((function(e){return e.tabs}),(function(e,t){return t.tabId}),(function(e,t){return e[t]})),K=(0,L.P1)(J,(function(e){return U()(e,"merchantName",null)})),X=(0,L.P1)(K,G,(function(e,t){return e||t})),Y=(0,u.vJ)(z||(z=o()(["\n  #ShopBack-WatchMerchantBanner,\n  #ShopBack-WatchMerchantBanner * {\n    box-sizing: border-box !important;\n  }\n  section#ShopBack-WatchMerchantBanner {\n    margin: 0;\n    border-bottom: 1px solid #efeff1;\n  }\n"]))),$=u.ZP.section.withConfig({displayName:"WatchMerchantBanner__Container",componentId:"sc-1mdlqa9-0"})(["&&{display:flex;align-items:center;padding-bottom:12px !important;width:100%;box-sizing:border-box;border-bottom:",";background:#ffffff;}"],(function(e){return"SidePanel"!==e.screenName?"1px solid #f7f7f8":"0"})),V=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerTitle",componentId:"sc-1mdlqa9-1"})(["&&{flex:1;height:24px;font-size:12px;line-height:20px !important;font-weight:600;}"]),Q=(0,u.ZP)(_).withConfig({displayName:"WatchMerchantBanner__ContainerTitleImg",componentId:"sc-1mdlqa9-2"})(["&&{width:auto;max-height:100%;object-fit:contain;object-position:left;display:inline-block;vertical-align:top;position:relative;top:50%;transform:translateY(-50%);}"]),ee=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__ContainerButton",componentId:"sc-1mdlqa9-3"})(["&&{flex:0 1 auto;}"]),te=u.ZP.button.withConfig({displayName:"WatchMerchantBanner__FollowButton",componentId:"sc-1mdlqa9-4"})(["&&{padding:4px 12px !important;background:#f1f6fe !important;border-radius:12px !important;color:#266bd9 !important;box-shadow:none !important;border:none !important;display:flex;align-items:center;cursor:pointer;user-select:none;box-sizing:border-box;min-width:76px;display:flex;justify-content:center;position:relative !important;}&&:hover,&&:focus{border:none !important;}"]),ne=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonIcon",componentId:"sc-1mdlqa9-5"})(["&&{width:12px !important;height:12px !important;margin-right:5px !important;position:relative !important;}"]),re=u.ZP.div.withConfig({displayName:"WatchMerchantBanner__FollowButtonText",componentId:"sc-1mdlqa9-6"})(["&&{font-weight:700 !important;font-size:12px !important;line-height:16px !important;}"]);function oe(e){var t=e.merchant,n=e.url,r=e.tabId,o=e.onFollowButtonClick,i=void 0===o?void 0:o,c=e.onFollowButtonHover,u=void 0===c?void 0:c,p=e.style,d=void 0===p?{}:p,f=e.screenName,m=void 0===f?"":f,h=(0,s.v9)(k.jl),g=(0,s.v9)((function(e){return A(e,{merchant:t})})),b=(0,s.v9)((function(e){return X(e,{tabId:r})})),v=(0,s.v9)(x.OU),_=(0,s.v9)((function(e){return R(e,{currentUrl:n})})),P=(0,s.v9)((function(e){return(0,y.Kh)(e,{tabId:r})})),C=(0,l.useMemo)((function(){return(null==t?void 0:t.logoUrl)||(null==t?void 0:t.logoUrl)||P||_}),[t,P,_]);if(!t&&!C)return null;var E=browser.i18n.getMessage("follow_merchant_button_tooltip",[(null==t?void 0:t.name)||""]);return l.createElement($,{id:"ShopBack-WatchMerchantBanner",style:d,screenName:m},l.createElement(Y,null),l.createElement(V,null,l.createElement(Q,{src:C,alt:b})),h&&!a()(t)&&v?l.createElement(ee,null,t.isLoading?l.createElement(te,null,l.createElement(w.Z,{size:16,color:"#266BD9",strokeWidth:2})):l.createElement(B,{placement:"bottom",textAlign:"left",content:E,onTrigger:u},l.createElement(te,{onClick:i},l.createElement(ne,null,l.createElement(j,{svgStyle:{width:12,height:12,verticalAlign:"top"},pathStyle:{fill:g?"#266BD9":"#F1F6FE",stroke:"#266BD9"}})),l.createElement(re,null,g?browser.i18n.getMessage("following"):browser.i18n.getMessage("follow"))))):null)}oe.propTypes={merchant:c.object,url:c.string.isRequired,tabId:c.number.isRequired,onFollowButtonClick:c.func,onFollowButtonHover:c.func,style:c.object,screenName:c.string},oe.defaultProps={merchant:null,onFollowButtonClick:void 0,onFollowButtonHover:void 0,style:{},screenName:""}},6172:
/*!*******************************************!*\
  !*** ./src/shared/constants/sidePanel.js ***!
  \*******************************************/(e,t,n)=>{n.d(t,{Jc:()=>c,EU:()=>l,gq:()=>s,NJ:()=>u,n3:()=>p,jr:()=>d,If:()=>f});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a=n(/*! ./tabs */18855),c="SIDE_PANEL/VISIT_SIDE_PANEL",l="SIDE_PANEL/OPEN_SIDE_PANEL",s="SIDE_PANEL/CLOSE_SIDE_PANEL",u="SIDE_PANEL/CHANGE_SIDE_PANEL_LOGO_POSITION",p=(r={},i()(r,a.Sd,{screenName:"side_panel_product_tab",featureName:"product_tab"}),i()(r,a.si,{screenName:"side_panel_saved_tab",featureName:"saved_tab"}),r),d="be_sidepanel_cashbacknotifier",f="be_sidepanel_logintoactivate"},98666:
/*!******************************************************!*\
  !*** ./src/shared/hooks/useMerchantOffExperiment.js ***!
  \******************************************************/(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(/*! react-redux */65858),o=n(/*! ../constants/tabs */18855),i=n(/*! ../selectors/activation */83582),a=n(/*! ../selectors/experiments */6688);const c=function(e,t){var n,c=t.shouldDisplayIn,l=null!==(n=null==e?void 0:e.merchantId)&&void 0!==n?n:null,s=(0,r.v9)((function(e){return(0,a.Zb)(e,{merchantId:l})})),u=(0,r.v9)((function(e){return(0,a.vb)(e,{merchantId:l})}));return(0,r.v9)((function(t){return(0,i.tm)(t,{merchant:e})||(0,i.GM)(t,{merchant:e})}))?c===o.Gy.MERCHANT:s?u?{isMerchantInExperiment:!0,shouldDisplay:c===o.Gy.MERCHANT}:{isMerchantInExperiment:!0,shouldDisplay:c===o.Gy.NON_MERCHANT}:e?{isMerchantInExperiment:!1,shouldDisplay:c===o.Gy.MERCHANT}:{isMerchantInExperiment:!1,shouldDisplay:c===o.Gy.NON_MERCHANT}}},53418:
/*!*******************************************!*\
  !*** ./src/shared/selectors/sidePanel.js ***!
  \*******************************************/(e,t,n)=>{n.d(t,{dg:()=>l,W6:()=>u,gg:()=>p,c3:()=>d,fK:()=>f,QA:()=>m,KG:()=>h,eA:()=>g,pI:()=>b,$K:()=>v,JR:()=>_});var r=n(/*! reselect */22222),o=n(/*! ./priceComparison */87142),i=n(/*! ./priceHistory */21024),a=n(/*! ./tabs */45887),c=function(e){return null==e?void 0:e.sidePanel},l=(0,r.P1)(c,(function(e){return null==e?void 0:e.tabConfigs})),s=(0,r.P1)(c,(function(e){return e.settings})),u=(0,r.P1)(s,(function(e){return!(null!=e&&e.minimizedSidePanel)})),p=(0,r.P1)(s,(function(e){return null==e?void 0:e.isMessagePromptOpen})),d=(0,r.P1)(s,(function(e){return null==e?void 0:e.message})),f=(0,r.P1)(s,(function(e){return null==e?void 0:e.visited})),m=(0,r.P1)(s,(function(e){return null==e?void 0:e.position})),h=(0,r.P1)(o.l8,i.hY,(function(e,t){return e||t})),g=(0,r.P1)(s,(function(e){var t;return null!==(t=null==e?void 0:e.snoozed)&&void 0!==t?t:{}})),b=(0,r.P1)(s,(function(e){var t;return null!==(t=null==e?void 0:e.minimizedSidePanel)&&void 0!==t&&t})),v=(0,r.P1)(a.f9,o.$K,(function(e,t){return e||t})),_=(0,r.P1)(a.k3,o.KI,(function(e,t){return e||t}))}}]);