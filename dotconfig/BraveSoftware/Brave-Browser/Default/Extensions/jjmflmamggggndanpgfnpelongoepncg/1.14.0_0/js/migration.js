function boolean(e){return"true"===e||"false"!==e&&Boolean(e)}function b(e,o){return boolean(localStorage[e]||o)}function migrate_to_chrome_storage(){chrome.storage.sync.get("migration",function(e){e.migration?console.log("Migration from localStorage already happened in another computer"):(console.log("Migrate localStorage data to Chrome Storage Sync"),e={dismissals:JSON.parse(localStorage.dismissals||"[]"),profiles:JSON.parse(localStorage.profiles||"{}"),showHeader:b("showHeader",!0),groupApps:b("groupApps",!0),appsFirst:b("appsFirst",!1),enabledFirst:b("enabledFirst",!1),searchBox:b("searchBox",!0),migration:"1.4.0"},chrome.storage.sync.set(e,function(){localStorage.removeItem("dismissals"),localStorage.removeItem("profiles"),localStorage.removeItem("toggled"),localStorage.removeItem("showHeader"),localStorage.removeItem("groupApps"),localStorage.removeItem("appsFirst"),localStorage.removeItem("enabledFirst"),localStorage.removeItem("searchBox")}))})}chrome.runtime.onInstalled.addListener(function(e){"update"==e.reason&&e.previousVersion<"1.4.0"&&migrate_to_chrome_storage()});
