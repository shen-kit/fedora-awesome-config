document.addEventListener("DOMContentLoaded",function(){function c(){this.q=ko.observable("")}function u(e,n,t){function o(e){return!i.opts.keepAlwaysOn()||!_(i.profiles.always_on().items()).contains(e.id())}var i=this;i.exts=e,i.profiles=n,i.opts=t,i.toggled=ko.observableArray().extend({persistable:"toggled"}),i.any=ko.computed(function(){return 0<i.toggled().length}),i.toggleStyle=ko.pureComputed(function(){return i.any()?"fa-toggle-off":"fa-toggle-on"}),i.flip=function(){i.any()?(_(i.toggled()).each(function(e){try{i.exts.find(e).enable()}catch(e){}}),i.toggled([])):(i.toggled(i.exts.enabled.pluck()),i.exts.enabled.disable(o))}}function e(){function e(e){return!s.opts.searchBox()||!s.search.q()||-1!==e.name().toUpperCase().indexOf(s.search.q().toUpperCase())}function n(e){return!e.reserved()||s.opts.showReserved()&&e.hasItems()}function t(e){return s.profiles.favorites().contains(e)}function o(e){return e.name().toUpperCase()}function i(e){return s.opts.enabledFirst()&&!e.status()}var s=this,l=(s.profiles=new ProfileCollectionModel,s.exts=new ExtensionCollectionModel,s.opts=new OptionsCollection,s.dismissals=new DismissalsCollection,s.switch=new u(s.exts,s.profiles,s.opts),s.search=new c,s.activeProfile=ko.observable().extend({persistable:"activeProfile"}),s.openChromeExtensions=function(){l("chrome://extensions")},s.launchApp=function(e){chrome.management.launchApp(e.id())},s.launchOptions=function(e){chrome.tabs.create({url:e.optionsUrl(),active:!0})},s.listedExtensions=ko.computed(function(){return _(s.exts.extensions()).chain().filter(e).sortBy(o).sortBy(i).value()}).extend({countable:null}),s.listedApps=ko.computed(function(){return _(s.exts.apps()).filter(e)}).extend({countable:null}),s.listedItems=ko.computed(function(){return _(s.exts.items()).filter(e)}).extend({countable:null}),s.listedProfiles=ko.computed(function(){return _(s.profiles.items()).filter(n)}).extend({countable:null}),s.listedFavorites=ko.computed(function(){return _(s.exts.extensions()).chain().filter(t).filter(e).sortBy(o).sortBy(i).value()}).extend({countable:null}),s.emptyItems=ko.pureComputed(function(){return s.listedApps.none()&&s.listedExtensions.none()}),s.setProfile=function(e){s.activeProfile(e.name());var e=_.union(e.items(),s.profiles.always_on().items()),n=_.intersection(s.exts.disabled.pluck(),e),e=_.difference(s.exts.enabled.pluck(),e);_(n).each(function(e){s.exts.find(e).enable()}),_(e).each(function(e){s.exts.find(e).disable()})},s.unsetProfile=function(){s.activeProfile(void 0)},s.toggleExtension=function(e){e.toggle(),s.unsetProfile()},function(e){chrome.tabs.create({url:e}),r()}),r=function(){window.close()};ko.computed(function(){return s.dismissals.dismissed("profile_page_viewed")||s.profiles.any()})}_.defer(function(){vm=new e,ko.bindingProvider.instance=new ko.secureBindingsProvider({}),ko.applyBindings(vm,document.body)}),window.setTimeout(function(){document.getElementById("workaround-307912").style.display="block"},0)});
